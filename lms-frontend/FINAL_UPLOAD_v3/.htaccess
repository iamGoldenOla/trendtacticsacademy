RewriteEngine On

# 1. Handle actual files/directories first (standard optimization)
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 2. Redirect /courses to all-courses.html (The NEW separate list page)
RewriteRule ^courses/?$ /all-courses.html [L]

# 3. Redirect /dashboard to student-dashboard.html (The NEW separate dashboard)
RewriteRule ^dashboard/?$ /student-dashboard.html [L]

# 4. Handle course details
# If user visits /course.html directly, it works.
# If user visits /course/ID, map it to course.html?id=ID
RewriteRule ^course/([^/]+)/?$ /course.html?id=$1 [L,QSA]

# 5. Fix mime types if needed
<IfModule mod_mime.c>
  AddType text/javascript .js
  AddType text/css .css
</IfModule>

# 6. Fallback for html extension removal
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^([^/]+)/?$ $1.html [L]

# 7. Fallback for errors
ErrorDocument 404 /404.html
