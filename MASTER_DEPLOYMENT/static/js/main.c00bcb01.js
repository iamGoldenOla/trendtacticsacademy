/*! For license information please see main.c00bcb01.js.LICENSE.txt */
(()=>{"use strict";var e={43(e,t,r){e.exports=r(202)},153(e,t,r){var n=r(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202(e,t){var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,a={},o=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:r,type:e,key:o,ref:i,props:a,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,s,a,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+E(l,0):a,w(o)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),T(o,t,s,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+E(i=e[c],c);l+=T(i,t,s,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,s,d=a+E(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,r){if(null==e)return e;var n=[],s=0;return T(e,n,"","",function(e){return t.call(r,e,s++)}),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},P={transition:null},I={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=s,t.Profiler=o,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:r,type:e.type,key:a,ref:o,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,r){return A.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,r){return A.current.useReducer(e,t,r)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return A.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234(e,t){function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,o=s>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>a(l,r))c<s&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<s&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(g=!1,y(e),!f)if(null!==n(c))f=!0,P(j);else{var t=n(d);null!==t&&I(w,t.startTime-e)}}function j(e,r){f=!1,g&&(g=!1,b(_),_=-1),p=!0;var a=m;try{for(y(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,m=h.priorityLevel;var i=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===n(c)&&s(c),y(r)}else s(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&I(w,u.startTime-r),l=!1}return l}finally{h=null,m=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,S=null,_=-1,C=5,E=-1;function T(){return!(t.unstable_now()-E<C)}function O(){if(null!==S){var e=t.unstable_now();E=e;var r=!0;try{r=S(!0,e)}finally{r?k():(N=!1,S=null)}}else N=!1}if("function"===typeof v)k=function(){v(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=O,k=function(){A.postMessage(null)}}else k=function(){x(O,0)};function P(e){S=e,N||(N=!0,k())}function I(e,r){_=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,P(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,s,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>o?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(g?(b(_),_=-1):g=!0,I(w,a-o))):(e.sortIndex=i,r(c,e),f||p||(f=!0,P(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},391(e,t,r){var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},432(e,t){},579(e,t,r){e.exports=r(153)},730(e,t,r){var n=r(43),s=r(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,r,n,s,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,r,n){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,n)&&(r=null),n||null===s?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,n=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,M=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=n.stack.split("\n"),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(1!==o||1!==i)do{if(o--,0>--i||s[o]!==a[i]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case S:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Q(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&G(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ae(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),s=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ne=null;function Se(e){if(e=vs(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),je(e.stateNode,e.type,t))}}function _e(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Oe=!1;function Re(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Ee(e,t,r)}finally{Oe=!1,(null!==ke||null!==Ne)&&(Te(),Ce())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var n=ws(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Pe=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Pe=!1}function Le(e,t,r,n,s,a,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var De=!1,Me=null,Ue=!1,ze=null,Fe={onError:function(e){De=!0,Me=e}};function Be(e,t,r,n,s,a,o,i,l){De=!1,Me=null,Le.apply(Fe,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(n=s.return)){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return He(s),e;if(o===n)return He(s),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Je=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,$e=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,rt=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~s;0!==i?n=ut(i):0!==(a&=o)&&(n=ut(a))}else 0!==(o=r&~s)?n=ut(o):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(r=31-ot(t)),n|=e[r],t&=~s;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,Nt,St,_t=!1,Ct=[],Et=null,Tt=null,Ot=null,Rt=new Map,At=new Map,Pt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=bs(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void St(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vs(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ye=n,r.target.dispatchEvent(n),ye=null,t.shift()}return!0}function zt(e,t,r){Ut(e)&&r.delete(t)}function Ft(){_t=!1,null!==Et&&Ut(Et)&&(Et=null),null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ot&&Ut(Ot)&&(Ot=null),Rt.forEach(zt),At.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ft)))}function qt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Tt&&Bt(Tt,e),null!==Ot&&Bt(Ot,e),Rt.forEach(t),At.forEach(t),r=0;r<Pt.length;r++)(n=Pt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Pt.length&&null===(r=Pt[0]).blockedOn;)Mt(r),null===r.blockedOn&&Pt.shift()}var Wt=y.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,n){var s=vt,a=Wt.transition;Wt.transition=null;try{vt=1,Jt(e,t,r,n)}finally{vt=s,Wt.transition=a}}function Kt(e,t,r,n){var s=vt,a=Wt.transition;Wt.transition=null;try{vt=4,Jt(e,t,r,n)}finally{vt=s,Wt.transition=a}}function Jt(e,t,r,n){if(Ht){var s=$t(e,t,r,n);if(null===s)Hn(e,t,n,Gt,r),Lt(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return Et=Dt(Et,e,t,r,n,s),!0;case"dragenter":return Tt=Dt(Tt,e,t,r,n,s),!0;case"mouseover":return Ot=Dt(Ot,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Rt.set(a,Dt(Rt.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,At.set(a,Dt(At.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==s;){var a=vs(s);if(null!==a&&wt(a),null===(a=$t(e,t,r,n))&&Hn(e,t,n,Gt,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Gt=null;function $t(e,t,r,n){if(Gt=null,null!==(e=bs(e=we(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,s="value"in Qt?Qt.value:Qt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function sr(e){function t(t,r,n,s,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,or,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=sr(lr),dr=M({},lr,{view:0,detail:0}),ur=sr(dr),hr=M({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(ar=e.screenX-ir.screenX,or=e.screenY-ir.screenY):or=ar=0,ir=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:or}}),mr=sr(hr),pr=sr(M({},hr,{dataTransfer:0})),fr=sr(M({},dr,{relatedTarget:0})),gr=sr(M({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=M({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=sr(xr),vr=sr(M({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Nr(){return kr}var Sr=M({},dr,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_r=sr(Sr),Cr=sr(M({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=sr(M({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Tr=sr(M({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=M({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=sr(Or),Ar=[9,13,27,32],Pr=d&&"CompositionEvent"in window,Ir=null;d&&"documentMode"in document&&(Ir=document.documentMode);var Lr=d&&"TextEvent"in window&&!Ir,Dr=d&&(!Pr||Ir&&8<Ir&&11>=Ir),Mr=String.fromCharCode(32),Ur=!1;function zr(e,t){switch(e){case"keyup":return-1!==Ar.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){_e(n),0<(t=Kn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Kr=null;function Jr(e){Un(e,0)}function Gr(e){if(J(ys(e)))return e}function $r(e,t){if("change"===e)return t}var Yr=!1;if(d){var Qr;if(d){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Qr=Xr}else Qr=!1;Yr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Vr&&(Vr.detachEvent("onpropertychange",tn),Kr=Vr=null)}function tn(e){if("value"===e.propertyName&&Gr(Kr)){var t=[];Hr(t,Kr,e,we(e)),Re(Jr,t)}}function rn(e,t,r){"focusin"===e?(en(),Kr=r,(Vr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gr(Kr)}function sn(e,t){if("click"===e)return Gr(t)}function an(e,t){if("input"===e||"change"===e)return Gr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!u.call(t,s)||!on(e[s],t[s]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=G((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&mn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=void 0===n.end?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=dn(r,a);var o=dn(r,n);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,bn=null,vn=!1;function yn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==G(n)||("selectionStart"in(n=gn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=Kn(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},kn={},Nn={};function Sn(e){if(kn[e])return kn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Nn)return kn[e]=r[t];return e}d&&(Nn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var _n=Sn("animationend"),Cn=Sn("animationiteration"),En=Sn("animationstart"),Tn=Sn("transitionend"),On=new Map,Rn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){On.set(e,t),l(t,[e])}for(var Pn=0;Pn<Rn.length;Pn++){var In=Rn[Pn];An(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}An(_n,"onAnimationEnd"),An(Cn,"onAnimationIteration"),An(En,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Tn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Mn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,s,o,i,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(a(198));var d=Me;De=!1,Me=null,Ue||(Ue=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Un(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&s.isPropagationStopped())break e;Mn(s,i,c),a=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==a&&s.isPropagationStopped())break e;Mn(s,i,c),a=l}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zn(e,t){var r=t[fs];void 0===r&&(r=t[fs]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Bn]){e[Bn]=!0,o.forEach(function(t){"selectionchange"!==t&&(Dn.has(t)||Fn(t,!1,e),Fn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Fn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Yt(t)){case 1:var s=Vt;break;case 4:s=Kt;break;default:s=Jt}r=s.bind(null,t,r,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,s){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==i;){if(null===(o=bs(i)))return;if(5===(l=o.tag)||6===l){n=a=o;continue e}i=i.parentNode}}n=n.return}Re(function(){var n=a,s=we(r),o=[];e:{var i=On.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=_r;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case _n:case Cn:case En:l=gr;break;case Tn:l=Tr;break;case"scroll":l=ur;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==i?i+"Capture":null:i;d=[];for(var m,p=n;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Ae(p,h))&&d.push(Vn(p,f,m)))),u)break;p=p.return}0<d.length&&(i=new l(i,c,null,r,s),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!bs(c)&&!c[ps])&&(l||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?bs(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=mr,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?i:ys(l),m=null==c?i:ys(c),(i=new d(f,p+"leave",l,r,s)).target=u,i.relatedTarget=m,f=null,bs(s)===n&&((d=new d(h,p+"enter",c,r,s)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,p=0,m=d=l;m;m=Jn(m))p++;for(m=0,f=h;f;f=Jn(f))m++;for(;0<p-m;)d=Jn(d),p--;for(;0<m-p;)h=Jn(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Jn(d),h=Jn(h)}d=null}else d=null;null!==l&&Gn(o,i,l,d,!1),null!==c&&null!==u&&Gn(o,u,c,d,!0)}if("select"===(l=(i=n?ys(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=$r;else if(Wr(i))if(Yr)g=an;else{g=nn;var x=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sn);switch(g&&(g=g(e,n))?Hr(o,g,r,s):(x&&x(e,i,n),"focusout"===e&&(x=i._wrapperState)&&x.controlled&&"number"===i.type&&ee(i,"number",i.value)),x=n?ys(n):window,e){case"focusin":(Wr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,bn=null);break;case"focusout":bn=xn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,yn(o,r,s);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":yn(o,r,s)}var b;if(Pr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Br?zr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Dr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==v?"onCompositionEnd"===v&&Br&&(b=er()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,Br=!0)),0<(x=Kn(n,v)).length&&(v=new vr(v,e,null,r,s),o.push({event:v,listeners:x}),b?v.data=b:null!==(b=Fr(r))&&(v.data=b))),(b=Lr?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(Ur=!0,Mr);case"textInput":return(e=t.data)===Mr&&Ur?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Pr&&zr(e,t)?(e=er(),Zt=Xt=Qt=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Kn(n,"onBeforeInput")).length&&(s=new vr("onBeforeInput","beforeinput",null,r,s),o.push({event:s,listeners:n}),s.data=b))}Un(o,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Ae(e,r))&&n.unshift(Vn(e,a,s)),null!=(a=Ae(e,t))&&n.push(Vn(e,a,s))),e=e.return}return n}function Jn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,r,n,s){for(var a=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,s?null!=(l=Ae(r,a))&&o.unshift(Vn(r,l,i)):s||null!=(l=Ae(r,a))&&o.push(Vn(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var $n=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace($n,"\n").replace(Yn,"")}function Xn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(a(425))}function Zn(){}var es=null,ts=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(is)}:ns;function is(e){setTimeout(function(){throw e})}function ls(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===n)return e.removeChild(s),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=s}while(r);qt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ms="__reactProps$"+us,ps="__reactContainer$"+us,fs="__reactEvents$"+us,gs="__reactListeners$"+us,xs="__reactHandles$"+us;function bs(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ps]||r[hs]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ds(e);null!==e;){if(r=e[hs])return r;e=ds(e)}return t}r=(e=r).parentNode}return null}function vs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ys(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[ms]||null}var js=[],ks=-1;function Ns(e){return{current:e}}function Ss(e){0>ks||(e.current=js[ks],js[ks]=null,ks--)}function _s(e,t){ks++,js[ks]=e.current,e.current=t}var Cs={},Es=Ns(Cs),Ts=Ns(!1),Os=Cs;function Rs(e,t){var r=e.type.contextTypes;if(!r)return Cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in r)a[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ps(){Ss(Ts),Ss(Es)}function Is(e,t,r){if(Es.current!==Cs)throw Error(a(168));_s(Es,t),_s(Ts,r)}function Ls(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var s in n=n.getChildContext())if(!(s in t))throw Error(a(108,W(e)||"Unknown",s));return M({},r,n)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Os=Es.current,_s(Es,e),_s(Ts,Ts.current),!0}function Ms(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Ls(e,t,Os),n.__reactInternalMemoizedMergedChildContext=e,Ss(Ts),Ss(Es),_s(Es,e)):Ss(Ts),_s(Ts,r)}var Us=null,zs=!1,Fs=!1;function Bs(e){null===Us?Us=[e]:Us.push(e)}function qs(){if(!Fs&&null!==Us){Fs=!0;var e=0,t=vt;try{var r=Us;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Us=null,zs=!1}catch(s){throw null!==Us&&(Us=Us.slice(e+1)),Je(Ze,qs),s}finally{vt=t,Fs=!1}}return null}var Ws=[],Hs=0,Vs=null,Ks=0,Js=[],Gs=0,$s=null,Ys=1,Qs="";function Xs(e,t){Ws[Hs++]=Ks,Ws[Hs++]=Vs,Vs=e,Ks=t}function Zs(e,t,r){Js[Gs++]=Ys,Js[Gs++]=Qs,Js[Gs++]=$s,$s=e;var n=Ys;e=Qs;var s=32-ot(n)-1;n&=~(1<<s),r+=1;var a=32-ot(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ys=1<<32-ot(t)+s|r<<s|n,Qs=a+e}else Ys=1<<a|r<<s|n,Qs=e}function ea(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ta(e){for(;e===Vs;)Vs=Ws[--Hs],Ws[Hs]=null,Ks=Ws[--Hs],Ws[Hs]=null;for(;e===$s;)$s=Js[--Gs],Js[Gs]=null,Qs=Js[--Gs],Js[Gs]=null,Ys=Js[--Gs],Js[Gs]=null}var ra=null,na=null,sa=!1,aa=null;function oa(e,t){var r=Oc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ia(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==$s?{id:Ys,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Oc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=na;if(t){var r=t;if(!ia(e,t)){if(la(e))throw Error(a(418));t=cs(r.nextSibling);var n=ra;t&&ia(e,t)?oa(n,r):(e.flags=-4097&e.flags|2,sa=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ua(e){if(e!==ra)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=cs(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=na;e;)e=cs(e.nextSibling)}function ma(){na=ra=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var fa=y.ReactCurrentBatchConfig;function ga(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var s=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function va(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Dc(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===k?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&ba(a)===t.type)?((n=s(t,r.props)).ref=ga(e,t,r),n.return=e,n):((n=Pc(r.type,r.key,r.props,null,e.mode,n)).ref=ga(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Mc(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Pc(t.type,t.key,t.props,null,e.mode,r)).ref=ga(e,null,t),r.return=e,r;case j:return(t=Mc(t,e.mode,r)).return=e,t;case A:return h(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Ic(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function m(e,t,r,n){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==s?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===s?c(e,t,r,n):null;case j:return r.key===s?d(e,t,r,n):null;case A:return m(e,t,(s=r._init)(r._payload),n)}if(te(r)||L(r))return null!==s?null:u(e,t,r,n,null);xa(e,r)}return null}function p(e,t,r,n,s){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,s);case A:return p(e,t,r,(0,n._init)(n._payload),s)}if(te(n)||L(n))return u(t,e=e.get(r)||null,n,s,null);xa(t,n)}return null}function f(s,a,i,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=m(s,u,i[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(s,u),a=o(x,a,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===i.length)return r(s,u),sa&&Xs(s,f),c;if(null===u){for(;f<i.length;f++)null!==(u=h(s,i[f],l))&&(a=o(u,a,f),null===d?c=u:d.sibling=u,d=u);return sa&&Xs(s,f),c}for(u=n(s,u);f<i.length;f++)null!==(g=p(u,s,f,i[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=o(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(s,e)}),sa&&Xs(s,f),c}function g(s,i,l,c){var d=L(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=i,g=i=0,x=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var v=m(s,f,b.value,c);if(null===v){null===f&&(f=x);break}e&&f&&null===v.alternate&&t(s,f),i=o(v,i,g),null===u?d=v:u.sibling=v,u=v,f=x}if(b.done)return r(s,f),sa&&Xs(s,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=h(s,b.value,c))&&(i=o(b,i,g),null===u?d=b:u.sibling=b,u=b);return sa&&Xs(s,g),d}for(f=n(s,f);!b.done;g++,b=l.next())null!==(b=p(f,s,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),i=o(b,i,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(s,e)}),sa&&Xs(s,g),d}return function e(n,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=a;null!==d;){if(d.key===c){if((c=o.type)===k){if(7===d.tag){r(n,d.sibling),(a=s(d,o.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ba(c)===d.type){r(n,d.sibling),(a=s(d,o.props)).ref=ga(n,d,o),a.return=n,n=a;break e}r(n,d);break}t(n,d),d=d.sibling}o.type===k?((a=Ic(o.props.children,n.mode,l,o.key)).return=n,n=a):((l=Pc(o.type,o.key,o.props,null,n.mode,l)).ref=ga(n,a,o),l.return=n,n=l)}return i(n);case j:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){r(n,a.sibling),(a=s(a,o.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Mc(o,n.mode,l)).return=n,n=a}return i(n);case A:return e(n,a,(d=o._init)(o._payload),l)}if(te(o))return f(n,a,o,l);if(L(o))return g(n,a,o,l);xa(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(r(n,a.sibling),(a=s(a,o)).return=n,n=a):(r(n,a),(a=Dc(o,n.mode,l)).return=n,n=a),i(n)):r(n,a)}}var ya=va(!0),wa=va(!1),ja=Ns(null),ka=null,Na=null,Sa=null;function _a(){Sa=Na=ka=null}function Ca(e){var t=ja.current;Ss(ja),e._currentValue=t}function Ea(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ta(e,t){ka=e,Sa=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===ka)throw Error(a(308));Na=e,ka.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Ra=null;function Aa(e){null===Ra?Ra=[e]:Ra.push(e)}function Pa(e,t,r,n){var s=t.interleaved;return null===s?(r.next=r,Aa(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ia(e,n)}function Ia(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Cl)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ia(e,r)}return null===(s=n.interleaved)?(t.next=t,Aa(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ia(e,r)}function Fa(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Ba(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?s=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qa(e,t,r,n){var s=e.updateQueue;La=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(o=0,d=c=l=null,i=a;;){var h=i.lane,m=i.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,f=i;switch(h=t,m=r,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,u,h):p)||void 0===h)break e;u=M({},u,h);break e;case 2:La=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,o|=h;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(h=i).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=u}}function Wa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=r,"function"!==typeof s)throw Error(a(191,s));s.call(n)}}}var Ha={},Va=Ns(Ha),Ka=Ns(Ha),Ja=Ns(Ha);function Ga(e){if(e===Ha)throw Error(a(174));return e}function $a(e,t){switch(_s(Ja,t),_s(Ka,e),_s(Va,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Va),_s(Va,t)}function Ya(){Ss(Va),Ss(Ka),Ss(Ja)}function Qa(e){Ga(Ja.current);var t=Ga(Va.current),r=le(t,e.type);t!==r&&(_s(Ka,e),_s(Va,r))}function Xa(e){Ka.current===e&&(Ss(Va),Ss(Ka))}var Za=Ns(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=y.ReactCurrentDispatcher,so=y.ReactCurrentBatchConfig,ao=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,mo=0;function po(){throw Error(a(321))}function fo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function go(e,t,r,n,s,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:ei,e=r(n,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=io=null,t.updateQueue=null,no.current=ti,e=r(n,s)}while(uo)}if(no.current=Xo,t=null!==io&&null!==io.next,ao=0,lo=io=oo=null,co=!1,t)throw Error(a(300));return e}function xo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(a(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function yo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=vo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=io,s=n.baseQueue,o=r.pending;if(null!==o){if(null!==s){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(null!==s){o=s.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((ao&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,i=n):c=c.next=h,oo.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==o);null===c?i=n:c.next=l,on(n,t.memoizedState)||(vi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Ll|=o,s=s.next}while(s!==e)}else null===s&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jo(e){var t=vo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(null!==s){r.pending=null;var i=s=s.next;do{o=e(o,i.action),i=i.next}while(i!==s);on(o,t.memoizedState)||(vi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ko(){}function No(e,t){var r=oo,n=vo(),s=t(),o=!on(n.memoizedState,s);if(o&&(n.memoizedState=s,vi=!0),n=n.queue,Do(Co.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Ro(9,_o.bind(null,r,n,s,t),void 0,null),null===El)throw Error(a(349));0!==(30&ao)||So(r,t,s)}return s}function So(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _o(e,t,r,n){t.value=r,t.getSnapshot=n,Eo(t)&&To(e)}function Co(e,t,r){return r(function(){Eo(t)&&To(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function To(e){var t=Ia(e,1);null!==t&&tc(t,e,1,-1)}function Oo(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ao(){return vo().memoizedState}function Po(e,t,r,n){var s=bo();oo.flags|=e,s.memoizedState=Ro(1|t,r,void 0,void 0===n?null:n)}function Io(e,t,r,n){var s=vo();n=void 0===n?null:n;var a=void 0;if(null!==io){var o=io.memoizedState;if(a=o.destroy,null!==n&&fo(n,o.deps))return void(s.memoizedState=Ro(t,r,a,n))}oo.flags|=e,s.memoizedState=Ro(1|t,r,a,n)}function Lo(e,t){return Po(8390656,8,e,t)}function Do(e,t){return Io(2048,8,e,t)}function Mo(e,t){return Io(4,2,e,t)}function Uo(e,t){return Io(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Io(4,4,zo.bind(null,t,e),r)}function Bo(){}function qo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=r):(on(r,t)||(r=ft(),oo.lanes|=r,Ll|=r,e.baseState=!0),t)}function Vo(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=so.transition;so.transition={};try{e(!1),t()}finally{vt=r,so.transition=n}}function Ko(){return vo().memoizedState}function Jo(e,t,r){var n=ec(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$o(e))Yo(t,r);else if(null!==(r=Pa(e,t,r,n))){tc(r,e,n,Zl()),Qo(r,t,n)}}function Go(e,t,r){var n=ec(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($o(e))Yo(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,r);if(s.hasEagerState=!0,s.eagerState=i,on(i,o)){var l=t.interleaved;return null===l?(s.next=s,Aa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(r=Pa(e,t,s,n))&&(tc(r,e,n,s=Zl()),Qo(r,t,n))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Xo={readContext:Oa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Oa,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Lo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Po(4194308,4,zo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var r=bo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Jo.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Oo,useDebugValue:Bo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Vo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,s=bo();if(sa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===El)throw Error(a(349));0!==(30&ao)||So(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Lo(Co.bind(null,n,o,e),[e]),n.flags|=2048,Ro(9,_o.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=bo(),t=El.identifierPrefix;if(sa){var r=Qs;t=":"+t+"R"+(r=(Ys&~(1<<32-ot(Ys)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Oa,useCallback:qo,useContext:Oa,useEffect:Do,useImperativeHandle:Fo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Wo,useReducer:wo,useRef:Ao,useState:function(){return wo(yo)},useDebugValue:Bo,useDeferredValue:function(e){return Ho(vo(),io.memoizedState,e)},useTransition:function(){return[wo(yo)[0],vo().memoizedState]},useMutableSource:ko,useSyncExternalStore:No,useId:Ko,unstable_isNewReconciler:!1},ti={readContext:Oa,useCallback:qo,useContext:Oa,useEffect:Do,useImperativeHandle:Fo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Wo,useReducer:jo,useRef:Ao,useState:function(){return jo(yo)},useDebugValue:Bo,useDeferredValue:function(e){var t=vo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[jo(yo)[0],vo().memoizedState]},useMutableSource:ko,useSyncExternalStore:No,useId:Ko,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var si={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zl(),s=ec(e),a=Ua(n,s);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=za(e,a,s))&&(tc(t,e,s,n),Fa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zl(),s=ec(e),a=Ua(n,s);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=za(e,a,s))&&(tc(t,e,s,n),Fa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zl(),n=ec(e),s=Ua(r,n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=za(e,s,n))&&(tc(t,e,n,r),Fa(t,e,n))}};function ai(e,t,r,n,s,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(s,a))}function oi(e,t,r){var n=!1,s=Cs,a=t.contextType;return"object"===typeof a&&null!==a?a=Oa(a):(s=As(t)?Os:Es.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Rs(e,s):Cs),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Oa(a):(a=As(t)?Os:Es.current,s.context=Rs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ni(e,t,a,r),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&si.enqueueReplaceState(s,s.state,null),qa(e,r,s,n),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var s=r}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,r){(r=Ua(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,Hl=n),ui(0,t)},r}function pi(e,t,r){(r=Ua(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ui(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hi;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Nc.bind(null,e,t,r),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,r,n,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ua(-1,1)).tag=2,za(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var bi=y.ReactCurrentOwner,vi=!1;function yi(e,t,r,n){t.child=null===e?wa(t,null,r,n):ya(t,e.child,r,n)}function wi(e,t,r,n,s){r=r.render;var a=t.ref;return Ta(t,s),n=go(e,t,r,n,a,s),r=xo(),null===e||vi?(sa&&r&&ea(t),t.flags|=1,yi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s))}function ji(e,t,r,n,s){if(null===e){var a=r.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Pc(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ki(e,t,a,n,s))}if(a=e.child,0===(e.lanes&s)){var o=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Wi(e,t,s)}return t.flags|=1,(e=Ac(a,n)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(vi=!1,t.pendingProps=n=a,0===(e.lanes&s))return t.lanes=e.lanes,Wi(e,t,s);0!==(131072&e.flags)&&(vi=!0)}}return _i(e,t,r,n,s)}function Ni(e,t,r){var n=t.pendingProps,s=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(Al,Rl),Rl|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_s(Al,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,_s(Al,Rl),Rl|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,_s(Al,Rl),Rl|=n;return yi(e,t,s,r),t.child}function Si(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _i(e,t,r,n,s){var a=As(r)?Os:Es.current;return a=Rs(t,a),Ta(t,s),r=go(e,t,r,n,a,s),n=xo(),null===e||vi?(sa&&n&&ea(t),t.flags|=1,yi(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wi(e,t,s))}function Ci(e,t,r,n,s){if(As(r)){var a=!0;Ds(t)}else a=!1;if(Ta(t,s),null===t.stateNode)qi(e,t),oi(t,r,n),li(t,r,n,s),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Oa(c):c=Rs(t,c=As(r)?Os:Es.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,o,n,c),La=!1;var h=t.memoizedState;o.state=h,qa(t,n,o,s),l=t.memoizedState,i!==n||h!==l||Ts.current||La?("function"===typeof d&&(ni(t,r,d,n),l=t.memoizedState),(i=La||ai(t,r,i,n,h,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ma(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Oa(l):l=Rs(t,l=As(r)?Os:Es.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||h!==l)&&ii(t,o,n,l),La=!1,h=t.memoizedState,o.state=h,qa(t,n,o,s);var p=t.memoizedState;i!==u||h!==p||Ts.current||La?("function"===typeof m&&(ni(t,r,m,n),p=t.memoizedState),(c=La||ai(t,r,c,n,h,p,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ei(e,t,r,n,a,s)}function Ei(e,t,r,n,s,a){Si(e,t);var o=0!==(128&t.flags);if(!n&&!o)return s&&Ms(t,r,!1),Wi(e,t,a);n=t.stateNode,bi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,i,a)):yi(e,t,i,a),t.memoizedState=n.state,s&&Ms(t,r,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),$a(e,t.containerInfo)}function Oi(e,t,r,n,s){return ma(),pa(s),t.flags|=256,yi(e,t,r,n),t.child}var Ri,Ai,Pi,Ii={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,r){var n,s=t.pendingProps,o=Za.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_s(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,s,0,null),e=Ic(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(r),t.memoizedState=Ii,e):Mi(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,s,o,i){if(r)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,n=di(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Lc({mode:"visible",children:n.children},s,0,null),(o=Ic(o,s,i,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&ya(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Ii,o);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var l=n.dgst;return n=l,Ui(e,t,i,n=di(o=Error(a(419)),n,void 0))}if(l=0!==(i&e.childLanes),vi||l){if(null!==(n=El)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(n.suspendedLanes|i))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ia(e,s),tc(n,e,s,-1))}return pc(),Ui(e,t,i,n=di(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,na=cs(s.nextSibling),ra=t,sa=!0,aa=null,null!==e&&(Js[Gs++]=Ys,Js[Gs++]=Qs,Js[Gs++]=$s,Ys=e.id,Qs=e.overflow,$s=t),t=Mi(t,n.children),t.flags|=4096,t)}(e,t,l,s,n,o,r);if(i){i=s.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?i=Ac(n,i):(i=Ic(i,l,r,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Ii,s}return e=(i=e.child).sibling,s=Ac(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=r),s.return=t,s.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Mi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,r,n){return null!==n&&pa(n),ya(t,e.child,null,r),(e=Mi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t,r)}function Fi(e,t,r,n,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Bi(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(yi(e,t,n.children,r),0!==(2&(n=Za.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,r,t);else if(19===e.tag)zi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_s(Za,n),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Fi(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Fi(t,!0,r,null,a);break;case"together":Fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Ac(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ac(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hi(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ki(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return As(t.type)&&Ps(),Vi(t),null;case 3:return n=t.stateNode,Ya(),Ss(Ts),Ss(Es),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ac(aa),aa=null))),Vi(t),null;case 5:Xa(t);var s=Ga(Ja.current);if(r=t.type,null!==e&&null!=t.stateNode)Ai(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Vi(t),null}if(e=Ga(Va.current),ua(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[hs]=t,n[ms]=o,e=0!==(1&t.mode),r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(s=0;s<Ln.length;s++)zn(Ln[s],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":Y(n,o),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},zn("invalid",n);break;case"textarea":se(n,o),zn("invalid",n)}for(var l in be(r,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zn("scroll",n)}switch(r){case"input":K(n),Z(n,o,!0);break;case"textarea":K(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[hs]=t,e[ms]=n,Ri(e,t),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":zn("cancel",e),zn("close",e),s=n;break;case"iframe":case"object":case"embed":zn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ln.length;s++)zn(Ln[s],e);s=n;break;case"source":zn("error",e),s=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),s=n;break;case"details":zn("toggle",e),s=n;break;case"input":Y(e,n),s=$(e,n),zn("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=M({},n,{value:void 0}),zn("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),zn("invalid",e)}for(o in be(r,s),c=s)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?ge(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&zn("scroll",e):null!=d&&v(e,o,d,l))}switch(r){case"input":K(e),Z(e,n,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)Pi(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ga(Ja.current),Ga(Va.current),ua(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(o=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[hs]=t,t.stateNode=n}return Vi(t),null;case 13:if(Ss(Za),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))ha(),ma(),t.flags|=98560,o=!1;else if(o=ua(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hs]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),o=!1}else null!==aa&&(ac(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Pl&&(Pl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Ya(),null===e&&qn(t.stateNode.containerInfo),Vi(t),null;case 10:return Ca(t.type._context),Vi(t),null;case 19:if(Ss(Za),null===(o=t.memoizedState))return Vi(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Hi(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hi(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _s(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Bl&&(t.flags|=128,n=!0,Hi(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!sa)return Vi(t),null}else 2*Qe()-o.renderingStartTime>Bl&&1073741824!==r&&(t.flags|=128,n=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=Za.current,_s(Za,n?1&r|2:1&r),t):(Vi(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ji(e,t){switch(ta(t),t.tag){case 1:return As(t.type)&&Ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ss(Ts),Ss(Es),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ss(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Za),null;case 4:return Ya(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ri=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ai=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ga(Va.current);var a,o=null;switch(r){case"input":s=$(e,s),n=$(e,n),o=[];break;case"select":s=M({},s,{value:void 0}),n=M({},n,{value:void 0}),o=[];break;case"textarea":s=ne(e,s),n=ne(e,n),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in be(r,n),r=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Pi=function(e,t,r,n){r!==n&&(t.flags|=4)};var Gi=!1,$i=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Xi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kc(e,t,n)}else r.current=null}function Zi(e,t,r){try{r()}catch(n){kc(e,t,n)}}var el=!1;function tl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Zi(t,r,a)}s=s.next}while(s!==n)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ms],delete t[fs],delete t[gs],delete t[xs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function il(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(il(e,t,r),e=e.sibling;null!==e;)il(e,t,r),e=e.sibling}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}var cl=null,dl=!1;function ul(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,r)}catch(i){}switch(r.tag){case 5:$i||Xi(r,t);case 6:var n=cl,s=dl;cl=null,ul(e,t,r),dl=s,null!==(cl=n)&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?ls(e.parentNode,r):1===e.nodeType&&ls(e,r),qt(e)):ls(cl,r.stateNode));break;case 4:n=cl,s=dl,cl=r.stateNode.containerInfo,dl=!0,ul(e,t,r),cl=n,dl=s;break;case 0:case 11:case 14:case 15:if(!$i&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Zi(r,t,o),s=s.next}while(s!==n)}ul(e,t,r);break;case 1:if(!$i&&(Xi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){kc(r,t,i)}ul(e,t,r);break;case 21:ul(e,t,r);break;case 22:1&r.mode?($i=(n=$i)||null!==r.memoizedState,ul(e,t,r),$i=n):ul(e,t,r);break;default:ul(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Yi),t.forEach(function(t){var n=Cc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(o,i,s),cl=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&n){try{tl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&n&&null!==r&&Xi(r,r.return);break;case 5:if(pl(t,e),gl(e),512&n&&null!==r&&Xi(r,r.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(s=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(s,o),ve(l,i);var d=ve(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];"style"===u?ge(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):v(s,u,h,d)}switch(l){case"input":X(s,o);break;case"textarea":ae(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(s,!!o.multiple,p,!1):m!==!!o.multiple&&(null!=o.defaultValue?re(s,!!o.multiple,o.defaultValue,!0):re(s,!!o.multiple,o.multiple?[]:"",!1))}s[ms]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Fl=Qe())),4&n&&ml(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?($i=(d=$i)||u,pl(t,e),$i=d):pl(t,e),gl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qi=e,u=e.child;null!==u;){for(h=Qi=u;null!==Qi;){switch(p=(m=Qi).child,m.tag){case 0:case 11:case 14:case 15:tl(4,m,m.return);break;case 1:Xi(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){n=m,r=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(n,r,g)}}break;case 5:Xi(m,m.return);break;case 22:if(null!==m.memoizedState){yl(h);continue}}null!==p?(p.return=m,Qi=p):yl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&n&&ml(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(al(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(he(s,""),n.flags&=-33),ll(e,ol(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;il(e,ol(e),o);break;default:throw Error(a(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,r){Qi=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Qi;){var s=Qi,a=s.child;if(22===s.tag&&n){var o=null!==s.memoizedState||Gi;if(!o){var i=s.alternate,l=null!==i&&null!==i.memoizedState||$i;i=Gi;var c=$i;if(Gi=o,($i=l)&&!c)for(Qi=s;null!==Qi;)l=(o=Qi).child,22===o.tag&&null!==o.memoizedState?wl(s):null!==l?(l.return=o,Qi=l):wl(s);for(;null!==a;)Qi=a,bl(a,t,r),a=a.sibling;Qi=s,Gi=i,$i=c}vl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Qi=a):vl(e)}}function vl(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$i||rl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!$i)if(null===r)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wa(t,o,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Wa(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}$i||512&t.flags&&nl(t)}catch(m){kc(t,t.return,m)}}if(t===e){Qi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qi=r;break}Qi=t.return}}function yl(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qi=r;break}Qi=t.return}}function wl(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(l){kc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(l){kc(t,s,l)}}var a=t.return;try{nl(t)}catch(l){kc(t,a,l)}break;case 5:var o=t.return;try{nl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var jl,kl=Math.ceil,Nl=y.ReactCurrentDispatcher,Sl=y.ReactCurrentOwner,_l=y.ReactCurrentBatchConfig,Cl=0,El=null,Tl=null,Ol=0,Rl=0,Al=Ns(0),Pl=0,Il=null,Ll=0,Dl=0,Ml=0,Ul=null,zl=null,Fl=0,Bl=1/0,ql=null,Wl=!1,Hl=null,Vl=null,Kl=!1,Jl=null,Gl=0,$l=0,Yl=null,Ql=-1,Xl=0;function Zl(){return 0!==(6&Cl)?Qe():-1!==Ql?Ql:Ql=Qe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==fa.transition?(0===Xl&&(Xl=ft()),Xl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,r,n){if(50<$l)throw $l=0,Yl=null,Error(a(185));xt(e,r,n),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Dl|=r),4===Pl&&oc(e,Ol)),rc(e,n),1===r&&0===Cl&&0===(1&t.mode)&&(Bl=Qe()+500,zs&&qs()))}function rc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),i=1<<o,l=s[o];-1===l?0!==(i&r)&&0===(i&n)||(s[o]=mt(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var n=ht(e,e===El?Ol:0);if(0===n)null!==r&&Ge(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ge(r),1===t)0===e.tag?function(e){zs=!0,Bs(e)}(ic.bind(null,e)):Bs(ic.bind(null,e)),os(function(){0===(6&Cl)&&qs()}),r=null;else{switch(yt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ec(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Ql=-1,Xl=0,0!==(6&Cl))throw Error(a(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ht(e,e===El?Ol:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=fc(e,n);else{t=n;var s=Cl;Cl|=2;var o=mc();for(El===e&&Ol===t||(ql=null,Bl=Qe()+500,uc(e,t));;)try{xc();break}catch(l){hc(e,l)}_a(),Nl.current=o,Cl=s,null!==Tl?t=0:(El=null,Ol=0,t=Pl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(n=s,t=sc(e,s))),1===t)throw r=Il,uc(e,0),oc(e,n),rc(e,Qe()),r;if(6===t)oc(e,n);else{if(s=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!on(a(),s))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=fc(e,n))&&(0!==(o=pt(e))&&(n=o,t=sc(e,o))),1===t))throw r=Il,uc(e,0),oc(e,n),rc(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:yc(e,zl,ql);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Fl+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&n)!==n){Zl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(yc.bind(null,e,zl,ql),t);break}yc(e,zl,ql);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ot(n);o=1<<i,(i=t[i])>s&&(s=i),n&=~o}if(n=s,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=ns(yc.bind(null,e,zl,ql),n);break}yc(e,zl,ql);break;default:throw Error(a(329))}}}return rc(e,Qe()),e.callbackNode===r?nc.bind(null,e):null}function sc(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=zl,zl=r,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Ml,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function ic(e){if(0!==(6&Cl))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var r=fc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Il,uc(e,0),oc(e,t),rc(e,Qe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,zl,ql),rc(e,Qe()),null}function lc(e,t){var r=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=r)&&(Bl=Qe()+500,zs&&qs())}}function cc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&wc();var t=Cl;Cl|=1;var r=_l.transition,n=vt;try{if(_l.transition=null,vt=1,e)return e()}finally{vt=n,_l.transition=r,0===(6&(Cl=t))&&qs()}}function dc(){Rl=Al.current,Ss(Al)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ss(r)),null!==Tl)for(r=Tl.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ps();break;case 3:Ya(),Ss(Ts),Ss(Es),ro();break;case 5:Xa(n);break;case 4:Ya();break;case 13:case 19:Ss(Za);break;case 10:Ca(n.type._context);break;case 22:case 23:dc()}r=r.return}if(El=e,Tl=e=Ac(e.current,null),Ol=Rl=t,Pl=0,Il=null,Ml=Dl=Ll=0,zl=Ul=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(n=(r=Ra[t]).interleaved)){r.interleaved=null;var s=n.next,a=r.pending;if(null!==a){var o=a.next;a.next=s,n.next=o}r.pending=n}Ra=null}return e}function hc(e,t){for(;;){var r=Tl;try{if(_a(),no.current=Xo,co){for(var n=oo.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}co=!1}if(ao=0,lo=io=oo=null,uo=!1,ho=0,Sl.current=null,null===r||null===r.return){Pl=1,Il=t,Tl=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gi(i);if(null!==p){p.flags&=-257,xi(p,i,l,0,t),1&p.mode&&fi(o,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fi(o,d,t),pc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var x=gi(i);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xi(x,i,l,0,t),pa(ci(c,l));break e}}o=c=ci(c,l),4!==Pl&&(Pl=2),null===Ul?Ul=[o]:Ul.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,mi(0,c,t));break e;case 1:l=c;var b=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vl||!Vl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,pi(o,l,t));break e}}o=o.return}while(null!==o)}vc(r)}catch(y){t=y,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function mc(){var e=Nl.current;return Nl.current=Xo,null===e?Xo:e}function pc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===El||0===(268435455&Ll)&&0===(268435455&Dl)||oc(El,Ol)}function fc(e,t){var r=Cl;Cl|=2;var n=mc();for(El===e&&Ol===t||(ql=null,uc(e,t));;)try{gc();break}catch(s){hc(e,s)}if(_a(),Cl=r,Nl.current=n,null!==Tl)throw Error(a(261));return El=null,Ol=0,Pl}function gc(){for(;null!==Tl;)bc(Tl)}function xc(){for(;null!==Tl&&!$e();)bc(Tl)}function bc(e){var t=jl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?vc(e):Tl=t,Sl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ki(r,t,Rl)))return void(Tl=r)}else{if(null!==(r=Ji(r,t)))return r.flags&=32767,void(Tl=r);if(null===e)return Pl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Pl&&(Pl=5)}function yc(e,t,r){var n=vt,s=_l.transition;try{_l.transition=null,vt=1,function(e,t,r,n){do{wc()}while(null!==Jl);if(0!==(6&Cl))throw Error(a(327));r=e.finishedWork;var s=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ot(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}(e,o),e===El&&(Tl=El=null,Ol=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Ec(tt,function(){return wc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=_l.transition,_l.transition=null;var i=vt;vt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(es=Ht,mn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||0!==s&&3!==h.nodeType||(l=i+s),h!==o||0!==n&&3!==h.nodeType||(c=i+n),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===s&&(l=i),m===o&&++u===n&&(c=i),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ts={focusedElem:e,selectionRange:r},Ht=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}f=el,el=!1}(e,r),fl(r,e),pn(ts),Ht=!!es,ts=es=null,e.current=r,xl(r,e,s),Ye(),Cl=l,vt=i,_l.transition=o}else e.current=r;if(Kl&&(Kl=!1,Jl=e,Gl=s),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),rc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Yl?$l++:($l=0,Yl=e):$l=0,qs()}(e,t,r,n)}finally{_l.transition=s,vt=n}return null}function wc(){if(null!==Jl){var e=yt(Gl),t=_l.transition,r=vt;try{if(_l.transition=null,vt=16>e?16:e,null===Jl)var n=!1;else{if(e=Jl,Jl=null,Gl=0,0!==(6&Cl))throw Error(a(331));var s=Cl;for(Cl|=4,Qi=e.current;null!==Qi;){var o=Qi,i=o.child;if(0!==(16&Qi.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qi=d;null!==Qi;){var u=Qi;switch(u.tag){case 0:case 11:case 15:tl(8,u,o)}var h=u.child;if(null!==h)h.return=u,Qi=h;else for(;null!==Qi;){var m=(u=Qi).sibling,p=u.return;if(sl(u),u===d){Qi=null;break}if(null!==m){m.return=p,Qi=m;break}Qi=p}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Qi=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(o=Qi).flags))switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Qi=b;break e}Qi=o.return}}var v=e.current;for(Qi=v;null!==Qi;){var y=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Qi=y;else e:for(i=v;null!==Qi;){if(0!==(2048&(l=Qi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){kc(l,l.return,j)}if(l===i){Qi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qi=w;break e}Qi=l.return}}if(Cl=s,qs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(j){}n=!0}return n}finally{vt=r,_l.transition=t}}return!1}function jc(e,t,r){e=za(e,t=mi(0,t=ci(r,t),1),1),t=Zl(),null!==e&&(xt(e,1,t),rc(e,t))}function kc(e,t,r){if(3===e.tag)jc(e,e,r);else for(;null!==t;){if(3===t.tag){jc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=za(t,e=pi(t,e=ci(r,e),1),1),e=Zl(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Ol&r)===r&&(4===Pl||3===Pl&&(130023424&Ol)===Ol&&500>Qe()-Fl?uc(e,0):Ml|=r),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=Zl();null!==(e=Ia(e,t))&&(xt(e,t,r),rc(e,r))}function _c(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Cc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Sc(e,r)}function Ec(e,t){return Je(e,t)}function Tc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,r,n){return new Tc(e,t,r,n)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var r=e.alternate;return null===r?((r=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pc(e,t,r,n,s,o){var i=2;if(n=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Ic(r.children,s,o,t);case N:i=8,s|=8;break;case S:return(e=Oc(12,r,t,2|s)).elementType=S,e.lanes=o,e;case T:return(e=Oc(13,r,t,s)).elementType=T,e.lanes=o,e;case O:return(e=Oc(19,r,t,s)).elementType=O,e.lanes=o,e;case P:return Lc(r,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case C:i=9;break e;case E:i=11;break e;case R:i=14;break e;case A:i=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(i,r,t,s)).elementType=e,t.type=n,t.lanes=o,t}function Ic(e,t,r,n){return(e=Oc(7,e,n,t)).lanes=r,e}function Lc(e,t,r,n){return(e=Oc(22,e,n,t)).elementType=P,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return(e=Oc(6,e,null,t)).lanes=r,e}function Mc(e,t,r){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,r,n,s,a,o,i,l){return e=new Uc(e,t,r,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Fc(e){if(!e)return Cs;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(As(r))return Ls(e,r,t)}return t}function Bc(e,t,r,n,s,a,o,i,l){return(e=zc(r,n,!0,e,0,a,0,i,l)).context=Fc(null),r=e.current,(a=Ua(n=Zl(),s=ec(r))).callback=void 0!==t&&null!==t?t:null,za(r,a,s),e.current.lanes=s,xt(e,s,n),rc(e,n),e}function qc(e,t,r,n){var s=t.current,a=Zl(),o=ec(s);return r=Fc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ua(a,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=za(s,t,o))&&(tc(e,s,o,a),Fa(e,s,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}jl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)vi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vi=!1,function(e,t,r){switch(t.tag){case 3:Ti(t),ma();break;case 5:Qa(t);break;case 1:As(t.type)&&Ds(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;_s(ja,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(_s(Za,1&Za.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Di(e,t,r):(_s(Za,1&Za.current),null!==(e=Wi(e,t,r))?e.sibling:null);_s(Za,1&Za.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Bi(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(Za,Za.current),n)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,r)}return Wi(e,t,r)}(e,t,r);vi=0!==(131072&e.flags)}else vi=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qi(e,t),e=t.pendingProps;var s=Rs(t,Es.current);Ta(t,r),s=go(null,t,n,e,s,r);var o=xo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(n)?(o=!0,Ds(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Da(t),s.updater=si,t.stateNode=s,s._reactInternals=t,li(t,n,e,r),t=Ei(null,t,n,!0,o,r)):(t.tag=0,sa&&o&&ea(t),yi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(n),e=ri(n,e),s){case 0:t=_i(null,t,n,e,r);break e;case 1:t=Ci(null,t,n,e,r);break e;case 11:t=wi(null,t,n,e,r);break e;case 14:t=ji(null,t,n,ri(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,_i(e,t,n,s=t.elementType===n?s:ri(n,s),r);case 1:return n=t.type,s=t.pendingProps,Ci(e,t,n,s=t.elementType===n?s:ri(n,s),r);case 3:e:{if(Ti(t),null===e)throw Error(a(387));n=t.pendingProps,s=(o=t.memoizedState).element,Ma(e,t),qa(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oi(e,t,n,r,s=ci(Error(a(423)),t));break e}if(n!==s){t=Oi(e,t,n,r,s=ci(Error(a(424)),t));break e}for(na=cs(t.stateNode.containerInfo.firstChild),ra=t,sa=!0,aa=null,r=wa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ma(),n===s){t=Wi(e,t,r);break e}yi(e,t,n,r)}t=t.child}return t;case 5:return Qa(t),null===e&&ca(t),n=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,i=s.children,rs(n,s)?i=null:null!==o&&rs(n,o)&&(t.flags|=32),Si(e,t),yi(e,t,i,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Di(e,t,r);case 4:return $a(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ya(t,null,n,r):yi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,wi(e,t,n,s=t.elementType===n?s:ri(n,s),r);case 7:return yi(e,t,t.pendingProps,r),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,_s(ja,n._currentValue),n._currentValue=i,null!==o)if(on(o.value,i)){if(o.children===s.children&&!Ts.current){t=Wi(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Ua(-1,r&-r)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ea(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(a(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ea(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}yi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ta(t,r),n=n(s=Oa(s)),t.flags|=1,yi(e,t,n,r),t.child;case 14:return s=ri(n=t.type,t.pendingProps),ji(e,t,n,s=ri(n.type,s),r);case 15:return ki(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ri(n,s),qi(e,t),t.tag=1,As(n)?(e=!0,Ds(t)):e=!1,Ta(t,r),oi(t,n,s),li(t,n,s,r),Ei(null,t,n,!0,e,r);case 19:return Bi(e,t,r);case 22:return Ni(e,t,r)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if("function"===typeof s){var i=s;s=function(){var e=Wc(o);i.call(e)}}qc(t,o,e,s)}else o=function(e,t,r,n,s){if(s){if("function"===typeof n){var a=n;n=function(){var e=Wc(o);a.call(e)}}var o=Bc(t,n,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[ps]=o.current,qn(8===e.nodeType?e.parentNode:e),cc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof n){var i=n;n=function(){var e=Wc(l);i.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[ps]=l.current,qn(8===e.nodeType?e.parentNode:e),cc(function(){qc(t,l,r,n)}),l}(r,t,e,s,n);return Wc(o)}Gc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Gc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){qc(null,e,null,null)}),t[ps]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pt.length&&0!==t&&t<Pt[r].priority;r++);Pt.splice(r,0,e),0===r&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(bt(t,1|r),rc(t,Qe()),0===(6&Cl)&&(Bl=Qe()+500,qs()))}break;case 13:cc(function(){var t=Ia(e,1);if(null!==t){var r=Zl();tc(t,e,1,r)}}),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},kt=function(e){if(13===e.tag){var t=ec(e),r=Ia(e,t);if(null!==r)tc(r,e,t,Zl());Vc(e,t)}},Nt=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ws(n);if(!s)throw Error(a(90));J(n),X(n,s)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=lc,Te=cc;var Zc={usingClientEntryPoint:!1,Events:[vs,ys,ws,_e,Ce,lc]},ed={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(td),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var r=!1,n="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,0,r,0,n,s),e[ps]=t.current,qn(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,r){if(!Yc(t))throw Error(a(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!$c(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,s=!1,o="",i=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Bc(t,null,e,1,null!=r?r:null,s,0,o,i),e[ps]=t.current,qn(e),n)for(e=0;e<n.length;e++)s=(s=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Gc(t)},t.render=function(e,t,r){if(!Yc(t))throw Error(a(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853(e,t,r){e.exports=r(234)},950(e,t,r){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,r.d(a,o),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".e398a72c.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="lms-frontend:";r.l=(n,s,a,o)=>{if(e[n])e[n].push(s);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[s];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(m);var s=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach(e=>e(r)),t)return t(r)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var a=new Promise((r,n)=>s=e[t]=[r,n]);n.push(s[2]=a);var o=r.p+r.u(t),i=new Error;r.l(o,n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,s[1](i)}},"chunk-"+t,t)}};var t=(t,n)=>{var s,a,[o,i,l]=n,c=0;if(o.some(t=>0!==e[t])){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(l)l(r)}for(t&&t(n);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunklms_frontend=self.webpackChunklms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>Ka,hasStandardBrowserEnv:()=>Ga,hasStandardBrowserWebWorkerEnv:()=>$a,navigator:()=>Ja,origin:()=>Ya});var s,a=r(43),o=r.t(a,2),i=r(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,u=s.Pop,f=null,g=x();function x(){return(i.state||{idx:null}).idx}function b(){u=s.Pop;let e=x(),t=null==e?null:e-g;g=e,f&&f({action:u,location:y.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:p(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,i.replaceState(l({},i.state,{idx:g}),""));let y={get action(){return u},get location(){return e(a,i)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(c,b),f=e,()=>{a.removeEventListener(c,b),f=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=s.Push;let n=m(y.location,e,t);r&&r(n,e),g=x()+1;let l=h(n,g),c=y.createHref(n);try{i.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}o&&f&&f({action:u,location:y.location,delta:1})},replace:function(e,t){u=s.Replace;let n=m(y.location,e,t);r&&r(n,e),g=x();let a=h(n,g),l=y.createHref(n);i.replaceState(a,"",l),o&&f&&f({action:u,location:y.location,delta:0})},go:e=>i.go(e)};return y}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,n){let s=P(("string"===typeof t?f(t):t).pathname||"/",r);if(null==s)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let i=0;null==o&&i<a.length;++i){let e=A(s);o=O(a[i],e,n)}return o}function y(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let s=(e,s,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=B([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),y(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:T(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of w(e.path))s(e,t,n);else s(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return s?[a,""]:[a];let o=w(n.join("/")),i=[];return i.push(...o.map(e=>""===e?a:[a,e].join("/"))),s&&i.push(...o),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,k=3,N=2,S=1,_=10,C=-2,E=e=>"*"===e;function T(e,t){let r=e.split("/"),n=r.length;return r.some(E)&&(n+=C),t&&(n+=N),r.filter(e=>!E(e)).reduce((e,t)=>e+(j.test(t)?k:""===t?S:_),n)}function O(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,s={},a="/",o=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:B([a,d.pathname]),pathnameBase:q(B([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=B([a,d.pathnameBase]))}return o}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=i[r]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:o,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}const I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function L(e,t){void 0===t&&(t="/");let r,{pathname:n,search:s="",hash:a=""}="string"===typeof e?f(e):e;if(n)if(o=n,I.test(o))r=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),u(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+n)}r=n.startsWith("/")?D(n.substring(1),"/"):D(n,t)}else r=t;var o;return{pathname:r,search:W(s),hash:H(a)}}function D(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function M(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e,t){let r=U(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function F(e,t,r,n){let s;void 0===n&&(n=!1),"string"===typeof e?s=f(e):(s=l({},e),d(!s.pathname||!s.pathname.includes("?"),M("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),M("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),M("#","search","hash",s)));let a,o=""===e||""===s.pathname,i=o?"/":s.pathname;if(null==i)a=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=L(s,a),u=i&&"/"!==i&&i.endsWith("/"),h=(o||"."===i)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],J=(new Set(K),["get",...K]);new Set(J),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}const $=a.createContext(null);const Y=a.createContext(null);const Q=a.createContext(null);const X=a.createContext(null);const Z=a.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=a.createContext(null);function te(){return null!=a.useContext(X)}function re(){return te()||d(!1),a.useContext(X).location}function ne(e){a.useContext(Q).static||a.useLayoutEffect(e)}function se(){let{isDataRoute:e}=a.useContext(Z);return e?function(){let{router:e}=fe(me.UseNavigateStable),t=xe(pe.UseNavigateStable),r=a.useRef(!1);return ne(()=>{r.current=!0}),a.useCallback(function(n,s){void 0===s&&(s={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,G({fromRouteId:t},s)))},[e,t])}():function(){te()||d(!1);let e=a.useContext($),{basename:t,future:r,navigator:n}=a.useContext(Q),{matches:s}=a.useContext(Z),{pathname:o}=re(),i=JSON.stringify(z(s,r.v7_relativeSplatPath)),l=a.useRef(!1);return ne(()=>{l.current=!0}),a.useCallback(function(r,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof r)return void n.go(r);let a=F(r,JSON.parse(i),o,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:B([t,a.pathname])),(s.replace?n.replace:n.push)(a,s.state,s)},[t,n,i,o,e])}()}function ae(){let{matches:e}=a.useContext(Z),t=e[e.length-1];return t?t.params:{}}function oe(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(Q),{matches:s}=a.useContext(Z),{pathname:o}=re(),i=JSON.stringify(z(s,n.v7_relativeSplatPath));return a.useMemo(()=>F(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function ie(e,t,r,n){te()||d(!1);let{navigator:o}=a.useContext(Q),{matches:i}=a.useContext(Z),l=i[i.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=re();if(t){var p;let e="string"===typeof t?f(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=m;let g=h.pathname||"/",x=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:x});let y=he(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,n);return t&&y?a.createElement(X.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:s.Pop}},y):y}function le(){let e=function(){var e;let t=a.useContext(ee),r=ge(pe.UseRouteError),n=xe(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const ce=a.createElement(le,null);class de extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Z.Provider,{value:this.props.routeContext},a.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext($);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(Z.Provider,{value:t},n)}function he(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=i.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,n,s)=>{let o,d=!1,h=null,m=null;var p;r&&(o=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||ce,c&&(u<0&&0===s?(p="route-fallback",!1||be[p]||(be[p]=!0),d=!0,m=null):u===s&&(d=!0,m=n.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,s+1)),g=()=>{let t;return t=o?h:d?m:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(ue,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(de,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function fe(e){let t=a.useContext($);return t||d(!1),t}function ge(e){let t=a.useContext(Y);return t||d(!1),t}function xe(e){let t=function(){let e=a.useContext(Z);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const be={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:r,state:n,relative:s}=e;te()||d(!1);let{future:o,static:i}=a.useContext(Q),{matches:l}=a.useContext(Z),{pathname:c}=re(),u=se(),h=F(t,z(l,o.v7_relativeSplatPath),c,"path"===s),m=JSON.stringify(h);return a.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function we(e){d(!1)}function je(e){let{basename:t="/",children:r=null,location:n,navigationType:o=s.Pop,navigator:i,static:l=!1,future:c}=e;te()&&d(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:u,navigator:i,static:l,future:G({v7_relativeSplatPath:!1},c)}),[u,c,i,l]);"string"===typeof n&&(n=f(n));let{pathname:m="/",search:p="",hash:g="",state:x=null,key:b="default"}=n,v=a.useMemo(()=>{let e=P(m,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:x,key:b},navigationType:o}},[u,m,p,g,x,b,o]);return null==v?null:a.createElement(Q.Provider,{value:h},a.createElement(X.Provider,{children:r,value:v}))}function ke(e){let{children:t,location:r}=e;return ie(Ne(t),r)}new Promise(()=>{});a.Component;function Ne(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,Ne(e.props.children,s));e.type!==we&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ne(e.props.children,s)),r.push(o)}),r}var Se=r(950),_e=r.t(Se,2);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ce.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(dc){}new Map;const Oe=o.startTransition;_e.flushSync,o.useId;function Re(e){let{basename:t,children:r,future:n,window:s}=e,o=a.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),g(function(e,t){let{pathname:r,search:n,hash:s}=e.location;return m("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,i)));let l=o.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=a.useCallback(e=>{u&&Oe?Oe(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>ve(n),[n]),a.createElement(je,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=a.forwardRef(function(e,t){let r,{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:m}=e,f=Ee(e,Te),{basename:g}=a.useContext(Q),x=!1;if("string"===typeof u&&Pe.test(u)&&(r=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=P(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:x=!0}catch(dc){}let b=function(e,t){let{relative:r}=void 0===t?{}:t;te()||d(!1);let{basename:n,navigator:s}=a.useContext(Q),{hash:o,pathname:i,search:l}=oe(e,{relative:r}),c=i;return"/"!==n&&(c="/"===i?n:B([n,i])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),v=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=void 0===t?{}:t,c=se(),d=re(),u=oe(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:p(d)===p(u);c(e,{replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,n,s,r,e,o,i,l])}(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});return a.createElement("a",Ce({},f,{href:r||b,onClick:x||o?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Le,De;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));var Me=r(579);const Ue=e=>{let{user:t,onLogin:r,onSignup:n,onLogout:s}=e;const[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),h=(0,a.useRef)(null),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&c(!1),m.current&&!m.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Me.jsx)("div",{className:"flex items-center",children:(0,Me.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,Me.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full bg-brand-navy shadow-md mr-1 sm:mr-2",children:(0,Me.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:"w-3 h-3 sm:w-4 sm:h-4 md:w-6 md:h-6","aria-hidden":"true",children:[(0,Me.jsx)("path",{d:"M2 7.5L12 3l10 4.5-10 4.5L2 7.5z",fill:"white"}),(0,Me.jsx)("path",{d:"M22 10.5v3c0 2.5-4.48 4.5-10 4.5S2 16 2 13.5v-3",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,Me.jsx)("path",{d:"M6 17.5v2c0 .28.22.5.5.5h11a.5.5 0 0 0 .5-.5v-2",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})}),(0,Me.jsx)(Ie,{to:"/",className:"text-sm sm:text-lg md:text-2xl font-heading font-bold text-brand-navy hover:text-brand-cyan transition-colors",children:"Trendtactics Academy"})]})}),(0,Me.jsxs)("nav",{className:"hidden md:flex items-center ml-auto space-x-8",children:[(0,Me.jsx)(Ie,{to:"/",className:"transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4",children:"Home"}),(0,Me.jsx)(Ie,{to:"/about",className:"transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4",children:"About"}),(0,Me.jsx)(Ie,{to:"/courses",className:"transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4",children:"Courses"}),t&&(0,Me.jsxs)("div",{className:"relative",ref:m,children:[(0,Me.jsxs)("button",{onClick:()=>u(!d),className:"transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 flex items-center gap-1",children:["Dashboard",(0,Me.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&(0,Me.jsxs)("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-xl py-1 border border-gray-200",style:{zIndex:9999},children:[(0,Me.jsx)(Ie,{to:"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Overview"}),(0,Me.jsx)(Ie,{to:"/my-courses",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"My Courses"}),(0,Me.jsx)(Ie,{to:"/planner",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",onClick:()=>u(!1),children:"\ud83d\udcc5 Study Planner"}),(0,Me.jsx)(Ie,{to:"/ai-tutor",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 font-medium",onClick:()=>u(!1),children:"\ud83e\udd16 AI Tutor"})]})]}),(0,Me.jsx)(Ie,{to:"/contact",className:"transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4",children:"Contact"}),(0,Me.jsx)("a",{href:"https://trendtacticsdigital.com",target:"_blank",rel:"noopener noreferrer",className:"transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4",children:"Digital Services"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[t?(0,Me.jsxs)("div",{className:"relative",ref:h,children:[(0,Me.jsxs)("button",{onClick:()=>{console.log("User menu clicked, current state:",l),c(!l)},className:"flex items-center space-x-2 text-gray-700 hover:text-brand-navy focus:outline-none",children:[(0,Me.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-9 md:h-9 bg-brand-cyan rounded-full flex items-center justify-center text-white font-bold shadow-md border-2 border-white text-xs sm:text-sm",children:null!==t&&void 0!==t&&t.name?t.name.charAt(0).toUpperCase():null!==t&&void 0!==t&&t.email?t.email.charAt(0).toUpperCase():"U"}),(0,Me.jsx)("span",{className:"hidden md:block text-sm font-medium",children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"User"}),(0,Me.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-xl py-1 border border-gray-200",style:{zIndex:9999,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[(0,Me.jsx)(Ie,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>c(!1),children:"Profile"}),(0,Me.jsx)("hr",{className:"my-1"}),(0,Me.jsx)("button",{onClick:()=>{null===s||void 0===s||s(),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})]})]}):(0,Me.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:(0,Me.jsx)("button",{onClick:r,className:"text-gray-700 hover:text-brand-navy px-3 py-2 text-sm font-medium transition-colors duration-200",children:"Sign In"})}),(0,Me.jsx)("button",{onClick:()=>i(!o),className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-brand-navy hover:bg-gray-100 focus:outline-none",children:(0,Me.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o?(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&(0,Me.jsx)("div",{className:"md:hidden",children:(0,Me.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t border-gray-200",children:[[{name:"Home",href:"/"},{name:"About",href:"/about"},{name:"Courses",href:"/courses"},{name:"Contact",href:"/contact"}].map(e=>(0,Me.jsx)(Ie,{to:e.href,className:"text-gray-700 transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 block px-3 py-2 text-base font-medium",onClick:()=>i(!1),children:e.name},e.name)),(0,Me.jsx)("a",{href:"https://trendtacticsdigital.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 block px-3 py-2 text-base font-medium",onClick:()=>i(!1),children:"Digital Services"}),t&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"px-3 py-2 text-base font-medium text-gray-900 border-b border-gray-200",children:"Dashboard"}),(0,Me.jsx)(Ie,{to:"/dashboard",className:"text-gray-700 transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 block px-6 py-2 text-base font-medium",onClick:()=>i(!1),children:"Overview"}),(0,Me.jsx)(Ie,{to:"/my-courses",className:"text-gray-700 transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 block px-6 py-2 text-base font-medium",onClick:()=>i(!1),children:"My Courses"}),(0,Me.jsx)(Ie,{to:"/planner",className:"text-gray-700 transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 block px-6 py-2 text-base font-medium",onClick:()=>i(!1),children:"\ud83d\udcc5 Study Planner"}),(0,Me.jsx)(Ie,{to:"/ai-tutor",className:"text-gray-700 transition-colors duration-200 hover:text-brand-cyan hover:font-bold hover:underline underline-offset-4 block px-6 py-2 text-base font-medium",onClick:()=>i(!1),children:"\ud83e\udd16 AI Tutor"})]}),!t&&(0,Me.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,Me.jsx)("button",{onClick:()=>{null===r||void 0===r||r(),i(!1)},className:"text-gray-700 hover:text-brand-navy block px-3 py-2 text-base font-medium w-full text-left",children:"Sign In"}),(0,Me.jsx)("button",{onClick:()=>{null===n||void 0===n||n(),i(!1)},className:"btn-secondary block w-full text-center mt-2",children:"Get Started"})]})]})})]})})},ze=()=>{const e=(new Date).getFullYear(),t={company:[{name:"About Us",href:"/about"},{name:"Careers",href:"/careers"},{name:"Press",href:"/press"}],resources:[{name:"Blog",href:"/blog"},{name:"Help Center",href:"/help"},{name:"Contact",href:"/contact"}],legal:[{name:"Privacy Policy",href:"/privacy"},{name:"Terms of Service",href:"/terms"},{name:"Cookie Policy",href:"/cookies"}]};return(0,Me.jsx)("footer",{className:"bg-brand-navy text-white",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:[(0,Me.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,Me.jsx)("h3",{className:"text-xl font-heading font-bold mb-4",children:"Trendtactics Academy"}),(0,Me.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed mb-6",children:"Empowering learners worldwide with cutting-edge digital skills and knowledge. Transform your career with our expert-led courses."}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsxs)("a",{href:"#",className:"text-gray-300 hover:text-brand-cyan transition-colors",children:[(0,Me.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,Me.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),(0,Me.jsxs)("a",{href:"#",className:"text-gray-300 hover:text-brand-cyan transition-colors",children:[(0,Me.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,Me.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),(0,Me.jsxs)("a",{href:"#",className:"text-gray-300 hover:text-brand-cyan transition-colors",children:[(0,Me.jsx)("span",{className:"sr-only",children:"LinkedIn"}),(0,Me.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider mb-4",children:"Company"}),(0,Me.jsx)("ul",{className:"space-y-3",children:t.company.map(e=>(0,Me.jsx)("li",{children:(0,Me.jsx)("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors text-sm",children:e.name})},e.name))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider mb-4",children:"Resources"}),(0,Me.jsx)("ul",{className:"space-y-3",children:t.resources.map(e=>(0,Me.jsx)("li",{children:(0,Me.jsx)("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors text-sm",children:e.name})},e.name))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider mb-4",children:"Legal"}),(0,Me.jsx)("ul",{className:"space-y-3",children:t.legal.map(e=>(0,Me.jsx)("li",{children:(0,Me.jsx)("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors text-sm",children:e.name})},e.name))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wider mb-4",children:"Our Services"}),(0,Me.jsxs)("ul",{className:"space-y-3",children:[(0,Me.jsx)("li",{children:(0,Me.jsx)("a",{href:"https://trendtacticsdigital.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Digital Marketing Services"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)("a",{href:"https://trendtacticsdigital.com/academy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors text-sm",children:"Trendtactics Academy"})})]})]})]}),(0,Me.jsx)("div",{className:"mt-12 pt-8 border-t border-gray-700",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Me.jsxs)("p",{className:"text-gray-300 text-sm",children:["\xa9 ",e," Trendtactics Academy. All rights reserved."]}),(0,Me.jsx)("div",{className:"mt-4 md:mt-0",children:(0,Me.jsx)("p",{className:"text-gray-300 text-sm",children:"Made with \u2764\ufe0f for learners worldwide"})})]})})]})})};function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Be(e){var t=function(e,t){if("object"!=Fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fe(t)?t:t+""}function qe(e,t,r){return(t=Be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach(function(t){qe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ve(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}function Ke(e,t,r,n){return new(r||(r=Promise))(function(s,a){function o(e){try{l(n.next(e))}catch(dc){a(dc)}}function i(e){try{l(n.throw(e))}catch(dc){a(dc)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}l((n=n.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class Je extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class Ge extends Je{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $e extends Je{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ye extends Je{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qe;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Qe||(Qe={}));class Xe{constructor(e){let{headers:t={},customFetch:r,region:n=Qe.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return Ke(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var n;let s,a;try{const{headers:o,method:i,body:l,signal:c,timeout:d}=r;let u={},{region:h}=r;h||(h=t.region);const m=new URL("".concat(t.url,"/").concat(e));let p;h&&"any"!==h&&(u["x-region"]=h,m.searchParams.set("forceFunctionRegion",h)),l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):"string"===typeof l?(u["Content-Type"]="text/plain",p=l):"undefined"!==typeof FormData&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;let f=c;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),c?(f=a.signal,c.addEventListener("abort",()=>a.abort())):f=a.signal);const g=yield t.fetch(m.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),t.headers),o),body:p,signal:f}).catch(e=>{throw new Ge(e)}),x=g.headers.get("x-relay-error");if(x&&"true"===x)throw new $e(g);if(!g.ok)throw new Ye(g);let b,v=(null!==(n=g.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return b="application/json"===v?yield g.json():"application/octet-stream"===v||"application/pdf"===v?yield g.blob():"text/event-stream"===v?g:"multipart/form-data"===v?yield g.formData():yield g.text(),{data:b,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Ye||o instanceof $e?o.context:void 0}}finally{s&&clearTimeout(s)}}()})}}var Ze=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},et=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,n=null,s=null,a=e.status,o=e.statusText;if(e.ok){var i,l;if("HEAD"!==r.method){var c;const t=await e.text();""===t||(n="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null===(c=r.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const d=null===(i=r.headers.get("Prefer"))||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),u=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");d&&u&&u.length>1&&(s=parseInt(u[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(n)&&(n.length>1?(t={code:"PGRST116",details:"Results contain ".concat(n.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},n=null,s=null,a=406,o="Not Acceptable"):n=1===n.length?n[0]:null)}else{var d;const s=await e.text();try{t=JSON.parse(s),Array.isArray(t)&&404===e.status&&(n=[],t=null,a=200,o="OK")}catch(u){404===e.status&&""===s?(a=204,o="No Content"):t={message:s}}if(t&&r.isMaybeSingle&&(null===t||void 0===t||null===(d=t.details)||void 0===d?void 0:d.includes("0 rows"))&&(t=null,a=200,o="OK"),t&&r.shouldThrowOnError)throw new Ze(t)}return{error:t,data:n,count:s,status:a,statusText:o}});return this.shouldThrowOnError||(n=n.catch(e=>{var t;let r="";const n=null===e||void 0===e?void 0:e.cause;if(n){var s,a,o,i;const t=null!==(s=null===n||void 0===n?void 0:n.message)&&void 0!==s?s:"",l=null!==(a=null===n||void 0===n?void 0:n.code)&&void 0!==a?a:"";r="".concat(null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),r+="\n\nCaused by: ".concat(null!==(i=null===n||void 0===n?void 0:n.name)&&void 0!==i?i:"Error",": ").concat(t),l&&(r+=" (".concat(l,")")),(null===n||void 0===n?void 0:n.stack)&&(r+="\n".concat(n.stack))}else{var l;r=null!==(l=null===e||void 0===e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:r,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},tt=class extends et{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s?"".concat(s,".order"):"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof n?"offset":"".concat(n,".offset"),a="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(s,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(i,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const rt=new RegExp("[,()]");var nt=class extends tt{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&rt.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}notIn(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&rt.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===n?s="pl":"phrase"===n?s="ph":"websearch"===n&&(s="w");const a=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(s,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}},st=class{constructor(e,t){let{headers:r={},schema:n,fetch:s}=t;this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,t){const{head:r=!1,count:n}=null!==t&&void 0!==t?t:{},s=r?"HEAD":"GET";let a=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer","count=".concat(n)),new nt({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new nt({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer","count=".concat(n)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new nt({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new nt({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new nt({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},at=class e{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new st(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:n=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let o;const i=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;i.searchParams.append(t,r)})):(o="POST",l=t);const c=new Headers(this.headers);return s&&c.set("Prefer","count=".concat(s)),new nt({method:o,url:i,headers:c,schema:this.schemaName,body:l,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}};const ot=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(r," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(r," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},it="realtime-js/".concat("2.89.0"),lt="1.0.0",ct=lt,dt=1e4;var ut,ht,mt,pt,ft,gt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(ut||(ut={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(ht||(ht={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(mt||(mt={})),function(e){e.websocket="websocket"}(pt||(pt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(ft||(ft={}));class xt{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},s=(new TextEncoder).encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,t,r){var n,s;const a=e.topic,o=null!==(n=e.ref)&&void 0!==n?n:"",i=null!==(s=e.join_ref)&&void 0!==s?s:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=0===Object.keys(c).length?"":JSON.stringify(c);if(i.length>255)throw new Error("joinRef length ".concat(i.length," exceeds maximum of 255"));if(o.length>255)throw new Error("ref length ".concat(o.length," exceeds maximum of 255"));if(a.length>255)throw new Error("topic length ".concat(a.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(d.length>255)throw new Error("metadata length ".concat(d.length," exceeds maximum of 255"));const u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+a.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let m=new DataView(h),p=0;m.setUint8(p++,this.KINDS.userBroadcastPush),m.setUint8(p++,i.length),m.setUint8(p++,o.length),m.setUint8(p++,a.length),m.setUint8(p++,l.length),m.setUint8(p++,d.length),m.setUint8(p++,t),Array.from(i,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(o,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(a,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>m.setUint8(p++,e.charCodeAt(0))),Array.from(d,e=>m.setUint8(p++,e.charCodeAt(0)));var f=new Uint8Array(h.byteLength+r.byteLength);return f.set(new Uint8Array(h),0),f.set(new Uint8Array(r),h.byteLength),f.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const r=JSON.parse(e),[n,s,a,o,i]=r;return t({join_ref:n,ref:s,topic:a,event:o,payload:i})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),s=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4);let i=this.HEADER_LENGTH+4;const l=r.decode(e.slice(i,i+n));i+=n;const c=r.decode(e.slice(i,i+s));i+=s;const d=r.decode(e.slice(i,i+a));i+=a;const u=e.slice(i,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(r.decode(u)):u,m={type:this.BROADCAST_EVENT,event:c,payload:h};return a>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[r]=e;return t.includes(r)})):{}}}class bt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(gt||(gt={}));const vt=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((r,s)=>(r[s]=yt(s,e,t,n),r),{}):{}},yt=(e,t,r,n)=>{const s=t.find(t=>t.name===e),a=null===s||void 0===s?void 0:s.type,o=r[e];return a&&!n.includes(a)?wt(a,o):jt(o)},wt=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return _t(t,r)}switch(e){case gt.bool:return kt(t);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return Nt(t);case gt.json:case gt.jsonb:return St(t);case gt.timestamp:return Ct(t);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:default:return jt(t)}},jt=e=>e,kt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nt=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},St=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},_t=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(s){n=a?a.split(","):[]}return n.map(e=>wt(t,e))}return e},Ct=e=>"string"===typeof e?e.replace(" ","T"):e,Et=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tt{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dt;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ot,Rt,At,Pt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Ot||(Ot={}));class It{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=It.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=It.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=It.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const s=this.cloneDeep(e),a=this.transformState(t),o={},i={};return this.map(s,(e,t)=>{a[e]||(i[e]=t)}),this.map(a,(e,t)=>{const r=s[e];if(r){const n=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),a=t.filter(e=>s.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),l.length>0&&(i[e]=l)}else o[e]=t}),this.syncDiff(s,{joins:o,leaves:i},r,n)}static syncDiff(e,t,r,n){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(s,(t,n)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(n),a.length>0){const r=e[t].map(e=>e.presence_ref),n=a.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,a,n)}),this.map(a,(t,r)=>{let s=e[t];if(!s)return;const a=r.map(e=>e.presence_ref);s=s.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=s,n(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Rt||(Rt={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(At||(At={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Pt||(Pt={}));class Lt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;var n,s;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Tt(this,mt.join,this.params,this.timeout),this.rejoinTimer=new bt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=ht.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new It(this),this.broadcastEndpointURL=Et(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(s=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:a,presence:o,private:i}}=this.params,l=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],c=!!this.bindings[At.PRESENCE]&&this.bindings[At.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),d={},u={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:i};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(Pt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(Pt.CLOSED)),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,s=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,a=[];for(let n=0;n<s;n++){const s=t[n],{filter:{event:o,schema:i,table:l,filter:c}}=s,d=r&&r[n];if(!(d&&d.event===o&&Lt.isFilterValueEqual(d.schema,i)&&Lt.isFilterValueEqual(d.table,l)&&Lt.isFilterValueEqual(d.filter,c)))return this.unsubscribe(),this.state=ht.errored,void(null===e||void 0===e||e(Pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e(Pt.SUBSCRIBED))}null===e||void 0===e||e(Pt.SUBSCRIBED)}).receive("error",t=>{this.state=ht.errored,null===e||void 0===e||e(Pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(Pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===ht.joined&&e===At.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization="Bearer ".concat(this.socket.accessTokenValue));const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===o.status)return{success:!0};let i=o.statusText;try{const e=await o.json();i=e.error||e.message||i}catch(l){}return Promise.reject(new Error(i))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,s,a;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=ht.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(mt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Tt(this,mt.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,s=setTimeout(()=>n.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),a}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new Tt(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,s;const a=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=mt;if(r&&[o,i,l,c].indexOf(a)>=0&&r!==this._joinRef())return;let d=this._onMessage(a,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===a}).map(e=>e.callback(d,r)):null===(s=this.bindings[a])||void 0===s||s.filter(e=>{var r,n,s,o,i,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return a&&(null===(n=t.ids)||void 0===n?void 0:n.includes(a))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const r=null===(i=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:n,type:s,errors:a}=e,o={schema:t,table:r,commit_timestamp:n,eventType:s,new:{},old:{},errors:a};d=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(d,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&Lt.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mt.close,{},e)}_onError(e){this._on(mt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=vt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=vt(e.columns,e.old_record)),t}}const Dt=()=>{},Mt=25e3,Ut=10,zt=100,Ft=[1e3,2e3,5e3,1e4];class Bt{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dt,this.transport=null,this.heartbeatIntervalMs=Mt,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dt,this.ref=0,this.reconnectTimer=null,this.vsn=ct,this.logger=Dt,this.conn=null,this.sendBuffer=[],this.serializer=new xt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(pt.websocket),this.httpEndpoint=Et(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ot.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ut.connecting:return ft.Connecting;case ut.open:return ft.Open;case ut.closing:return ft.Closing;default:return ft.Closed}}isConnected(){return this.connectionState()===ft.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new Lt("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:s}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(s,")"),n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(dc){this.log("error","error in heartbeat callback",dc)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},zt)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(dc){this.log("error","error in heartbeat callback",dc)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(dc){this.log("error","error in heartbeat callback",dc)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(dc){this.log("error","error in heartbeat callback",dc)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:s}=e,a=s?"(".concat(s,")"):"",o=n.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(r," ").concat(a).trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ut.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ut.open||this.conn.readyState===ut.connecting)try{this.conn.close()}catch(dc){this.log("error","Error closing connection",dc)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(mt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!1;if(t)e=t,r=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(dc){this.log("error","Error fetching access token from callback",dc),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:it};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(mt.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(dc){this.log("error","error in ".concat(e," callback"),dc)}})}catch(dc){this.log("error","error triggering ".concat(e," callbacks"),dc)}}_setupReconnectionTimer(){this.reconnectTimer=new bt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ut)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,s,a,o,i,l,c,d,u,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:dt,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:Mt,this.worker=null!==(s=null===e||void 0===e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(o=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==o?o:Dt,this.vsn=null!==(i=null===e||void 0===e?void 0:e.vsn)&&void 0!==i?i:ct,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Ft[e-1]||1e4,this.vsn){case lt:this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(d=null===e||void 0===e?void 0:e.decode)&&void 0!==d?d:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(u=null===e||void 0===e?void 0:e.encode)&&void 0!==u?u:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var qt=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(r=t.icebergType)||void 0===r?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Wt(e){var t;const r=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:n,path:s,query:a,body:o,headers:i}=t;const l=function(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))void 0!==a&&n.searchParams.set(s,a);return n.toString()}(e.baseUrl,s,a),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await r(l,{method:n,headers:He(He(He({},o?{"Content-Type":"application/json"}:{}),c),i),body:o?JSON.stringify(o):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),m=h&&u?JSON.parse(u):u;if(!d.ok){var p;const e=h?m:void 0,t=null===e||void 0===e?void 0:e.error;throw new qt(null!==(p=null===t||void 0===t?void 0:t.message)&&void 0!==p?p:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:m}}}}function Ht(e){return e.join("\x1f")}var Vt=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ht(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Ht(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Ht(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Ht(e.namespace))}),!0}catch(t){if(t instanceof qt&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof qt&&409===r.status)return;throw r}}};function Kt(e){return e.join("\x1f")}var Jt=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables"),body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){var r;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(r=null===t||void 0===t?void 0:t.purge)&&void 0!==r&&r)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(Kt(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(r){if(r instanceof qt&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof qt&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Gt=class{constructor(e){var t;let r="v1";e.catalogName&&(r+="/".concat(e.catalogName));const n=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=Wt({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new Vt(this.client,r),this.tableOps=new Jt(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var $t=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Yt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Qt=class extends $t{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xt=class extends $t{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Zt=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},er=e=>{if(Array.isArray(e))return e.map(e=>er(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const s=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=er(n)}),t};function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e){var t=function(e,t){if("object"!=tr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tr(t)?t:t+""}function nr(e,t,r){return(t=rr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(t){nr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const or=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},ir=async(e,t,r)=>{e instanceof await Response&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,s=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new Qt(or(r),n,s))}).catch(e=>{t(new Xt(or(e),e))}):t(new Xt(or(e),e))},lr=(e,t,r,n)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(s.headers=ar({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,(null===t||void 0===t?void 0:t.duplex)&&(s.duplex=t.duplex),ar(ar({},s),r)):s};async function cr(e,t,r,n,s,a){return new Promise((o,i)=>{e(r,lr(t,n,s,a)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>ir(e,i,n))})}async function dr(e,t,r,n){return cr(e,"GET",t,r,n)}async function ur(e,t,r,n,s){return cr(e,"POST",t,n,s,r)}async function hr(e,t,r,n,s){return cr(e,"PUT",t,n,s,r)}async function mr(e,t,r,n,s){return cr(e,"DELETE",t,n,s,r)}var pr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yt(e))return{data:null,error:e};throw e}}};let fr;fr=Symbol.toStringTag;var gr=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fr]="BlobDownloadBuilder",this.promise=null}asStream(){return new pr(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yt(e))return{data:null,error:e};throw e}}};const xr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},br={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Zt(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let a;const o=ar(ar({},br),n);let i=ar(ar({},s.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const l=o.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",s.encodeMetadata(l)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(l))):(a=r,i["cache-control"]="max-age=".concat(o.cacheControl),i["content-type"]=o.contentType,l&&(i["x-metadata"]=s.toBase64(s.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&a instanceof ReadableStream||a&&"object"===typeof a&&"pipe"in a&&"function"===typeof a.pipe)&&!o.duplex&&(o.duplex="half")),(null===n||void 0===n?void 0:n.headers)&&(i=ar(ar({},i),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),u=await("PUT"==e?hr:ur)(s.fetch,"".concat(s.url,"/object/").concat(d),a,ar({headers:i},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:c,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),i=new URL(s.url+"/object/upload/sign/".concat(o));i.searchParams.set("token",t);try{let e;const t=ar({upsert:br.upsert},n),o=ar(ar({},s.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType),{data:{path:a,fullPath:(await hr(s.fetch,i.toString(),e,{headers:o})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=ar({},r.headers);(null===t||void 0===t?void 0:t.upsert)&&(s["x-upsert"]="true");const a=await ur(r.fetch,"".concat(r.url,"/object/upload/sign/").concat(n),{},{headers:s}),o=new URL(r.url+a.url),i=o.searchParams.get("token");if(!i)throw new $t("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ur(n.fetch,"".concat(n.url,"/object/move"),{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await ur(n.fetch,"".concat(n.url,"/object/copy"),{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),a=await ur(n.fetch,"".concat(n.url,"/object/sign/").concat(s),ar({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:n.headers});const o=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(n.url).concat(a.signedURL).concat(o))},{data:a,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await ur(n.fetch,"".concat(n.url,"/object/sign/").concat(n.bucketId),{expiresIn:t,paths:e},{headers:n.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:s.map(e=>ar(ar({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(n.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}}download(e,t){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=n?"?".concat(n):"",a=this._getFinalPath(e);return new gr(()=>dr(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(a).concat(s),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:er(await dr(t.fetch,"".concat(t.url,"/object/info/").concat(r),{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await async function(e,t,r,n){return cr(e,"HEAD",t,ar(ar({},r),{},{noResolveJson:!0}),n)}(t.fetch,"".concat(t.url,"/object/").concat(r),{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Yt(n)&&n instanceof Xt){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==s&&n.push(s);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&n.push(o);let i=n.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(r).concat(i))}}}async remove(e){var t=this;try{return{data:await mr(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=ar(ar(ar({},xr),t),{},{prefix:e||""});return{data:await ur(n.fetch,"".concat(n.url,"/object/list/").concat(n.bucketId),s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Yt(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=ar({},e);return{data:await ur(r.fetch,"".concat(r.url,"/object/list-v2/").concat(r.bucketId),n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const yr="2.89.0",wr={"X-Client-Info":"storage-js/".concat(yr)};var jr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const s=new URL(e);(null===n||void 0===n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ar(ar({},wr),t),this.fetch=Zt(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await dr(t.fetch,"".concat(t.url,"/bucket").concat(r),{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await dr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var r=this;try{return{data:await ur(r.fetch,"".concat(r.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await hr(r.fetch,"".concat(r.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Yt(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ur(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await mr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},kr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ar(ar({},wr),t),this.fetch=Zt(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ur(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&r.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&r.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&r.set("search",e.search);const n=r.toString(),s=n?"".concat(t.url,"/bucket?").concat(n):"".concat(t.url,"/bucket");return{data:await dr(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await mr(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Yt(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new $t("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Gt({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(e,t){const r=e[t];return"function"!==typeof r?r:async function(){try{for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return{data:await r.apply(e,s),error:null}}catch(o){if(n)throw o;return{data:null,error:o}}}}})}};const Nr={"X-Client-Info":"storage-js/".concat(yr),"Content-Type":"application/json"};var Sr=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function _r(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}var Cr=class extends Sr{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Er=class extends Sr{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Tr=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rr=(e,t,r,n)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(s.headers=ar({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,ar(ar({},s),r)):s};async function Ar(e,t,r,n,s,a){return new Promise((o,i)=>{e(r,Rr(t,n,s,a)).then(e=>{if(!e.ok)throw e;if(null===n||void 0===n?void 0:n.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>o(e)).catch(e=>(async(e,t,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===r||void 0===r?void 0:r.noResolveJson)){const r=e.status||500,n=e;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||r+"";t(new Cr(Or(e),r,n))}).catch(()=>{const e=r+"";t(new Cr(n.statusText||"HTTP ".concat(r," error"),r,e))});else{const e=r+"";t(new Cr(n.statusText||"HTTP ".concat(r," error"),r,e))}}else t(new Er(Or(e),e))})(e,i,n))})}async function Pr(e,t,r,n,s){return Ar(e,"POST",t,n,s,r)}var Ir=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ar(ar({},Nr),t),this.fetch=Tr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Pr(r.fetch,"".concat(r.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Pr(r.fetch,"".concat(r.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}}},Lr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ar(ar({},Nr),t),this.fetch=Tr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pr(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:await Pr(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pr(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}},Dr=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ar(ar({},Nr),t),this.fetch=Tr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Pr(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}}},Mr=class extends Dr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new Ur(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},Ur=class extends Ir{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){return(()=>super.createIndex)().call(this,ar(ar({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,ar(ar({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new zr(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},zr=class extends Lr{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,ar(ar({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,ar(ar({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,ar(ar({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,ar(ar({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,ar(ar({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Fr=class extends jr{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new vr(this.url,this.headers,e,this.fetch)}get vectors(){return new Mr(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kr(this.url+"/iceberg",this.headers,this.fetch)}};const Br="2.89.0",qr=3e4,Wr=9e4,Hr={"X-Client-Info":"gotrue-js/".concat(Br)},Vr="X-Supabase-Api-Version",Kr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Jr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Gr extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function $r(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Yr extends Gr{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Qr extends Gr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Xr extends Gr{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Zr extends Xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class en extends Xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tn extends Xr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rn extends Xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nn extends Xr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sn extends Xr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class an extends Xr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function on(e){return $r(e)&&"AuthRetryableFetchError"===e.name}class ln extends Xr{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class cn extends Xr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),un=" \t\n\r=".split(""),hn=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<un.length;t+=1)e[un[t].charCodeAt(0)]=-2;for(let t=0;t<dn.length;t+=1)e[dn[t].charCodeAt(0)]=t;return e})();function mn(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(dn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(dn[e]),t.queuedBits-=6}}function pn(e,t,r){const n=hn[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function fn(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let o=0;o<e.length;o+=1)pn(e.charCodeAt(o),s,a);return t.join("")}function gn(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function xn(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}gn(n,t)}}function bn(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)pn(e.charCodeAt(s),r,n);return new Uint8Array(t)}function vn(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>mn(e,r,n)),mn(null,r,n),t.join("")}const yn=()=>"undefined"!==typeof window&&"undefined"!==typeof document,wn={tested:!1,writable:!1},jn=()=>{if(!yn())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(dc){return!1}if(wn.tested)return wn.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wn.tested=!0,wn.writable=!0}catch(dc){wn.tested=!0,wn.writable=!1}return wn.writable};const kn=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Nn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},_n=async(e,t)=>{await e.removeItem(t)};class Cn{constructor(){this.promise=new Cn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function En(e){const t=e.split(".");if(3!==t.length)throw new cn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Jr.test(t[r]))throw new cn("JWT not in base64url format");return{header:JSON.parse(fn(t[0])),payload:JSON.parse(fn(t[1])),signature:bn(t[2]),raw:{header:t[0],payload:t[1]}}}function Tn(e){return("0"+e.toString(16)).substr(-2)}async function On(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Tn).join("")}();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nn(e,"".concat(t,"-code-verifier"),s);const a=await On(n);return[a,n===a?"plain":"s256"]}Cn.promiseConstructor=Promise;const An=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Pn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(e){if(!Pn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ln(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Dn(e){return JSON.parse(JSON.stringify(e))}const Mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Un=[502,503,504];async function zn(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new an(Mn(e),0);if(Un.includes(e.status))throw new an(Mn(e),e.status);let n,s;try{n=await e.json()}catch(dc){throw new Qr(Mn(dc),dc)}const a=function(e){const t=e.headers.get(Vr);if(!t)return null;if(!t.match(An))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(dc){return null}}(e);if(a&&a.getTime()>=Kr.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?s=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(s=n.error_code),s){if("weak_password"===s)throw new ln(Mn(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Zr}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new ln(Mn(n),e.status,n.weak_password.reasons);throw new Yr(Mn(n),e.status||500,s)}async function Fn(e,t,r,n){var s;const a=Object.assign({},null===n||void 0===n?void 0:n.headers);a[Vr]||(a[Vr]=Kr.name),(null===n||void 0===n?void 0:n.jwt)&&(a.Authorization="Bearer ".concat(n.jwt));const o=null!==(s=null===n||void 0===n?void 0:n.query)&&void 0!==s?s:{};(null===n||void 0===n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,r,n,s,a){const o=((e,t,r,n)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))})(t,n,s,a);let i;try{i=await e(r,Object.assign({},o))}catch(dc){throw console.error(dc),new an(Mn(dc),0)}i.ok||await zn(i);if(null===n||void 0===n?void 0:n.noResolveJson)return i;try{return await i.json()}catch(dc){await zn(dc)}}(e,t,r+i,{headers:a,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function Bn(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function qn(e){const t=Bn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Wn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Hn(e){return{data:e,error:null}}function Vn(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=Ve(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},user:Object.assign({},o)},error:null}}function Kn(e){return e}const Jn=["global","local","others"];class Gn{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=kn(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn[0];if(Jn.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Jn.join(", ")));try{return await Fn(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($r(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Fn(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Wn})}catch(r){if($r(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Ve(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await Fn(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:Vn,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if($r(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Fn(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Wn})}catch(t){if($r(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,s,a,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Fn(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==s?s:""},xform:Kn});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if($r(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){In(e);try{return await Fn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Wn})}catch(t){if($r(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){In(e);try{return await Fn(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Wn})}catch(r){if($r(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];In(e);try{return await Fn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Wn})}catch(r){if($r(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){In(e.userId);try{const{data:t,error:r}=await Fn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if($r(t))return{data:null,error:t};throw t}}async _deleteFactor(e){In(e.userId),In(e.id);try{return{data:await Fn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if($r(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,s,a,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Fn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==s?s:""},xform:Kn});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if($r(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Fn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if($r(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Fn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if($r(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Fn(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if($r(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Fn(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if($r(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Fn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if($r(t))return{data:null,error:t};throw t}}}function $n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Yn=!!(globalThis&&jn()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Qn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Xn extends Qn{}async function Zn(e,t,r){Yn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw Yn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Yn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(dc){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",dc)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Yn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Yn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}function es(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function ts(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class rs extends Error{constructor(e){let{message:t,code:r,cause:n,name:s}=e;var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(a=null!==s&&void 0!==s?s:n instanceof Error?n.name:void 0)&&void 0!==a?a:"Unknown Error",this.code=r}}class ns extends rs{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function ss(e){let{error:t,options:r}=e;var n,s,a;const{publicKey:o}=r;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new rs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(n=o.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new rs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===r.mediation&&"required"===(null===(s=o.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new rs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(a=o.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new rs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new rs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new rs({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===o.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new rs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!us(e))return new rs({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(o.rp.id!==e)return new rs({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new rs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new rs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function as(e){let{error:t,options:r}=e;const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new rs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new rs({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!us(e))return new rs({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(n.rpId!==e)return new rs({message:'The RP ID "'.concat(n.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new rs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const os=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function is(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ve(e,["challenge","user","excludeCredentials"]),a=bn(t).buffer,o=Object.assign(Object.assign({},r),{id:bn(r.id).buffer}),i=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){i.excludeCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];i.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:bn(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function ls(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ve(e,["challenge","allowCredentials"]),s=bn(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:bn(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function cs(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vn(new Uint8Array(e.response.attestationObject)),clientDataJSON:vn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function ds(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vn(new Uint8Array(s.authenticatorData)),clientDataJSON:vn(new Uint8Array(s.clientDataJSON)),signature:vn(new Uint8Array(s.signature)),userHandle:s.userHandle?vn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function us(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hs(){var e,t;return!!(yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const ms={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ps={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fs(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];for(const o of s)if(o)for(const n in o){const s=o[n];if(void 0!==s)if(Array.isArray(s))r[n]=s;else if(t(s))r[n]=s;else if(e(s)){const t=r[n];e(t)?r[n]=fs(t,s):r[n]=fs(s)}else r[n]=s}return r}class gs{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:r,webauthn:n,friendlyName:s,signal:a}=e;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!e)return{data:null,error:o};const i=null!==a&&void 0!==a?a:os.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(s)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const n=function(e,t){return fs(ms,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:s,error:a}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ns("Browser returned unexpected credential type",t)}:{data:null,error:new ns("Empty credential response",t)}}catch(t){return{data:null,error:ss({error:t,options:e})}}}({publicKey:n,signal:i});return s?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:s}},error:null}:{data:null,error:a}}case"request":{const n=function(e,t){return fs(ps,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:s,error:a}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ns("Browser returned unexpected credential type",t)}:{data:null,error:new ns("Empty credential response",t)}}catch(t){return{data:null,error:as({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:n,signal:i}));return s?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:s}},error:null}:{data:null,error:a}}}}catch(o){return $r(o)?{data:null,error:o}:{data:null,error:new Qr("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:r,webauthn:n}=e;return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate(e,t){let{factorId:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}={}}=e;if(!n)return{data:null,error:new Gr("rpId is required for WebAuthn authentication")};try{if(!hs())return{data:null,error:new Qr("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:t});if(!e)return{data:null,error:o};const{webauthn:i}=e;return this._verify({factorId:r,challengeId:e.challengeId,webauthn:{type:i.type,rpId:n,rpOrigins:s,credential_response:i.credential_response}})}catch(o){return $r(o)?{data:null,error:o}:{data:null,error:new Qr("Unexpected error in authenticate",o)}}}async _register(e,t){let{friendlyName:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:s=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}={}}=e;if(!n)return{data:null,error:new Gr("rpId is required for WebAuthn registration")};try{if(!hs())return{data:null,error:new Qr("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this._enroll({friendlyName:r});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===r&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:o};const{data:i,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:t});return i?this._verify({factorId:e.id,challengeId:i.challengeId,webauthn:{rpId:n,rpOrigins:s,type:i.webauthn.type,credential_response:i.webauthn.credential_response}}):{data:null,error:l}}catch(o){return $r(o)?{data:null,error:o}:{data:null,error:new Qr("Unexpected error in register",o)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(dc){"undefined"!==typeof self&&(self.globalThis=self)}}();const xs={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function bs(e,t,r){return await r()}const vs={};class ys{get jwks(){var e,t;return null!==(t=null===(e=vs[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=vs[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},xs),e);if(this.storageKey=s.storageKey,this.instanceID=null!==(t=ys.nextInstanceID[this.storageKey])&&void 0!==t?t:0,ys.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,"function"===typeof s.debug&&(this.logger=s.debug),this.instanceID>0&&yn()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Gn({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kn(s.fetch),this.lock=s.lock||bs,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&yn()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=Zn:this.lock=bs,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gs(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:jn()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$n(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$n(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(dc){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",dc)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(Br,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(yn()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(dc){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),yn()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return $r(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $r(t)?this._returnResult({error:t}):this._returnResult({error:new Qr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const s=await Fn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:Bn}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const i=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(s){if($r(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,r,n;try{let s;if("email"in e){const{email:r,password:n,options:a}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Rn(this.storage,this.storageKey)),s=await Fn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:i},xform:Bn})}else{if(!("phone"in e))throw new tn("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:o}=e;s=await Fn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(r=null===o||void 0===o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null===o||void 0===o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Bn})}}const{data:a,error:o}=s;if(o||!a)return await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:o});const i=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(s){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:s}=e;t=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:qn})}else{if(!("phone"in e))throw new tn("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:s}=e;t=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:qn})}}const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const e=new en;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if($r(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,r,n,s,a,o,i,l,c,d,u;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:d,wallet:u,statement:p,options:f}=e;let g;if(yn())if("object"===typeof u)g=u;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof u||!(null===f||void 0===f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=u}const x=new URL(null!==(t=null===f||void 0===f?void 0:f.url)&&void 0!==t?t:window.location.href),b=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const v=es(b[0]);let y=null===(r=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!y){const e=await g.request({method:"eth_chainId"});y=parseInt(e,16)}h=function(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:i,requestId:l,resources:c,scheme:d,uri:u,version:h}=e;if(!Number.isInteger(r))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(r));if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(o));if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const m=es(e.address),p=d?"".concat(d,"://").concat(n):n,f=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(m,"\n\n").concat(f);let x="URI: ".concat(u,"\nVersion: ").concat(h,"\nChain ID: ").concat(r).concat(o?"\nNonce: ".concat(o):"","\nIssued At: ").concat(a.toISOString());if(s&&(x+="\nExpiration Time: ".concat(s.toISOString())),i&&(x+="\nNot Before: ".concat(i.toISOString())),l&&(x+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}x+=e}return"".concat(g,"\n").concat(x)}({domain:x.host,address:v,statement:p,uri:x.href,version:"1",chainId:y,nonce:null===(n=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(a=null===(s=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===s?void 0:s.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(o=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(i=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===i?void 0:i.notBefore,requestId:null===(l=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===f||void 0===f?void 0:f.signInWithEthereum)||void 0===c?void 0:c.resources}),m=await g.request({method:"personal_sign",params:[ts(h),v]})}try{const{data:t,error:r}=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Bn});if(r)throw r;if(!t||!t.session||!t.user){const e=new en;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(p){if($r(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,r,n,s,a,o,i,l,c,d,u,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:u,wallet:h,statement:f,options:g}=e;let x;if(yn())if("object"===typeof h)x=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const b=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x)||"function"!==typeof x.signMessage||!("publicKey"in x)||"object"!==typeof x||!x.publicKey||!("toBase58"in x.publicKey)||"function"!==typeof x.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=["".concat(b.host," wants you to sign in with your Solana account:"),x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(b.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(d=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:vn(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Bn});if(r)throw r;if(!t||!t.session||!t.user){const e=new en;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(f){if($r(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async _exchangeCodeForSession(e){const t=await Sn(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new sn;const{data:t,error:s}=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Bn});if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),s)throw s;if(!t||!t.session||!t.user){const e=new en;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:s})}catch(s){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:s,nonce:a}=e,o=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Bn}),{data:i,error:l}=o;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const e=new en;return this._returnResult({data:{user:null,session:null},error:e})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:i,error:l})}catch(t){if($r(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,s,a;try{if("email"in e){const{email:n,options:s}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await Rn(this.storage,this.storageKey));const{error:i}=await Fn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(r=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:o},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:i}=await Fn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(s=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(a=null===r||void 0===r?void 0:r.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i})}throw new tn("You must provide either an email or phone number.")}catch(o){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,r;try{let n,s;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:a,error:o}=await Fn(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:Bn});if(o)throw o;if(!a){throw new Error("An error occurred on token verification.")}const i=a.session,l=a.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),this._returnResult({data:{user:l,session:i},error:null})}catch(n){if($r(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,s,a;try{let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Rn(this.storage,this.storageKey));const l=await Fn(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Hn});return(null===(s=l.data)||void 0===s?void 0:s.url)&&yn()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(o){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Zr;const{error:n}=await Fn(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if($r(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:s}=e,{error:a}=await Fn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:r,type:n,options:s}=e,{data:a,error:o}=await Fn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:o})}throw new tn("You must provide either an email or phone number and a type")}catch(t){if($r(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(dc){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(dc){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Wr;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await Sn(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Ln()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,n)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"===typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,n)}return t.value||"string"!==typeof r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,n)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await Fn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Wn}):await this._useSession(async e=>{var t,r,n;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Fn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Wn}):{data:{user:null},error:new Zr}})}catch(t){if($r(t))return function(e){return $r(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await _n(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:s}=r;if(s)throw s;if(!n.session)throw new Zr;const a=n.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await Rn(this.storage,this.storageKey));const{data:l,error:c}=await Fn(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:a.access_token,xform:Wn});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zr;const t=Date.now()/1e3;let r=t,n=!0,s=null;const{payload:a}=En(e.access_token);if(a.exp&&(r=a.exp,n=r<=t),n){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:n,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if($r(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:s}=t;if(s)throw s;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Zr;const{data:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if($r(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!yn())throw new rn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new nn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new rn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new nn("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:s,refresh_token:a,expires_in:o,expires_at:i,token_type:l}=e;if(!s||!o||!a||!l)throw new rn("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let u=c+d;i&&(u=parseInt(i));const h=u-c;1e3*h<=qr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(d,"s"));const m=u-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,u,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,u,c);const{data:p,error:f}=await this._getUser(s);if(f)throw f;const g={provider_token:r,provider_refresh_token:n,access_token:s,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if($r(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Sn(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return this._returnResult({error:s});const a=null===(r=n.session)||void 0===r?void 0:r.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return $r(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await _n(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:s}=t;if(s)throw s;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(s){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await Rn(this.storage,this.storageKey,!0));try{return await Fn(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,s,a,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Fn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(a=i.session)||void 0===a?void 0:a.access_token)&&void 0!==o?o:void 0})});if(n)throw n;return yn()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null})}catch(r){if($r(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:s}}=t;if(n)throw n;const{options:a,provider:o,token:i,access_token:l,nonce:c}=e,d=await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(r=null===s||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,body:{provider:o,id_token:i,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Bn}),{data:u,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):u&&u.session&&u.user?(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:h})):this._returnResult({data:{user:null,session:null},error:new en})}catch(n){if(await _n(this.storage,"".concat(this.storageKey,"-code-verifier")),$r(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:s,error:a}=t;if(a)throw a;return await Fn(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const s=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Fn(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Bn})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&on(t)&&Date.now()+r-s<qr},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!n(s,null,t))return void e(t)}catch(dc){if(!n(s,dc))return void t(dc)}})()}))}catch(s){if(this._debug(t,"error",s),$r(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),yn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Sn(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Sn(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Nn(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Ln()}else if(s&&!s.user&&!s.user){const e=await Sn(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await _n(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,s)):s.user=Ln()}if(this._debug(r,"session from storage",s),!this._isValidSession(s))return this._debug(r,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<Wr;if(this._debug(r,"session has".concat(a?"":" not"," expired with margin of ").concat(Wr,"s")),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),on(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(r,"error",s),void console.error(s)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new Cn;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Zr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(s){if(this._debug(n,"error",s),$r(s)){const e={data:null,error:s};return on(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(dc){n.push(dc)}});if(await Promise.all(s),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _n(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=Dn(e);await Nn(this.storage,this.storageKey,n)}else{const e=Dn(t);await Nn(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _n(this.storage,this.storageKey),await _n(this.storage,this.storageKey+"-code-verifier"),await _n(this.storage,this.storageKey+"-user"),this.userStorage&&await _n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yn()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(dc){console.error("removing visibilitychange callback failed",dc)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/qr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(qr,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(dc){console.error("Auto refresh tick failed with error. This is likely a transient error.",dc)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(dc){if(!(dc.isAcquireTimeout||dc instanceof Qn))throw dc;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await Rn(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;return s?this._returnResult({data:null,error:s}):await Fn(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:i,error:l}=await Fn(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(r=null===s||void 0===s?void 0:s.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===i.type&&(null===(n=null===i||void 0===i?void 0:i.totp)||void 0===n?void 0:n.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),this._returnResult({data:i,error:null}))})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?cs(e.webauthn.credential_response):ds(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:i}=await Fn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:a,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?this._returnResult({data:null,error:i}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:i}))})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await Fn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:is(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ls(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const s of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(s),"verified"===s.status&&n[s.factor_type].push(s);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=En(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Fn(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Zr})})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!n)return this._returnResult({data:null,error:new Zr});const a=await Fn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&yn()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if($r(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!n)return this._returnResult({data:null,error:new Zr});const a=await Fn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&yn()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if($r(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await Fn(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Zr})})}catch(e){if($r(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await Fn(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zr})})}catch(t){if($r(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:s}=await Fn(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(s)throw s;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:n,payload:s,signature:a,raw:{header:o,payload:i}}=En(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:s,header:n,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,function(e){const t=[];return xn(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(i))))throw new cn("Invalid JWT signature");return{data:{claims:s,header:n,signature:a},error:null}}catch(r){if($r(r))return this._returnResult({data:null,error:r});throw r}}}ys.nextInstanceID={};const ws=ys;let js="";js="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ks={headers:{"X-Client-Info":"supabase-js-".concat(js,"/").concat("2.89.0")}},Ns={schema:"public"},Ss={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_s={};function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Es(e){var t=function(e,t){if("object"!=Cs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cs(t)?t:t+""}function Ts(e,t,r){return(t=Es(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(r),!0).forEach(function(t){Ts(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Os(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const As=(e,t,r)=>{const n=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r),s=Headers;return async(r,a)=>{var o;const i=null!==(o=await t())&&void 0!==o?o:e;let l=new s(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),n(r,Rs(Rs({},a),{},{headers:l}))}};var Ps=class extends ws{constructor(e){super(e)}},Is=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o="sb-".concat(a.hostname.split(".")[0],"-auth-token"),i=function(e,t){var r,n;const{db:s,auth:a,realtime:o,global:i}=e,{db:l,auth:c,realtime:d,global:u}=t,h={db:Rs(Rs({},l),s),auth:Rs(Rs({},c),a),realtime:Rs(Rs({},d),o),storage:{},global:Rs(Rs(Rs({},u),i),{},{headers:Rs(Rs({},null!==(r=null===u||void 0===u?void 0:u.headers)&&void 0!==r?r:{}),null!==(n=null===i||void 0===i?void 0:i.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:Ns,realtime:_s,auth:Rs(Rs({},Ss),{},{storageKey:o}),global:ks});var l;(this.storageKey=null!==(n=i.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(s=i.global.headers)&&void 0!==s?s:{},i.accessToken)?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=i.auth)&&void 0!==l?l:{},this.headers,i.global.fetch);this.fetch=As(t,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(Rs({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new at(new URL("rest/v1",a).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch}),this.storage=new Fr(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new Xe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,r=this;if(r.accessToken)return await r.accessToken();const{data:n}=await r.auth.getSession();return null!==(e=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:r.supabaseKey}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:o,userStorage:i,storageKey:l,flowType:c,lock:d,debug:u,throwOnError:h}=e;const m={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ps({url:this.authUrl.href,headers:Rs(Rs({},m),t),storageKey:l,autoRefreshToken:n,persistSession:s,detectSessionInUrl:a,storage:o,userStorage:i,flowType:c,lock:d,debug:u,throwOnError:h,fetch:r,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Bt(this.realtimeUrl.href,Rs(Rs({},e),{},{params:Rs(Rs({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}};(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ls=((e,t,r)=>new Is(e,t,r))("https://uimdbodamoeyukrghchb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpbWRib2RhbW9leXVrcmdoY2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NTYwMzksImV4cCI6MjA4MTAzMjAzOX0.kMFpnaZN04ac94u0wcXJFsS58lX88h8RCM2de3rwYIc"),Ds=e=>{let{isOpen:t,onClose:r,onAuthSuccess:n}=e;const[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({name:"",email:"",password:""}),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null);if(!t)return null;const f=e=>{l(He(He({},i),{},{[e.target.name]:e.target.value})),d(null)};return(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-[#1a1c23] border border-gray-700 rounded-2xl w-full max-w-md overflow-hidden relative shadow-2xl animate-fade-in-up",children:[(0,Me.jsxs)("div",{className:"px-8 pt-8 pb-6 text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent mb-2",children:s?"Welcome Back":"Join Academy"}),(0,Me.jsx)("p",{className:"text-gray-400 text-sm",children:s?"Continue your learning journey":"Start your creative coding journey today"})]}),(0,Me.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(null),h(!0),p(null);try{if(s){const{data:e,error:t}=await Ls.auth.signInWithPassword({email:i.email,password:i.password});if(t)throw t;const{data:s}=await Ls.from("users").select("*").eq("id",e.user.id).single(),a=He(He({},e.user),s);localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",e.session.access_token),n(a),r()}else{if(i.password.length<8)throw new Error("Password must be at least 8 characters long.");const{data:e,error:t}=await Ls.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.name,role:"student"}}});if(t)throw t;if(null!==e&&void 0!==e&&e.user){const{error:t}=await Ls.from("users").insert({id:e.user.id,email:i.email,name:i.name,role:"student",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});if(t&&console.error("Profile creation warning:",t),!e.session)return p("Account created! Please check your email to confirm."),void h(!1);const s=He(He({},e.user),{},{name:i.name,role:"student"});localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("token",e.session.access_token),n(s),r()}}}catch(t){console.error("Auth Error:",t),d(t.message||"An unknown error occurred.")}finally{h(!1)}},className:"px-8 pb-8 space-y-4",children:[c&&(0,Me.jsxs)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm",children:["\u26a0\ufe0f ",c]}),m&&(0,Me.jsxs)("div",{className:"bg-green-500/10 border border-green-500/50 text-green-200 px-4 py-3 rounded-lg text-sm",children:["\u2705 ",m]}),!s&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-gray-300 text-xs font-medium mb-1 ml-1",children:"Full Name"}),(0,Me.jsx)("input",{type:"text",name:"name",value:i.name,onChange:f,className:"w-full bg-[#13141a] border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Viktor James",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-gray-300 text-xs font-medium mb-1 ml-1",children:"Email Address"}),(0,Me.jsx)("input",{type:"email",name:"email",value:i.email,onChange:f,className:"w-full bg-[#13141a] border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"you@example.com",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-gray-300 text-xs font-medium mb-1 ml-1",children:"Password"}),(0,Me.jsx)("input",{type:"password",name:"password",value:i.password,onChange:f,className:"w-full bg-[#13141a] border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),(0,Me.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-3.5 rounded-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:u?(0,Me.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Me.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Me.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Me.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s?"Sign In":"Create Account"}),(0,Me.jsx)("div",{className:"text-center pt-2",children:(0,Me.jsx)("button",{type:"button",onClick:()=>{o(!s),d(null),p(null)},className:"text-gray-400 hover:text-white text-sm transition-colors",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),(0,Me.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})},Ms=async e=>{try{var t,r,n,s,a,o,i,l,c,d,u,h,m,p;if(!e.email||!e.password)throw new Error("Email and password are required");const{data:g,error:x}=await Ls.auth.signInWithPassword({email:e.email,password:e.password});if(x)throw new Error(x.message||"Login failed. Please try again.");if(!g||!g.user)throw new Error("Invalid response from server: Missing user data");let{data:b,error:v}=await Ls.from("users").select("*").eq("id",g.user.id).single();if(v){var f;const{error:e}=await Ls.from("users").insert({id:g.user.id,email:g.user.email,name:(null===(f=g.user.user_metadata)||void 0===f?void 0:f.name)||g.user.email.split("@")[0],role:"student",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});e&&console.error("Error creating user profile:",e);const{data:t,error:r}=await Ls.from("users").select("*").eq("id",g.user.id).single();r||(b=t)}const y=(null===(t=b)||void 0===t?void 0:t.name)||(null===(r=g.user.user_metadata)||void 0===r?void 0:r.name)||(g.user.email?g.user.email.split("@")[0]:"User"),w={_id:g.user.id,name:y,email:g.user.email||"",role:(null===(n=b)||void 0===n?void 0:n.role)||"student",avatar:(null===(s=b)||void 0===s?void 0:s.avatar)||(null===(a=g.user.user_metadata)||void 0===a?void 0:a.avatar)||"",bio:(null===(o=b)||void 0===o?void 0:o.bio)||"",location:(null===(i=b)||void 0===i?void 0:i.location)||"",website:(null===(l=b)||void 0===l?void 0:l.website)||"",enrolledCourses:(null===(c=b)||void 0===c?void 0:c.enrolled_courses)||[],createdAt:(null===(d=b)||void 0===d?void 0:d.created_at)||g.user.created_at||(new Date).toISOString(),updatedAt:(null===(u=b)||void 0===u?void 0:u.updated_at)||(new Date).toISOString(),badges:(null===(h=b)||void 0===h?void 0:h.badges)||[],dashboardPreferences:(null===(m=b)||void 0===m?void 0:m.dashboard_preferences)||{}};return g.session&&localStorage.setItem("token",g.session.access_token),localStorage.setItem("user",JSON.stringify(w)),{token:null===(p=g.session)||void 0===p?void 0:p.access_token,user:w}}catch(g){throw console.error("Login error:",g),new Error(g.message||"Login failed. Please try again.")}},Us=async()=>{try{const{error:e}=await Ls.auth.signOut();e&&console.error("Supabase logout error:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){console.error("Logout error:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}},zs=async()=>{try{var e,t,r,n,s,a,o,i,l;const{data:{session:c}}=await Ls.auth.getSession();if(!c)return localStorage.removeItem("token"),localStorage.removeItem("user"),null;const{data:{user:d},error:u}=await Ls.auth.getUser();if(u||!d)throw new Error("Unable to get user data");const{data:h,error:m}=await Ls.from("users").select("*").eq("id",d.id).single(),p=(null===h||void 0===h?void 0:h.name)||(null===(e=d.user_metadata)||void 0===e?void 0:e.name)||(d.email?d.email.split("@")[0]:"User"),f={_id:d.id,name:p,email:d.email||"",role:(null===h||void 0===h?void 0:h.role)||(null===(t=d.user_metadata)||void 0===t?void 0:t.role)||"student",avatar:(null===h||void 0===h?void 0:h.avatar)||(null===(r=d.user_metadata)||void 0===r?void 0:r.avatar)||"",bio:(null===h||void 0===h?void 0:h.bio)||(null===(n=d.user_metadata)||void 0===n?void 0:n.bio)||"",location:(null===h||void 0===h?void 0:h.location)||(null===(s=d.user_metadata)||void 0===s?void 0:s.location)||"",website:(null===h||void 0===h?void 0:h.website)||(null===(a=d.user_metadata)||void 0===a?void 0:a.website)||"",enrolledCourses:(null===h||void 0===h?void 0:h.enrolled_courses)||(null===(o=d.user_metadata)||void 0===o?void 0:o.enrolledCourses)||[],createdAt:(null===h||void 0===h?void 0:h.created_at)||d.created_at||(new Date).toISOString(),updatedAt:(null===h||void 0===h?void 0:h.updated_at)||(new Date).toISOString(),badges:(null===h||void 0===h?void 0:h.badges)||(null===(i=d.user_metadata)||void 0===i?void 0:i.badges)||[],dashboardPreferences:(null===h||void 0===h?void 0:h.dashboard_preferences)||(null===(l=d.user_metadata)||void 0===l?void 0:l.dashboardPreferences)||{}};return localStorage.setItem("user",JSON.stringify(f)),f}catch(c){return console.error("Get current user error:",c),localStorage.removeItem("token"),localStorage.removeItem("user"),null}},Fs=()=>null!==localStorage.getItem("token");function Bs(e,t){return function(){return e.apply(t,arguments)}}const{toString:qs}=Object.prototype,{getPrototypeOf:Ws}=Object,{iterator:Hs,toStringTag:Vs}=Symbol,Ks=(Js=Object.create(null),e=>{const t=qs.call(e);return Js[t]||(Js[t]=t.slice(8,-1).toLowerCase())});var Js;const Gs=e=>(e=e.toLowerCase(),t=>Ks(t)===e),$s=e=>t=>typeof t===e,{isArray:Ys}=Array,Qs=$s("undefined");function Xs(e){return null!==e&&!Qs(e)&&null!==e.constructor&&!Qs(e.constructor)&&ta(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zs=Gs("ArrayBuffer");const ea=$s("string"),ta=$s("function"),ra=$s("number"),na=e=>null!==e&&"object"===typeof e,sa=e=>{if("object"!==Ks(e))return!1;const t=Ws(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Vs in e)&&!(Hs in e)},aa=Gs("Date"),oa=Gs("File"),ia=Gs("Blob"),la=Gs("FileList"),ca=Gs("URLSearchParams"),[da,ua,ha,ma]=["ReadableStream","Request","Response","Headers"].map(Gs);function pa(e,t){let r,n,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ys(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Xs(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let o;for(r=0;r<a;r++)o=n[r],t.call(null,e[o],o,e)}}function fa(e,t){if(Xs(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,s=r.length;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const ga="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,xa=e=>!Qs(e)&&e!==ga;const ba=(va="undefined"!==typeof Uint8Array&&Ws(Uint8Array),e=>va&&e instanceof va);var va;const ya=Gs("HTMLFormElement"),wa=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),ja=Gs("RegExp"),ka=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};pa(r,(r,s)=>{let a;!1!==(a=t(r,s,e))&&(n[s]=a||r)}),Object.defineProperties(e,n)};const Na=Gs("AsyncFunction"),Sa=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],ga.addEventListener("message",e=>{let{source:t,data:s}=e;t===ga&&s===r&&n.length&&n.shift()()},!1),e=>{n.push(e),ga.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,ta(ga.postMessage)),_a="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ga):"undefined"!==typeof process&&process.nextTick||Sa,Ca={isArray:Ys,isArrayBuffer:Zs,isBuffer:Xs,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ta(e.append)&&("formdata"===(t=Ks(e))||"object"===t&&ta(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Zs(e.buffer),t},isString:ea,isNumber:ra,isBoolean:e=>!0===e||!1===e,isObject:na,isPlainObject:sa,isEmptyObject:e=>{if(!na(e)||Xs(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(dc){return!1}},isReadableStream:da,isRequest:ua,isResponse:ha,isHeaders:ma,isUndefined:Qs,isDate:aa,isFile:oa,isBlob:ia,isRegExp:ja,isFunction:ta,isStream:e=>na(e)&&ta(e.pipe),isURLSearchParams:ca,isTypedArray:ba,isFileList:la,forEach:pa,merge:function e(){const{caseless:t,skipUndefined:r}=xa(this)&&this||{},n={},s=(s,a)=>{const o=t&&fa(n,a)||a;sa(n[o])&&sa(s)?n[o]=e(n[o],s):sa(s)?n[o]=e({},s):Ys(s)?n[o]=s.slice():r&&Qs(s)||(n[o]=s)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&pa(arguments[a],s);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pa(t,(t,n)=>{r&&ta(t)?e[n]=Bs(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let s,a,o;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],n&&!n(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&Ws(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ks,kindOfTest:Gs,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Ys(e))return e;let t=e.length;if(!ra(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Hs]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:ya,hasOwnProperty:wa,hasOwnProp:wa,reduceDescriptors:ka,freezeMethods:e=>{ka(e,(t,r)=>{if(ta(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];ta(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Ys(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:fa,global:ga,isContextDefined:xa,isSpecCompliantForm:function(e){return!!(e&&ta(e.append)&&"FormData"===e[Vs]&&e[Hs])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(na(e)){if(t.indexOf(e)>=0)return;if(Xs(e))return e;if(!("toJSON"in e)){t[n]=e;const s=Ys(e)?[]:{};return pa(e,(e,t)=>{const a=r(e,n+1);!Qs(a)&&(s[t]=a)}),t[n]=void 0,s}}return e};return r(e,0)},isAsyncFn:Na,isThenable:e=>e&&(na(e)||ta(e))&&ta(e.then)&&ta(e.catch),setImmediate:Sa,asap:_a,isIterable:e=>null!=e&&ta(e[Hs])};function Ea(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ca.inherits(Ea,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ca.toJSONObject(this.config),code:this.code,status:this.status}}});const Ta=Ea.prototype,Oa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Oa[e]={value:e}}),Object.defineProperties(Ea,Oa),Object.defineProperty(Ta,"isAxiosError",{value:!0}),Ea.from=(e,t,r,n,s,a)=>{const o=Object.create(Ta);Ca.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Ea.call(o,i,l,r,n,s),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Ra=Ea;function Aa(e){return Ca.isPlainObject(e)||Ca.isArray(e)}function Pa(e){return Ca.endsWith(e,"[]")?e.slice(0,-2):e}function Ia(e,t,r){return e?e.concat(t).map(function(e,t){return e=Pa(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const La=Ca.toFlatObject(Ca,{},null,function(e){return/^is[A-Z]/.test(e)});const Da=function(e,t,r){if(!Ca.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Ca.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ca.isUndefined(t[e])})).metaTokens,s=r.visitor||c,a=r.dots,o=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Ca.isSpecCompliantForm(t);if(!Ca.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ca.isDate(e))return e.toISOString();if(Ca.isBoolean(e))return e.toString();if(!i&&Ca.isBlob(e))throw new Ra("Blob is not supported. Use a Buffer instead.");return Ca.isArrayBuffer(e)||Ca.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,s){let i=e;if(e&&!s&&"object"===typeof e)if(Ca.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Ca.isArray(e)&&function(e){return Ca.isArray(e)&&!e.some(Aa)}(e)||(Ca.isFileList(e)||Ca.endsWith(r,"[]"))&&(i=Ca.toArray(e)))return r=Pa(r),i.forEach(function(e,n){!Ca.isUndefined(e)&&null!==e&&t.append(!0===o?Ia([r],n,a):null===o?r:r+"[]",l(e))}),!1;return!!Aa(e)||(t.append(Ia(s,r,a),l(e)),!1)}const d=[],u=Object.assign(La,{defaultVisitor:c,convertValue:l,isVisitable:Aa});if(!Ca.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Ca.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),Ca.forEach(r,function(r,a){!0===(!(Ca.isUndefined(r)||null===r)&&s.call(t,r,Ca.isString(a)?a.trim():a,n,u))&&e(r,n?n.concat(a):[a])}),d.pop()}}(e),t};function Ma(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ua(e,t){this._pairs=[],e&&Da(e,this,t)}const za=Ua.prototype;za.append=function(e,t){this._pairs.push([e,t])},za.toString=function(e){const t=e?function(t){return e.call(this,t,Ma)}:Ma;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Fa=Ua;function Ba(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qa(e,t,r){if(!t)return e;const n=r&&r.encode||Ba;Ca.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(a=s?s(t,r):Ca.isURLSearchParams(t)?t.toString():new Fa(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Wa=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ca.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ha={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Va={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Fa,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ka="undefined"!==typeof window&&"undefined"!==typeof document,Ja="object"===typeof navigator&&navigator||void 0,Ga=Ka&&(!Ja||["ReactNative","NativeScript","NS"].indexOf(Ja.product)<0),$a="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ya=Ka&&window.location.href||"http://localhost",Qa=He(He({},n),Va);const Xa=function(e){function t(e,r,n,s){let a=e[s++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),i=s>=e.length;if(a=!a&&Ca.isArray(n)?n.length:a,i)return Ca.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!o;n[a]&&Ca.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],s)&&Ca.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}(n[a])),!o}if(Ca.isFormData(e)&&Ca.isFunction(e.entries)){const r={};return Ca.forEachEntry(e,(e,n)=>{t(function(e){return Ca.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Za={transitional:Ha,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,s=Ca.isObject(e);s&&Ca.isHTMLForm(e)&&(e=new FormData(e));if(Ca.isFormData(e))return n?JSON.stringify(Xa(e)):e;if(Ca.isArrayBuffer(e)||Ca.isBuffer(e)||Ca.isStream(e)||Ca.isFile(e)||Ca.isBlob(e)||Ca.isReadableStream(e))return e;if(Ca.isArrayBufferView(e))return e.buffer;if(Ca.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Da(e,new Qa.classes.URLSearchParams,He({visitor:function(e,t,r,n){return Qa.isNode&&Ca.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Ca.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Da(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,r){if(Ca.isString(e))try{return(t||JSON.parse)(e),Ca.trim(e)}catch(dc){if("SyntaxError"!==dc.name)throw dc}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Za.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Ca.isResponse(e)||Ca.isReadableStream(e))return e;if(e&&Ca.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(dc){if(r){if("SyntaxError"===dc.name)throw Ra.from(dc,Ra.ERR_BAD_RESPONSE,this,null,this.response);throw dc}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qa.classes.FormData,Blob:Qa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ca.forEach(["delete","get","head","post","put","patch"],e=>{Za.headers[e]={}});const eo=Za,to=Ca.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ro=Symbol("internals");function no(e){return e&&String(e).trim().toLowerCase()}function so(e){return!1===e||null==e?e:Ca.isArray(e)?e.map(so):String(e)}function ao(e,t,r,n,s){return Ca.isFunction(n)?n.call(this,t,r):(s&&(t=r),Ca.isString(t)?Ca.isString(n)?-1!==t.indexOf(n):Ca.isRegExp(n)?n.test(t):void 0:void 0)}class oo{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function s(e,t,r){const s=no(t);if(!s)throw new Error("header name must be a non-empty string");const a=Ca.findKey(n,s);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=so(e))}const a=(e,t)=>Ca.forEach(e,(e,r)=>s(e,r,t));if(Ca.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ca.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!r||t[r]&&to[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(Ca.isObject(e)&&Ca.isIterable(e)){let r,n,s={};for(const t of e){if(!Ca.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(r=s[n])?Ca.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,r);return this}get(e,t){if(e=no(e)){const r=Ca.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Ca.isFunction(t))return t.call(this,e,r);if(Ca.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=no(e)){const r=Ca.findKey(this,e);return!(!r||void 0===this[r]||t&&!ao(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function s(e){if(e=no(e)){const s=Ca.findKey(r,e);!s||t&&!ao(0,r[s],s,t)||(delete r[s],n=!0)}}return Ca.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const s=t[r];e&&!ao(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,r={};return Ca.forEach(this,(n,s)=>{const a=Ca.findKey(r,s);if(a)return t[a]=so(n),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(s):String(s).trim();o!==s&&delete t[s],t[o]=so(n),r[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ca.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Ca.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ro]=this[ro]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=no(e);t[n]||(!function(e,t){const r=Ca.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,s){return this[n].call(this,t,e,r,s)},configurable:!0})})}(r,e),t[n]=!0)}return Ca.isArray(e)?e.forEach(n):n(e),this}}oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ca.reduceDescriptors(oo.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),Ca.freezeMethods(oo);const io=oo;function lo(e,t){const r=this||eo,n=t||r,s=io.from(n.headers);let a=n.data;return Ca.forEach(e,function(e){a=e.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function co(e){return!(!e||!e.__CANCEL__)}function uo(e,t,r){Ra.call(this,null==e?"canceled":e,Ra.ERR_CANCELED,t,r),this.name="CanceledError"}Ca.inherits(uo,Ra,{__CANCEL__:!0});const ho=uo;function mo(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Ra("Request failed with status code "+r.status,[Ra.ERR_BAD_REQUEST,Ra.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const po=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s,a=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[o];s||(s=l),r[a]=i,n[a]=l;let d=o,u=0;for(;d!==a;)u+=r[d++],d%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const fo=function(e,t){let r,n,s=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=a?o(l,e):(r=l,n||(n=setTimeout(()=>{n=null,o(r)},a-t)))},()=>r&&o(r)]},go=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const s=po(50,250);return fo(r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,i=a-n,l=s(i);n=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})},r)},xo=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},bo=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ca.asap(()=>e(...r))},vo=Qa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qa.origin),Qa.navigator&&/(msie|trident)/i.test(Qa.navigator.userAgent)):()=>!0,yo=Qa.hasStandardBrowserEnv?{write(e,t,r,n,s,a,o){if("undefined"===typeof document)return;const i=["".concat(e,"=").concat(encodeURIComponent(t))];Ca.isNumber(r)&&i.push("expires=".concat(new Date(r).toUTCString())),Ca.isString(n)&&i.push("path=".concat(n)),Ca.isString(s)&&i.push("domain=".concat(s)),!0===a&&i.push("secure"),Ca.isString(o)&&i.push("SameSite=".concat(o)),document.cookie=i.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function wo(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jo=e=>e instanceof io?He({},e):e;function ko(e,t){t=t||{};const r={};function n(e,t,r,n){return Ca.isPlainObject(e)&&Ca.isPlainObject(t)?Ca.merge.call({caseless:n},e,t):Ca.isPlainObject(t)?Ca.merge({},t):Ca.isArray(t)?t.slice():t}function s(e,t,r,s){return Ca.isUndefined(t)?Ca.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function a(e,t){if(!Ca.isUndefined(t))return n(void 0,t)}function o(e,t){return Ca.isUndefined(t)?Ca.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,s,a){return a in t?n(r,s):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,r)=>s(jo(e),jo(t),0,!0)};return Ca.forEach(Object.keys(He(He({},e),t)),function(n){const a=l[n]||s,o=a(e[n],t[n],n);Ca.isUndefined(o)&&a!==i||(r[n]=o)}),r}const No=e=>{const t=ko({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:i}=t;if(t.headers=o=io.from(o),t.url=qa(wo(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Ca.isFormData(r))if(Qa.hasStandardBrowserEnv||Qa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ca.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&o.set(r,n)})}if(Qa.hasStandardBrowserEnv&&(n&&Ca.isFunction(n)&&(n=n(t)),n||!1!==n&&vo(t.url))){const e=s&&a&&yo.read(a);e&&o.set(s,e)}return t},So="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=No(e);let s=n.data;const a=io.from(n.headers).normalize();let o,i,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=io.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());mo(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new Ra("Request aborted",Ra.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const n=t&&t.message?t.message:"Network Error",s=new Ra(n,Ra.ERR_NETWORK,e,f);s.event=t||null,r(s),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||Ha;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Ra(t,s.clarifyTimeoutError?Ra.ETIMEDOUT:Ra.ECONNABORTED,e,f)),f=null},void 0===s&&a.setContentType(null),"setRequestHeader"in f&&Ca.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Ca.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),m&&([l,d]=go(m,!0),f.addEventListener("progress",l)),h&&f.upload&&([i,c]=go(h),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{f&&(r(!t||t.type?new ho(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);x&&-1===Qa.protocols.indexOf(x)?r(new Ra("Unsupported protocol "+x+":",Ra.ERR_BAD_REQUEST,e)):f.send(s||null)})},_o=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const s=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Ra?t:new ho(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new Ra("timeout ".concat(t," of ms exceeded"),Ra.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:i}=n;return i.unsubscribe=()=>Ca.asap(o),i}};function Co(e,t){this.v=e,this.k=t}function Eo(e){return function(){return new To(e.apply(this,arguments))}}function To(e){var t,r;function n(t,r){try{var a=e[t](r),o=a.value,i=o instanceof Co;Promise.resolve(i?o.v:o).then(function(r){if(i){var l="return"===t?"return":"next";if(!o.k||r.done)return n(l,r);r=e[l](r).value}s(a.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,s){return new Promise(function(a,o){var i={key:e,arg:s,resolve:a,reject:o,next:null};r?r=r.next=i:(t=r=i,n(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Oo(e){return new Co(e,0)}function Ro(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new Co(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Ao(e){var t,r,n,s=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);s--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Po(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Po(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Po=function(e){this.s=e,this.n=e.next},Po.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Po(e)}To.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},To.prototype.next=function(e){return this._invoke("next",e)},To.prototype.throw=function(e){return this._invoke("throw",e)},To.prototype.return=function(e){return this._invoke("return",e)};const Io=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,s=0;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Lo=function(){var e=Eo(function*(e,t){var r,n=!1,s=!1;try{for(var a,o=Ao(Do(e));n=!(a=yield Oo(o.next())).done;n=!1){const e=a.value;yield*Ro(Ao(Io(e,t)))}}catch(i){s=!0,r=i}finally{try{n&&null!=o.return&&(yield Oo(o.return()))}finally{if(s)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Do=function(){var e=Eo(function*(e){if(e[Symbol.asyncIterator])return void(yield*Ro(Ao(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Oo(t.read());if(e)break;yield r}}finally{yield Oo(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Mo=(e,t,r,n)=>{const s=Lo(e,t);let a,o=0,i=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return i(),void e.close();let a=n.byteLength;if(r){let e=o+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},{isFunction:Uo}=Ca,zo=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(Ca.global),{ReadableStream:Fo,TextEncoder:Bo}=Ca.global,qo=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(dc){return!1}},Wo=e=>{e=Ca.merge.call({skipUndefined:!0},zo,e);const{fetch:t,Request:r,Response:n}=e,s=t?Uo(t):"function"===typeof fetch,a=Uo(r),o=Uo(n);if(!s)return!1;const i=s&&Uo(Fo),l=s&&("function"===typeof Bo?(c=new Bo,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=a&&i&&qo(()=>{let e=!1;const t=new r(Qa.origin,{body:new Fo,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=o&&i&&qo(()=>Ca.isReadableStream(new n("").body)),h={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new Ra("Response type '".concat(e,"' is not supported"),Ra.ERR_NOT_SUPPORT,r)})});const m=async(e,t)=>{const n=Ca.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ca.isBlob(e))return e.size;if(Ca.isSpecCompliantForm(e)){const t=new r(Qa.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ca.isArrayBufferView(e)||Ca.isArrayBuffer(e)?e.byteLength:(Ca.isURLSearchParams(e)&&(e+=""),Ca.isString(e)?(await l(e)).byteLength:void 0)})(t):n};return async e=>{let{url:s,method:o,data:i,signal:l,cancelToken:c,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:b,withCredentials:v="same-origin",fetchOptions:y}=No(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=_o([l,c&&c.toAbortSignal()],p),k=null;const N=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let S;try{if(g&&d&&"get"!==o&&"head"!==o&&0!==(S=await m(b,i))){let e,t=new r(s,{method:"POST",body:i,duplex:"half"});if(Ca.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,r]=xo(S,go(bo(g)));i=Mo(t.body,65536,e,r)}}Ca.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in r.prototype,l=He(He({},y),{},{signal:j,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?v:void 0});k=a&&new r(s,l);let c=await(a?w(k,y):w(s,l));const p=u&&("stream"===x||"response"===x);if(u&&(f||p&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Ca.toFiniteNumber(c.headers.get("content-length")),[r,s]=f&&xo(t,go(bo(f),!0))||[];c=new n(Mo(c.body,65536,r,()=>{s&&s(),N&&N()}),e)}x=x||"text";let _=await h[Ca.findKey(h,x)||"text"](c,e);return!p&&N&&N(),await new Promise((t,r)=>{mo(t,r,{data:_,headers:io.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(_){if(N&&N(),_&&"TypeError"===_.name&&/Load failed|fetch/i.test(_.message))throw Object.assign(new Ra("Network Error",Ra.ERR_NETWORK,e,k),{cause:_.cause||_});throw Ra.from(_,_&&_.code,e,k)}}},Ho=new Map,Vo=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let o,i,l=a.length,c=Ho;for(;l--;)o=a[l],i=c.get(o),void 0===i&&c.set(o,i=l?new Map:Wo(t)),c=i;return i},Ko=(Vo(),{http:null,xhr:So,fetch:{get:Vo}});Ca.forEach(Ko,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(dc){}Object.defineProperty(e,"adapterName",{value:t})}});const Jo=e=>"- ".concat(e),Go=e=>Ca.isFunction(e)||null===e||!1===e;const $o={getAdapter:function(e,t){e=Ca.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let o=0;o<r;o++){let r;if(n=e[o],s=n,!Go(n)&&(s=Ko[(r=String(n)).toLowerCase()],void 0===s))throw new Ra("Unknown adapter '".concat(r,"'"));if(s&&(Ca.isFunction(s)||(s=s.get(t))))break;a[r||"#"+o]=s}if(!s){const e=Object.entries(a).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Jo).join("\n"):" "+Jo(e[0]):"as no adapter specified";throw new Ra("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s},adapters:Ko};function Yo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ho(null,e)}function Qo(e){Yo(e),e.headers=io.from(e.headers),e.data=lo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return $o.getAdapter(e.adapter||eo.adapter,e)(e).then(function(t){return Yo(e),t.data=lo.call(e,e.transformResponse,t),t.headers=io.from(t.headers),t},function(t){return co(t)||(Yo(e),t&&t.response&&(t.response.data=lo.call(e,e.transformResponse,t.response),t.response.headers=io.from(t.response.headers))),Promise.reject(t)})}const Xo="1.13.2",Zo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ei={};Zo.transitional=function(e,t,r){function n(e,t){return"[Axios v"+Xo+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,a)=>{if(!1===e)throw new Ra(n(s," has been removed"+(t?" in "+t:"")),Ra.ERR_DEPRECATED);return t&&!ei[s]&&(ei[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,a)}},Zo.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const ti={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Ra("options must be an object",Ra.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const t=e[a],r=void 0===t||o(t,a,e);if(!0!==r)throw new Ra("option "+a+" must be "+r,Ra.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Ra("Unknown option "+a,Ra.ERR_BAD_OPTION)}},validators:Zo},ri=ti.validators;class ni{constructor(e){this.defaults=e||{},this.interceptors={request:new Wa,response:new Wa}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(dc){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ko(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:s}=t;void 0!==r&&ti.assertOptions(r,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),null!=n&&(Ca.isFunction(n)?t.paramsSerializer={serialize:n}:ti.assertOptions(n,{encode:ri.function,serialize:ri.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ti.assertOptions(t,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&Ca.merge(s.common,s[t.method]);s&&Ca.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=io.concat(a,s);const o=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Qo.bind(this),void 0];for(e.unshift(...o),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let h=t;for(;u<d;){const e=o[u++],t=o[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Qo.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return qa(wo((e=ko(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ca.forEach(["delete","get","head","options"],function(e){ni.prototype[e]=function(t,r){return this.request(ko(r||{},{method:e,url:t,data:(r||{}).data}))}}),Ca.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,s){return this.request(ko(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ni.prototype[e]=t(),ni.prototype[e+"Form"]=t(!0)});const si=ni;class ai{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,s){r.reason||(r.reason=new ho(e,n,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ai(function(t){e=t}),cancel:e}}}const oi=ai;const ii={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ii).forEach(e=>{let[t,r]=e;ii[r]=t});const li=ii;const ci=function e(t){const r=new si(t),n=Bs(si.prototype.request,r);return Ca.extend(n,si.prototype,r,{allOwnKeys:!0}),Ca.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(ko(t,r))},n}(eo);ci.Axios=si,ci.CanceledError=ho,ci.CancelToken=oi,ci.isCancel=co,ci.VERSION=Xo,ci.toFormData=Da,ci.AxiosError=Ra,ci.Cancel=ci.CanceledError,ci.all=function(e){return Promise.all(e)},ci.spread=function(e){return function(t){return e.apply(null,t)}},ci.isAxiosError=function(e){return Ca.isObject(e)&&!0===e.isAxiosError},ci.mergeConfig=ko,ci.AxiosHeaders=io,ci.formToJSON=e=>Xa(Ca.isHTMLForm(e)?new FormData(e):e),ci.getAdapter=$o.getAdapter,ci.HttpStatusCode=li,ci.default=ci;const di=ci,ui=di.create({baseURL:"https://academy.trendtacticsdigital.com/api",headers:{"Content-Type":"application/json"}});ui.interceptors.request.use(e=>{console.log("API Request: ".concat(e.method.toUpperCase()," ").concat(e.baseURL).concat(e.url));const t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),ui.interceptors.response.use(e=>{if(!e.data)throw new Error("Invalid response: No data received");return e},e=>{var t,r,n;if(!e.response)throw new Error("Network error: Unable to connect to server");switch(e.response.status){case 400:throw new Error((null===(t=e.response.data)||void 0===t?void 0:t.message)||"Bad request: Please check your input");case 401:throw localStorage.removeItem("token"),localStorage.removeItem("user"),new Error("Unauthorized: Please log in again");case 403:throw new Error("Forbidden: You do not have permission to perform this action");case 404:throw new Error("Not found: The requested resource does not exist");case 500:throw new Error("Server error: Please try again later");default:throw console.error("API Error Response:",e.response),new Error((null===(r=e.response.data)||void 0===r?void 0:r.message)||(null===(n=e.response.data)||void 0===n?void 0:n.error)||"Error ".concat(e.response.status,": ").concat(e.response.statusText||"An unexpected error occurred"))}});const hi=async(e,t)=>{try{return(await ui.get(e,t)).data}catch(r){throw new Error(r.message||"Failed to fetch data")}},mi=async(e,t,r)=>{try{return(await ui.put(e,t,r)).data}catch(n){throw new Error(n.message||"Failed to update data")}};const pi=new class{getCurrentUserId(){return localStorage.getItem("user_id")||"demo_instructor_id"}async getAllCourses(){try{console.log("Fetching courses from Supabase...");const{data:e,error:t}=await Ls.from("courses").select("*").eq("is_published",!0).order("created_at",{ascending:!1});if(t)return console.error("Error fetching courses from Supabase:",t.message),[];if(!e||!Array.isArray(e))return console.log("No courses found"),[];const r=await Promise.all(e.map(async e=>{const{data:t,error:r}=await Ls.from("modules").select("*").eq("course_id",e.id).order("ordering",{ascending:!0});if(!r&&t&&Array.isArray(t)){const r=await Promise.all(t.map(async e=>{const{data:t,error:r}=await Ls.from("lessons").select("*").eq("module_id",e.id).order("ordering",{ascending:!0});return He(He({},e),{},{lessons:t&&Array.isArray(t)?t:[]})}));return He(He({},e),{},{modules:r})}return He(He({},e),{},{modules:[]})}));return console.log("Successfully fetched courses:",r.length),r}catch(e){return console.error("Error fetching courses:",e),[]}}async getCourseById(e){try{console.log("Fetching course by ID from Supabase:",e);const{data:t,error:r}=await Ls.from("courses").select("*").eq("id",e).single();if(r||!t)throw console.error("Error fetching course:",r),new Error((null===r||void 0===r?void 0:r.message)||"Course not found");const{data:n,error:s}=await Ls.from("modules").select("*").eq("course_id",e).order("ordering",{ascending:!0});s&&console.error("Error fetching modules:",s);const a=[];if(n&&Array.isArray(n))for(const e of n){const{data:t,error:r}=await Ls.from("lessons").select("*").eq("module_id",e.id).order("ordering",{ascending:!0});a.push(He(He({},e),{},{lessons:t&&Array.isArray(t)?t:[]}))}return He(He({},t),{},{modules:a})}catch(t){throw console.error("Error in getCourseById:",t),t}}async resolveCourseContent(e){return this.getCourseById(e)}async enrollInCourse(e){try{const{data:{user:n},error:s}=await Ls.auth.getUser();if(s||!n)throw new Error("User not authenticated");const{data:a,error:o}=await Ls.from("enrollments").select("*").eq("user_id",n.id).eq("course_id",e).single();if(!o&&a)return{success:!0,message:"Already enrolled in this course"};const{data:i,error:l}=await Ls.from("enrollments").insert([{user_id:n.id,course_id:e}]);if(l)throw console.error("Error enrolling in course:",l.message),new Error(l.message);const{data:c,error:d}=await Ls.from("users").select("enrolled_courses").eq("id",n.id).single();if(!d&&c){const t=c.enrolled_courses||[];t.includes(e)||(t.push(e),await Ls.from("users").update({enrolled_courses:t,updated_at:(new Date).toISOString()}).eq("id",n.id))}const{data:u,error:h}=await Ls.from("courses").select("title").eq("id",e).single();if(u&&u.title)try{var t;const e=await fetch("/api/emails/enrollment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,studentName:(null===c||void 0===c?void 0:c.name)||(null===(t=n.user_metadata)||void 0===t?void 0:t.name)||"Student",courseTitle:u.title})}),r=await e.json();r.success||console.error("Error sending enrollment confirmation email:",r.error)}catch(r){console.error("Error sending enrollment confirmation email:",r)}return{success:!0,message:"Successfully enrolled in course"}}catch(n){throw console.error("Error enrolling in course:",n),n}}async createCourse(e){try{var t,r;const{data:{user:n},error:s}=await Ls.auth.getUser();if(s||!n)throw new Error("User not authenticated");const a=He(He({},e),{},{instructor_id:n.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),is_published:null!==(t=e.is_published)&&void 0!==t&&t,is_featured:null!==(r=e.is_featured)&&void 0!==r&&r}),{data:o,error:i}=await Ls.from("courses").insert([a]).select().single();if(i)throw console.error("Error creating course:",i.message),new Error(i.message);return o}catch(n){throw console.error("Error creating course:",n),n}}async updateCourse(e,t){try{const{data:{user:r},error:n}=await Ls.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:s,error:a}=await Ls.from("courses").update(He(He({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).eq("instructor_id",r.id).select().single();if(a)throw console.error("Error updating course:",a.message),new Error(a.message);return s}catch(r){throw console.error("Error updating course:",r),r}}async deleteCourse(e){try{const{data:{user:t},error:r}=await Ls.auth.getUser();if(r||!t)throw new Error("User not authenticated");const{error:n}=await Ls.from("courses").delete().eq("id",e).eq("instructor_id",t.id);if(n)throw console.error("Error deleting course:",n.message),new Error(n.message);return{success:!0,message:"Course deleted successfully"}}catch(t){throw console.error("Error deleting course:",t),t}}async getCourseTemplates(){try{return[{id:"web-dev",name:"Web Development Course Template",description:"Complete template for full-stack web development courses",modules:6,duration:"8 weeks"},{id:"app-dev",name:"App Development Course Template",description:"Template for mobile app development with React Native",modules:5,duration:"6 weeks"},{id:"digital-marketing",name:"Digital Marketing Course Template",description:"Comprehensive digital marketing course template",modules:4,duration:"5 weeks"}]}catch(e){throw console.error("Error getting templates:",e),e}}async getInstructorCourses(){try{const{data:{user:e},error:t}=await Ls.auth.getUser();if(t||!e)throw new Error("User not authenticated");const{data:r,error:n}=await Ls.from("courses").select("*").eq("instructor_id",e.id).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching instructor courses:",n.message),new Error(n.message);return r||[]}catch(e){throw console.error("Error fetching instructor courses:",e),e}}async getEnrolledCourses(){try{const{data:{user:e},error:t}=await Ls.auth.getUser();if(t||!e)throw new Error("User not authenticated");const{data:r,error:n}=await Ls.from("enrollments").select("\n          courses!inner(*)\n        ").eq("user_id",e.id).eq("courses.is_published",!0);if(n)throw console.error("Error fetching enrolled courses:",n.message),new Error(n.message);return r.map(e=>He(He({},e.courses),{},{enrolled_at:e.created_at,enrollment_status:e.status}))||[]}catch(e){throw console.error("Error fetching enrolled courses:",e),e}}async addLesson(e,t){try{const{data:{user:r},error:n}=await Ls.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:s,error:a}=await Ls.from("courses").select("*").eq("id",e).eq("instructor_id",r.id).single();if(a||!s)throw new Error("Course not found or you do not have permission to add lessons");const o=He(He({},t),{},{course_id:e,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),{data:i,error:l}=await Ls.from("lessons").insert([o]).select().single();if(l)throw console.error("Error adding lesson:",l.message),new Error(l.message);return i}catch(r){throw console.error("Error adding lesson:",r),r}}async updateLesson(e,t,r){try{const{data:{user:n},error:s}=await Ls.auth.getUser();if(s||!n)throw new Error("User not authenticated");const{data:a,error:o}=await Ls.from("courses").select("*").eq("id",e).eq("instructor_id",n.id).single();if(o||!a)throw new Error("Course not found or you do not have permission to update lessons");const{data:i,error:l}=await Ls.from("lessons").update(He(He({},r),{},{updated_at:(new Date).toISOString()})).eq("id",t).eq("course_id",e).select().single();if(l)throw console.error("Error updating lesson:",l.message),new Error(l.message);return i}catch(n){throw console.error("Error updating lesson:",n),n}}async markLessonComplete(e,t){try{const{data:{user:r},error:n}=await Ls.auth.getUser();if(n||!r)throw new Error("User not authenticated");const{data:s,error:a}=await Ls.from("enrollments").select("*").eq("user_id",r.id).eq("course_id",e).single();if(a||!s)throw new Error("User is not enrolled in this course");const{data:o,error:i}=await Ls.from("lesson_progress").upsert([{user_id:r.id,course_id:e,lesson_id:t,completed:!0,completed_at:(new Date).toISOString()}]).select().single();if(i)throw console.error("Error marking lesson complete:",i.message),new Error(i.message);return o}catch(r){throw console.error("Error marking lesson complete:",r),r}}},fi=pi.getAllCourses.bind(pi),gi=pi.getCourseById.bind(pi),xi=pi.enrollInCourse.bind(pi),bi=(pi.createCourse.bind(pi),pi.updateCourse.bind(pi),pi.deleteCourse.bind(pi),pi.getCourseTemplates.bind(pi),pi.getInstructorCourses.bind(pi),pi.getEnrolledCourses.bind(pi)),vi=(pi.addLesson.bind(pi),pi.updateLesson.bind(pi),pi.markLessonComplete.bind(pi),pi.resolveCourseContent.bind(pi),pi);r(432);const yi=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{n(!0),o(null);const e=await fi();if(e&&Array.isArray(e)&&e.length>0){const r=e.filter(e=>e.id&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.id)),n=r.filter(e=>e.featured||e.is_featured||"featured"===e.category);n.length>0?t(n.slice(0,3)):t(r.slice(0,3))}else console.warn("No valid courses found in Supabase"),t([])}catch(s){console.error("Error fetching real courses from Supabase:",s),o(s.message),t([])}finally{n(!1)}})()},[]);const i=e.length>0?e:[],l=[{icon:(0,Me.jsx)("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),title:"Expert Instructors",description:"Learn from industry professionals with years of real-world experience."},{icon:(0,Me.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a1 1 0 001-1V4a1 1 0 00-1-1H8a1 1 0 00-1 1v16a1 1 0 001 1z"})}),title:"Mobile Learning",description:"Access your courses anywhere, anytime with our mobile-optimized platform."},{icon:(0,Me.jsx)("svg",{className:"w-8 h-8 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),title:"Certification",description:"Earn certificates upon completion to boost your professional credentials."},{icon:(0,Me.jsx)("svg",{className:"w-8 h-8 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),title:"Community",description:"Join a community of learners and network with like-minded professionals."}];return r?(0,Me.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-cyan mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading courses..."})]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Me.jsxs)("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url('/images/homepage-parallex.jpg')",backgroundAttachment:"fixed"}}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-60"}),(0,Me.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32 text-center",children:[(0,Me.jsxs)("h1",{className:"text-4xl md:text-6xl font-heading font-bold mb-6 leading-tight text-white",children:["Transform Your Career with",(0,Me.jsx)("span",{className:"text-brand-cyan block",children:"Digital Excellence"})]}),(0,Me.jsx)("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-3xl mx-auto",children:"Master in-demand digital skills with expert-led courses designed for the modern workforce. Start your journey to success today."}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Me.jsx)(Ie,{to:"/courses",className:"btn-secondary text-lg px-8 py-4 inline-block text-center",children:"Explore Courses"}),(0,Me.jsx)("button",{className:"bg-white text-brand-navy px-8 py-4 rounded-lg font-medium hover:bg-gray-100 transition-colors duration-200 text-lg",children:"Watch Demo"})]})]})]}),(0,Me.jsx)("div",{className:"my-12",children:(0,Me.jsx)("div",{className:"overflow-x-hidden pb-4 relative",children:(0,Me.jsx)("div",{className:"flex flex-nowrap gap-6 stats-carousel",style:{animation:"stats-scroll 30s linear infinite",width:"max-content"},children:[...Array(2)].flatMap((e,t)=>[(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-8 flex flex-col items-center min-w-[220px] max-w-[220px] h-[140px] mx-2",children:[(0,Me.jsx)("span",{className:"text-3xl font-bold text-blue-700 mb-1",children:"50K+"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Students Enrolled"})]},"stat1-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-8 flex flex-col items-center min-w-[220px] max-w-[220px] h-[140px] mx-2",children:[(0,Me.jsx)("span",{className:"text-3xl font-bold text-green-600 mb-1",children:"24"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Expert Courses"})]},"stat2-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-8 flex flex-col items-center min-w-[220px] max-w-[220px] h-[140px] mx-2",children:[(0,Me.jsx)("span",{className:"text-3xl font-bold text-yellow-600 mb-1",children:"95%"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Completion Rate"})]},"stat3-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-8 flex flex-col items-center min-w-[220px] max-w-[220px] h-[140px] mx-2",children:[(0,Me.jsx)("span",{className:"text-3xl font-bold text-pink-600 mb-1",children:"4.8"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Average Rating"})]},"stat4-".concat(t))])})})}),(0,Me.jsxs)("div",{className:"my-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-center mb-2",children:"Why Choose Trendtactics Academy?"}),(0,Me.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"We provide everything you need to succeed in the digital economy."}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:l.map((e,t)=>(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl p-6 flex flex-col items-center shadow-md",children:[(0,Me.jsx)("div",{className:"mb-4",children:e.icon}),(0,Me.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 text-center",children:e.description})]},t))})]}),(0,Me.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsxs)("div",{className:"text-center mb-16",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-4",children:"Featured Courses"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Start with our most popular courses and build your digital skills"})]}),i.length>0?(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(e=>{var t;return(0,Me.jsxs)("div",{className:"card hover:shadow-xl transition-shadow duration-300",children:[(0,Me.jsxs)("div",{className:"relative mb-4",children:[(0,Me.jsx)("img",{src:e.thumbnail||e.thumbnail_url||"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=250&fit=crop",alt:e.title,className:"w-full h-48 object-cover rounded-lg"}),(0,Me.jsx)("div",{className:"absolute top-3 right-3 bg-brand-cyan text-white px-2 py-1 rounded text-sm font-medium",children:e.level})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-heading font-semibold text-gray-900 mb-2",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Me.jsxs)("span",{children:["By ",(null===(t=e.instructor)||void 0===t?void 0:t.name)||"Instructor"]}),(0,Me.jsx)("span",{children:e.duration})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"flex text-yellow-400",children:[...Array(5)].map((t,r)=>(0,Me.jsx)("svg",{className:"w-4 h-4 ".concat(r<Math.floor(e.rating||4.5)?"fill-current":"fill-gray-300"),viewBox:"0 0 20 20",children:(0,Me.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},r))}),(0,Me.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.rating||4.5,")"]})]}),(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[e.enrolledStudents||e.enrolled_students||0," students"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-2xl font-heading font-bold text-brand-navy",children:["$",e.price||0]}),(0,Me.jsx)("a",{href:"/course.html?id=".concat(e.id),className:"btn-primary",children:"View Course"})]})]},e.id)})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcda"}),(0,Me.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Courses Available"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"We're working on adding new courses. Please check back soon!"})]}),(0,Me.jsx)("div",{className:"text-center mt-12",children:(0,Me.jsx)(Ie,{to:"/courses",className:"btn-secondary",children:"View All Courses"})})]})}),(0,Me.jsxs)("div",{className:"my-16",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"What Our Learners Say"}),(0,Me.jsx)("div",{className:"overflow-x-hidden pb-4 relative",children:(0,Me.jsx)("div",{className:"flex flex-nowrap gap-8 testimonial-carousel",style:{animation:"stats-scroll 40s linear infinite",width:"max-content"},children:[...Array(2)].flatMap((e,t)=>[(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-6 flex flex-col items-center min-w-[320px] max-w-[320px] h-[260px]",children:[(0,Me.jsx)("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Testimonial 1",className:"w-14 h-14 rounded-full mb-2"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center mb-2 text-sm",children:'"This platform transformed my career! The courses are practical and the instructors are top-notch."'}),(0,Me.jsx)("div",{className:"flex items-center mb-1",children:[...Array(5)].map((e,t)=>(0,Me.jsx)("span",{className:"text-yellow-400 text-base",children:"\u2605"},t))}),(0,Me.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:"Aisha Bello"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Digital Marketer"})]},"t1-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-6 flex flex-col items-center min-w-[320px] max-w-[320px] h-[260px]",children:[(0,Me.jsx)("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Testimonial 2",className:"w-14 h-14 rounded-full mb-2"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center mb-2 text-sm",children:'"I landed my dream job after completing the advanced courses. Highly recommended!"'}),(0,Me.jsx)("div",{className:"flex items-center mb-1",children:[...Array(5)].map((e,t)=>(0,Me.jsx)("span",{className:"text-yellow-400 text-base",children:"\u2605"},t))}),(0,Me.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:"James Okoro"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"SEO Specialist"})]},"t2-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-6 flex flex-col items-center min-w-[320px] max-w-[320px] h-[260px]",children:[(0,Me.jsx)("img",{src:"https://randomuser.me/api/portraits/women/65.jpg",alt:"Testimonial 3",className:"w-14 h-14 rounded-full mb-2"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center mb-2 text-sm",children:'"The community and support are amazing. I never felt lost, even as a beginner."'}),(0,Me.jsx)("div",{className:"flex items-center mb-1",children:[...Array(5)].map((e,t)=>(0,Me.jsx)("span",{className:"text-yellow-400 text-base",children:"\u2605"},t))}),(0,Me.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:"Maria Lopez"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Content Creator"})]},"t3-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-6 flex flex-col items-center min-w-[320px] max-w-[320px] h-[260px]",children:[(0,Me.jsx)("img",{src:"https://randomuser.me/api/portraits/men/45.jpg",alt:"Testimonial 4",className:"w-14 h-14 rounded-full mb-2"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center mb-2 text-sm",children:'"The hands-on projects made all the difference. I could apply what I learned right away."'}),(0,Me.jsx)("div",{className:"flex items-center mb-1",children:[...Array(5)].map((e,t)=>(0,Me.jsx)("span",{className:"text-yellow-400 text-base",children:"\u2605"},t))}),(0,Me.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:"Samuel Green"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"PPC Specialist"})]},"t4-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-6 flex flex-col items-center min-w-[320px] max-w-[320px] h-[260px]",children:[(0,Me.jsx)("img",{src:"https://randomuser.me/api/portraits/women/22.jpg",alt:"Testimonial 5",className:"w-14 h-14 rounded-full mb-2"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center mb-2 text-sm",children:'"I loved the mobile learning experience. I could study on the go!"'}),(0,Me.jsx)("div",{className:"flex items-center mb-1",children:[...Array(5)].map((e,t)=>(0,Me.jsx)("span",{className:"text-yellow-400 text-base",children:"\u2605"},t))}),(0,Me.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:"Fatima Musa"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Content Strategist"})]},"t5-".concat(t)),(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-xl shadow-lg p-6 flex flex-col items-center min-w-[320px] max-w-[320px] h-[260px]",children:[(0,Me.jsx)("img",{src:"https://randomuser.me/api/portraits/men/77.jpg",alt:"Testimonial 6",className:"w-14 h-14 rounded-full mb-2"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center mb-2 text-sm",children:'"Certification from Trendtactics helped me get a promotion at work!"'}),(0,Me.jsx)("div",{className:"flex items-center mb-1",children:[...Array(5)].map((e,t)=>(0,Me.jsx)("span",{className:"text-yellow-400 text-base",children:"\u2605"},t))}),(0,Me.jsx)("span",{className:"font-semibold text-xs text-blue-700",children:"David Chen"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Marketing Manager"})]},"t6-".concat(t))])})})]}),(0,Me.jsx)("section",{className:"py-20 bg-brand-navy text-white mb-16",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl md:text-4xl font-heading font-bold mb-6",children:"Ready to Transform Your Career?"}),(0,Me.jsx)("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of learners who have already taken the first step towards their digital future."}),(0,Me.jsx)(Ie,{to:"/courses",className:"btn-secondary text-lg px-8 py-4 inline-block",children:"Get Started Today"})]})}),(0,Me.jsx)("footer",{className:"bg-brand-navy text-white mt-8",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"mb-8 flex flex-col items-center",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Subscribe to our Newsletter"}),(0,Me.jsx)("p",{className:"text-sm text-gray-200 mb-4 text-center max-w-md",children:"Get updates on new courses, exclusive offers, and digital marketing tips delivered to your inbox."}),(0,Me.jsxs)("form",{className:"flex flex-col sm:flex-row gap-2 w-full max-w-md",onSubmit:e=>{e.preventDefault(),alert("Thank you for subscribing!")},children:[(0,Me.jsx)("input",{type:"email",required:!0,placeholder:"Enter your email",className:"rounded-l-md rounded-r-md sm:rounded-r-none px-4 py-2 w-full text-gray-900 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),(0,Me.jsx)("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-white font-semibold px-6 py-2 rounded-md sm:rounded-l-none transition-colors",children:"Subscribe"})]})]})})})]})},wi=[{name:"Akinola Olujobi",role:"Founder & CEO",avatar:"/images/akinola.jpg",bio:"Digital marketing strategist with 10+ years of experience in online education and growth."},{name:"Michael Lee",role:"Head of Curriculum",avatar:"https://randomuser.me/api/portraits/men/32.jpg",bio:"Expert in content marketing and course design, passionate about student success."},{name:"Priya Patel",role:"Lead Instructor",avatar:"https://randomuser.me/api/portraits/women/68.jpg",bio:"Award-winning instructor specializing in SEO, analytics, and digital strategy."}],ji=[{label:"Students Enrolled",value:"50K+"},{label:"Expert Courses",value:"24"},{label:"Completion Rate",value:"95%"},{label:"Avg. Rating",value:"4.8/5"}],ki=[{name:"Chidera Okafor",avatar:"https://randomuser.me/api/portraits/women/65.jpg",quote:"Trendtactics Academy transformed my career. The courses are practical and the instructors are top-notch!"},{name:"James Smith",avatar:"https://randomuser.me/api/portraits/men/23.jpg",quote:"I landed my first digital marketing job thanks to the hands-on training and support."},{name:"Fatima Bello",avatar:"https://randomuser.me/api/portraits/women/12.jpg",quote:"The community and mentorship at Trendtactics are unmatched. Highly recommended!"},{name:"Emeka Umeh",avatar:"https://randomuser.me/api/portraits/men/56.jpg",quote:"The curriculum is up-to-date and the learning experience is engaging and fun."},{name:"Ngozi Eze",avatar:"https://randomuser.me/api/portraits/women/34.jpg",quote:"I love the flexibility and the real-world projects. I feel ready for any marketing challenge now."}],Ni=[{name:"Coursera",logo:"/partners/coursera.png",url:"https://www.coursera.org/"},{name:"MTN",logo:"/partners/mtn.png",url:"https://www.mtn.com/"},{name:"Airtel",logo:"/partners/airtel.png",url:"https://www.airtel.com/"},{name:"Glo",logo:"/partners/glo.jpg",url:"https://www.gloworld.com/"},{name:"Udemy",logo:"/partners/Udemy.png",url:"https://www.udemy.com/"},{name:"Mastercard",logo:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg",url:"https://www.mastercard.com/"},{name:"Google",logo:"https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg",url:"https://www.google.com/"},{name:"Microsoft",logo:"https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg",url:"https://www.microsoft.com/"}],Si={Coursera:"bg-blue-100 border-blue-400",MTN:"bg-yellow-100 border-yellow-400",Airtel:"bg-red-100 border-red-400",Glo:"bg-green-100 border-green-400",Udemy:"bg-purple-100 border-purple-400",Mastercard:"bg-yellow-50 border-yellow-400",Google:"bg-gradient-to-br from-blue-100 via-green-100 to-yellow-100 border-blue-400",Microsoft:"bg-blue-50 border-blue-400"},_i={"Students Enrolled":"bg-blue-100 border-blue-400","Expert Courses":"bg-cyan-100 border-cyan-400","Completion Rate":"bg-green-100 border-green-400","Avg. Rating":"bg-purple-100 border-purple-400"},Ci=["bg-blue-50 border-blue-200","bg-cyan-50 border-cyan-200","bg-purple-50 border-purple-200"],Ei=["bg-blue-50 border-blue-200","bg-cyan-50 border-cyan-200","bg-purple-50 border-purple-200"],Ti=[(0,Me.jsx)("svg",{className:"w-8 h-8 text-blue-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19V6m0 0l-3 3m3-3l3 3"})},"mission"),(0,Me.jsxs)("svg",{className:"w-8 h-8 text-cyan-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Me.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,Me.jsx)("circle",{cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"})]},"vision"),(0,Me.jsx)("svg",{className:"w-8 h-8 text-green-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 21C12 21 4 13.5 4 8.5C4 5.5 6.5 3 9.5 3C11.24 3 12 4.5 12 4.5C12 4.5 12.76 3 14.5 3C17.5 3 20 5.5 20 8.5C20 13.5 12 21 12 21Z"})},"values")],Oi=()=>{const e=(0,a.useRef)(null);return(0,a.useEffect)(()=>{const t=setInterval(()=>{e.current&&(e.current.scrollLeft+=1,e.current.scrollLeft>=e.current.scrollWidth/2&&(e.current.scrollLeft=0))},20);return()=>clearInterval(t)},[]),(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsxs)("section",{className:"relative h-96 flex items-center justify-center overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url('/images/aboutpage-parallex.jpg')",backgroundAttachment:"fixed"}}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-70"}),(0,Me.jsxs)("div",{className:"relative px-4 text-center z-10",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold text-white mb-4",children:"About Trendtactics Academy"}),(0,Me.jsx)("p",{className:"text-lg md:text-xl text-cyan-100 max-w-2xl mx-auto",children:"Empowering the next generation of digital marketers with world-class, practical, and accessible education in digital marketing, growth, and strategy."})]})]}),(0,Me.jsxs)("section",{className:"max-w-4xl mx-auto px-4 py-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-extrabold text-brand-navy text-center mb-6",children:"How It All Began"}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl shadow-lg p-8 flex flex-col md:flex-row items-center gap-8",children:[(0,Me.jsx)("img",{src:"/images/akinola.jpg",alt:"Akinola Olujobi",className:"w-32 h-32 rounded-full object-cover border-4 border-brand-cyan shadow-md mb-4 md:mb-0"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-lg text-gray-700 mb-4",children:"Founded by passionate educators and industry experts, Trendtactics Academy was born out of a desire to bridge the gap between theory and real-world digital marketing skills. Our founder, Akinola Olujobi, envisioned a platform where anyone, anywhere, could access high-quality, practical training to launch or accelerate their digital marketing career."}),(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Me.jsx)("svg",{className:"w-8 h-8 text-brand-cyan",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7v4a2 2 0 01-2 2H7a2 2 0 01-2-2V7"})}),(0,Me.jsx)("span",{className:"italic text-lg text-brand-navy font-medium",children:'"We believe in empowering learners to not just keep up with the digital world, but to lead it."'})]}),(0,Me.jsx)("div",{className:"mt-1 text-right w-full",children:(0,Me.jsx)("span",{className:"font-semibold text-brand-cyan",children:"\u2014 Akinola Olujobi, Founder & CEO"})})]})]}),(0,Me.jsx)("div",{className:"mt-8 flex flex-col items-center",children:(0,Me.jsxs)("div",{className:"w-full max-w-xl flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-4 h-4 bg-brand-cyan rounded-full mb-1"}),(0,Me.jsxs)("span",{className:"text-xs text-gray-600",children:["2021",(0,Me.jsx)("br",{}),"Founded"]})]}),(0,Me.jsx)("div",{className:"flex-1 h-1 bg-cyan-200 mx-2"}),(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-4 h-4 bg-green-400 rounded-full mb-1"}),(0,Me.jsxs)("span",{className:"text-xs text-gray-600",children:["2022",(0,Me.jsx)("br",{}),"1,000+ Students"]})]}),(0,Me.jsx)("div",{className:"flex-1 h-1 bg-cyan-200 mx-2"}),(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-4 h-4 bg-yellow-400 rounded-full mb-1"}),(0,Me.jsxs)("span",{className:"text-xs text-gray-600",children:["2023",(0,Me.jsx)("br",{}),"Major Partnerships"]})]}),(0,Me.jsx)("div",{className:"flex-1 h-1 bg-cyan-200 mx-2"}),(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"w-4 h-4 bg-brand-navy rounded-full mb-1"}),(0,Me.jsxs)("span",{className:"text-xs text-gray-600",children:["2025",(0,Me.jsx)("br",{}),"Today"]})]})]})})]}),(0,Me.jsx)("section",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:ji.map(e=>(0,Me.jsxs)("div",{className:"rounded-xl p-8 flex flex-col items-center stats-card border-2 shadow-lg transition-transform duration-300 hover:-translate-y-1 hover:shadow-xl ".concat(_i[e.label]||"bg-white border-gray-200"),children:[(0,Me.jsx)("span",{className:"text-4xl font-extrabold text-brand-navy mb-1",children:e.value}),(0,Me.jsx)("span",{className:"text-gray-700 text-base font-semibold whitespace-nowrap",children:e.label})]},e.label))})}),(0,Me.jsxs)("section",{className:"max-w-5xl mx-auto px-4 py-16 grid gap-8 md:grid-cols-3",children:[(0,Me.jsxs)("div",{className:"rounded-2xl shadow-xl p-8 flex flex-col items-center border-2 bg-gradient-to-br from-blue-100 to-blue-50 transition-transform duration-300 hover:-translate-y-2 hover:shadow-2xl hover:ring-2 hover:ring-blue-300",children:[Ti[0],(0,Me.jsx)("h2",{className:"text-2xl font-bold text-brand-navy mb-2",children:"Our Mission"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center",children:"To equip learners with the skills, tools, and confidence to excel in the fast-evolving digital landscape."})]}),(0,Me.jsxs)("div",{className:"rounded-2xl shadow-xl p-8 flex flex-col items-center border-2 bg-gradient-to-br from-cyan-100 to-cyan-50 transition-transform duration-300 hover:-translate-y-2 hover:shadow-2xl hover:ring-2 hover:ring-cyan-300",children:[Ti[1],(0,Me.jsx)("h2",{className:"text-2xl font-bold text-brand-navy mb-2",children:"Our Vision"}),(0,Me.jsx)("p",{className:"text-gray-700 text-center",children:"To be the leading platform for digital marketing education, fostering innovation, creativity, and career growth."})]}),(0,Me.jsxs)("div",{className:"rounded-2xl shadow-xl p-8 flex flex-col items-center border-2 bg-gradient-to-br from-green-100 to-green-50 transition-transform duration-300 hover:-translate-y-2 hover:shadow-2xl hover:ring-2 hover:ring-green-300",children:[Ti[2],(0,Me.jsx)("h2",{className:"text-2xl font-bold text-brand-navy mb-2",children:"Our Values"}),(0,Me.jsxs)("ul",{className:"text-gray-700 list-disc list-inside text-left",children:[(0,Me.jsx)("li",{children:"Excellence in teaching and learning"}),(0,Me.jsx)("li",{children:"Accessibility and inclusivity"}),(0,Me.jsx)("li",{children:"Innovation and adaptability"}),(0,Me.jsx)("li",{children:"Community and collaboration"})]})]})]}),(0,Me.jsxs)("section",{className:"max-w-5xl mx-auto px-4 py-16",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-brand-navy text-center mb-8",children:"What Our Students Say"}),(0,Me.jsx)("div",{className:"overflow-x-hidden",children:(0,Me.jsx)("div",{ref:e,className:"flex gap-8 w-max min-w-full items-center stats-carousel overflow-hidden",style:{scrollBehavior:"smooth"},children:[...ki,...ki].map((e,t)=>(0,Me.jsxs)("div",{className:"min-w-[320px] max-w-xs rounded-2xl shadow-lg p-6 flex flex-col items-center border-2 stats-card hover:shadow-2xl transition-shadow duration-300 ".concat(Ei[t%Ei.length]," overflow-hidden"),children:[(0,Me.jsx)("svg",{className:"w-8 h-8 text-brand-cyan mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2zm0 0V7a2 2 0 012-2h2a2 2 0 012 2v6"})}),(0,Me.jsx)("div",{className:"w-16 h-16 rounded-full mb-4 border-4 ".concat(Ei[t%Ei.length].split(" ")[1]),style:{borderColor:""},children:(0,Me.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"})}),(0,Me.jsxs)("p",{className:"text-gray-700 text-center mb-2",children:['"',e.quote,'"']}),(0,Me.jsx)("span",{className:"text-brand-navy font-semibold",children:e.name})]},t))})})]}),(0,Me.jsxs)("section",{className:"max-w-5xl mx-auto px-4 py-12",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-brand-navy text-center mb-8",children:"Meet Our Team"}),(0,Me.jsx)("div",{className:"grid gap-8 md:grid-cols-3",children:wi.map((e,t)=>(0,Me.jsxs)("div",{className:"rounded-2xl shadow-lg p-6 flex flex-col items-center border-2 transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl ".concat(Ci[t%Ci.length]),children:[(0,Me.jsx)("div",{className:"w-24 h-24 rounded-full mb-4 border-4 ".concat(Ci[t%Ci.length].split(" ")[1]),style:{borderColor:""},children:(0,Me.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-brand-navy mb-1",children:e.name}),(0,Me.jsx)("span",{className:"text-brand-cyan font-medium mb-2",children:e.role}),(0,Me.jsx)("p",{className:"text-gray-600 text-center text-sm",children:e.bio})]},e.name))})]}),(0,Me.jsxs)("section",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-brand-navy text-center mb-6",children:"Our Partners"}),(0,Me.jsx)("div",{className:"overflow-x-hidden",children:(0,Me.jsx)("div",{className:"flex gap-12 w-max min-w-full items-center stats-carousel",style:{animation:"stats-scroll 30s linear infinite",perspective:"800px"},children:[...Ni,...Ni].map((e,t)=>(0,Me.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,Me.jsx)("div",{className:"h-20 md:h-28 max-w-[180px] flex items-center justify-center rounded-lg p-4 shadow-lg border-2 transition-transform duration-300 hover:scale-110 ".concat(Si[e.name]||"bg-white border-gray-200"),style:{background:"",minWidth:"140px"},children:(0,Me.jsx)("img",{src:e.logo,alt:e.name+" logo",className:"max-h-full max-w-full object-contain"})})},e.name+t))})})]}),(0,Me.jsx)("section",{className:"text-center py-12",children:(0,Me.jsx)("a",{href:"/courses",className:"inline-block bg-brand-cyan hover:bg-cyan-600 text-white font-bold px-8 py-4 rounded-full text-lg shadow-lg transition-colors duration-200",children:"Browse Courses"})}),(0,Me.jsxs)("section",{className:"bg-white border-t border-gray-200 py-8 px-4 text-center",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-brand-navy mb-2",children:"Need Help or Have Questions?"}),(0,Me.jsx)("p",{className:"text-gray-700 mb-4",children:"Our support team is here to help you succeed. Reach out to us anytime!"}),(0,Me.jsx)("a",{href:"mailto:support@trendtactics.academy",className:"text-brand-cyan font-semibold underline mr-4",children:"support@trendtactics.academy"}),(0,Me.jsx)("a",{href:"/contact",className:"text-brand-navy font-semibold underline",children:"Contact Page"})]}),(0,Me.jsx)("footer",{className:"bg-brand-navy text-white mt-8",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"mb-8 flex flex-col items-center",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Subscribe to our Newsletter"}),(0,Me.jsx)("p",{className:"text-sm text-gray-200 mb-4 text-center max-w-md",children:"Get updates on new courses, exclusive offers, and digital marketing tips delivered to your inbox."}),(0,Me.jsxs)("form",{className:"flex flex-col sm:flex-row gap-2 w-full max-w-md",onSubmit:e=>{e.preventDefault(),alert("Thank you for subscribing!")},children:[(0,Me.jsx)("input",{type:"email",required:!0,placeholder:"Enter your email",className:"rounded-l-md rounded-r-md sm:rounded-r-none px-4 py-2 w-full text-gray-900 focus:outline-none focus:ring-2 focus:ring-cyan-400"}),(0,Me.jsx)("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-600 text-white font-semibold px-6 py-2 rounded-md sm:rounded-l-none transition-colors",children:"Subscribe"})]})]})})})]})},Ri=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)("all"),[i,l]=(0,a.useState)("popular"),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{(async()=>{try{d(!0),h(null);const e=await fi();e&&e.length>0?t(e):(console.warn("No courses from API"),t([]))}catch(e){console.error("Error fetching courses:",e),t([]),h("Failed to load courses. Please check your internet connection or try again later.")}finally{d(!1)}})();(async()=>{try{const e=await bi();e&&p(new Set(e.map(e=>e.id)))}catch(e){console.error("Error fetching enrollments:",e)}})()},[]);const f=(Array.isArray(e)?e:[]).filter(e=>{const t=e.title.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase()),n="all"===s||e.level===s;return t&&n}).sort((e,t)=>{var r,n;switch(i){case"popular":return((null===(r=t.lessons)||void 0===r?void 0:r.length)||0)-((null===(n=e.lessons)||void 0===n?void 0:n.length)||0);case"newest":return new Date(t.created_at).getTime()-new Date(e.created_at).getTime();case"price-low":return e.price-t.price;case"price-high":return t.price-e.price;default:return 0}});return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsxs)("section",{className:"relative h-96 flex items-center justify-center overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:"url('/images/coursespage-parallex.jpg')",backgroundAttachment:"fixed"}}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-black opacity-70"}),(0,Me.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center z-10",children:[(0,Me.jsx)("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-6 text-white",children:"Explore Our Courses"}),(0,Me.jsx)("p",{className:"text-xl text-gray-200 max-w-2xl mx-auto",children:"Discover expert-led courses designed to accelerate your career in the digital economy"})]})]}),(0,Me.jsx)("section",{className:"py-8 bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,Me.jsx)("div",{className:"w-full lg:w-96",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:"text",placeholder:"Search courses...",value:r,onChange:e=>n(e.target.value),className:"input-field pl-10"}),(0,Me.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Me.jsx)("select",{value:s,onChange:e=>o(e.target.value),className:"input-field w-auto",children:["all","beginner","intermediate","advanced"].map(e=>(0,Me.jsx)("option",{value:e,children:"all"===e?"All Levels":e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,Me.jsx)("select",{value:i,onChange:e=>l(e.target.value),className:"input-field w-auto",children:[{value:"popular",label:"Most Popular"},{value:"newest",label:"Newest"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"rating",label:"Highest Rated"}].map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})})}),(0,Me.jsx)("section",{className:"py-12",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Me.jsx)("div",{className:"mb-8",children:(0,Me.jsxs)("p",{className:"text-gray-600",children:["Showing ",f.length," of ",e.length," courses"]})}),c&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-brand-cyan mx-auto"}),(0,Me.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading courses..."})]}),u&&!c&&(0,Me.jsxs)("div",{className:"text-center py-8 bg-yellow-50 rounded-lg p-6 mb-8",children:[(0,Me.jsx)("div",{className:"text-2xl mb-4",children:"\u26a0\ufe0f"}),(0,Me.jsx)("h3",{className:"text-xl font-heading font-semibold text-gray-900 mb-2",children:u}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Displaying sample courses while we resolve the issue."})]}),!c&&f.length>0?(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(e=>(0,Me.jsxs)("div",{className:"stats-card bg-white rounded-lg shadow-md p-6 flex flex-col hover:shadow-xl transition-shadow border border-gray-100",children:[(0,Me.jsxs)("div",{className:"relative mb-4",children:[(0,Me.jsx)("img",{src:e.thumbnail||"https://placehold.co/400x200",alt:e.title,className:"w-full h-48 object-cover rounded-lg"}),(0,Me.jsx)("div",{className:"absolute top-3 right-3 bg-brand-cyan text-white px-2 py-1 rounded text-sm font-medium",children:e.level})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-heading font-semibold text-gray-900 mb-2",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,Me.jsxs)("span",{children:["Price: $",e.price]}),(0,Me.jsxs)("span",{children:["Duration: ",e.duration]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[m.has(e.id)?(0,Me.jsx)("a",{href:"/course.html?id=".concat(e.id),className:"btn-secondary w-full text-center",children:"Continue Learning"}):(0,Me.jsx)("button",{onClick:()=>(async e=>{try{if(!localStorage.getItem("user"))return alert("Please login or create an account to enroll in courses."),void(window.location.href="/login?redirect="+encodeURIComponent(window.location.pathname));await xi(e),window.location.href="/dashboard?section=courses&enrolled=".concat(e)}catch(t){console.error("Enrollment failed:",t),alert("Enrollment failed: "+(t.message||"Please try again."))}})(e.id),className:"btn-primary w-full text-center",children:"Enroll Now"}),(0,Me.jsx)(Ie,{to:"/course/".concat(e.id),className:"p-2 text-gray-400 hover:text-brand-navy transition-colors",title:"View Details",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]},e.id))}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,Me.jsx)("h3",{className:"text-xl font-heading font-semibold text-gray-900 mb-2",children:"No courses found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search terms or filters"}),(0,Me.jsx)("button",{onClick:()=>{n(""),o("all")},className:"btn-secondary",children:"Clear Filters"})]})]})})]})},Ai=e=>{let{videoUrl:t,title:r,onProgress:n,onComplete:s,autoPlay:o=!1,showControls:i=!0}=e;const l=(0,a.useRef)(null),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(0),[m,p]=(0,a.useState)(0),[f,g]=(0,a.useState)(1),[x,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(0),[S,_]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=l.current;if(!e)return;const t=()=>{p(e.duration),_(!1)},r=()=>{if(h(e.currentTime),n){const t=e.currentTime/e.duration*100;n(t)}},a=()=>{d(!1),s&&s()},o=()=>{if(e.buffered.length>0){const t=e.buffered.end(e.buffered.length-1)/e.duration*100;N(t)}};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",r),e.addEventListener("ended",a),e.addEventListener("progress",o),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",r),e.removeEventListener("ended",a),e.removeEventListener("progress",o)}},[n,s]);const C=()=>{const e=l.current;e&&(c?e.pause():e.play(),d(!c))},E=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},T=m>0?u/m*100:0;return(0,Me.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,Me.jsxs)("video",{ref:l,className:"w-full h-full",autoPlay:o,muted:x,playsInline:!0,children:[(0,Me.jsx)("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]}),S&&(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),(0,Me.jsx)("span",{className:"text-white",children:"Loading..."})]})}),(0,Me.jsx)("div",{className:"absolute top-4 left-4 right-4",children:(0,Me.jsx)("h3",{className:"text-white text-lg font-semibold drop-shadow-lg",children:r})}),i&&(0,Me.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:[(0,Me.jsxs)("div",{className:"relative mb-4",children:[(0,Me.jsxs)("div",{className:"w-full bg-gray-600 rounded-full h-1",children:[(0,Me.jsx)("div",{className:"bg-gray-400 h-1 rounded-full transition-all duration-300",style:{width:"".concat(k,"%")}}),(0,Me.jsx)("div",{className:"bg-brand-cyan h-1 rounded-full transition-all duration-300 absolute top-0",style:{width:"".concat(T,"%")}})]}),(0,Me.jsx)("input",{type:"range",min:"0",max:"100",value:T,onChange:e=>{const t=l.current;if(!t)return;const r=parseFloat(e.target.value)/100*m;t.currentTime=r,h(r)},className:"absolute inset-0 w-full h-1 opacity-0 cursor-pointer"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("button",{onClick:C,className:"text-white hover:text-brand-cyan transition-colors",children:c?(0,Me.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,Me.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,Me.jsxs)("div",{className:"text-white text-sm",children:[E(u)," / ",E(m)]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("button",{onClick:()=>{const e=l.current;e&&(x?(e.volume=f,b(!1)):(e.volume=0,b(!0)))},onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),className:"text-white hover:text-brand-cyan transition-colors",children:x||0===f?(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):f<.5?(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})}):(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),w&&(0,Me.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-black bg-opacity-90 rounded-lg p-2",children:(0,Me.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:x?0:f,onChange:e=>{const t=l.current;if(!t)return;const r=parseFloat(e.target.value);t.volume=r,g(r),b(0===r)},className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, #00d4ff 0%, #00d4ff ".concat(100*(x?0:f),"%, #4b5563 ").concat(100*(x?0:f),"%, #4b5563 100%)")}})})]}),(0,Me.jsx)("button",{onClick:()=>{const e=l.current;e&&(v?document.exitFullscreen&&document.exitFullscreen():e.requestFullscreen&&e.requestFullscreen(),y(!v))},className:"text-white hover:text-brand-cyan transition-colors",children:v?(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})}):(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]})]}),!c&&!S&&(0,Me.jsx)("div",{onClick:C,className:"absolute inset-0 flex items-center justify-center cursor-pointer",children:(0,Me.jsx)("div",{className:"bg-black bg-opacity-50 rounded-full p-4",children:(0,Me.jsx)("svg",{className:"w-16 h-16 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M8 5v14l11-7z"})})})})]})},Pi=e=>{var t,r,n,s,o,i,l,c,d;let{course:u,lessonId:h,onLessonComplete:m}=e;const p=ae(),f=h||p.lessonId,g=se(),[x,b]=(re(),(0,a.useState)(null)),[v,y]=(0,a.useState)(0),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1),[S,_]=(0,a.useState)(""),[C,E]=(0,a.useState)(!1),[T,O]=(0,a.useState)(null),[R,A]=(0,a.useState)(0),[P,I]=(0,a.useState)([]),[L,D]=(0,a.useState)(!1),[M,U]=(0,a.useState)(300),[z,F]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(f&&u.lessons){const e=u.lessons.find(e=>e.id===f);b(e||null),y(0),j((null===e||void 0===e?void 0:e.isCompleted)||!1),_("")}},[f,u.lessons]),(0,a.useEffect)(()=>{if(!x||!x.quiz||L)return;I(Array(x.quiz.length).fill(null)),A(0),U(300),z&&clearInterval(z);const e=setInterval(()=>U(e=>e>0?e-1:0),1e3);return F(e),()=>clearInterval(e)},[x]),(0,a.useEffect)(()=>{0===M&&z&&(clearInterval(z),D(!0))},[M,z]);(0,a.useEffect)(()=>{(()=>{const e=localStorage.getItem("notes_".concat(null===x||void 0===x?void 0:x.id));e&&_(e)})()},[null===x||void 0===x?void 0:x.id]);const B=()=>{x&&x.quiz&&(R<x.quiz.length-1?A(R+1):(D(!0),z&&clearInterval(z)))},q=x&&x.quiz?P.filter((e,t)=>{var r;return e===(null===(r=x.quiz)||void 0===r?void 0:r[t].correctAnswer)}).length:0;if(!x)return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcda"}),(0,Me.jsx)("h2",{className:"text-2xl font-heading font-semibold text-gray-900 mb-2",children:"Lesson Not Found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"The lesson you're looking for doesn't exist."}),(0,Me.jsx)("button",{className:"btn-primary",onClick:()=>{sessionStorage.removeItem("fromDashboard"),g("/dashboard/my-course")},children:"Go Back to Dashboard"})]})});const W=u.lessons.findIndex(e=>e.id===x.id),H=W<u.lessons.length-1,V=W>0,K=(null===x||void 0===x?void 0:x.videoUrl)||"";return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)(Ie,{to:"/my-courses",className:"text-indigo-700 hover:underline flex items-center mb-4",children:[(0,Me.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back to My Courses"]}),(0,Me.jsx)("h1",{className:"text-xl font-heading font-semibold text-gray-900 mt-1",children:u.title})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-600",children:["Lesson ",W+1," of ",u.lessons.length]}),w&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\u2713 Completed"})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2",children:[(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:(0,Me.jsx)(Ai,{videoUrl:K,title:x.title,onProgress:e=>{y(e),e>=90&&!w&&(j(!0),m&&x&&m(x.id))},onComplete:()=>{j(!0),m&&x&&m(x.id)},autoPlay:!1})}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,Me.jsx)("h2",{className:"text-2xl font-heading font-bold text-gray-900 mb-4",children:x.title}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:x.description||"This lesson covers important concepts and practical applications."}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"lesson-3d-card duration",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:x.duration}),(0,Me.jsx)("div",{className:"text-sm",children:"Duration"})]}),(0,Me.jsxs)("div",{className:"lesson-3d-card progress",children:[(0,Me.jsxs)("div",{className:"text-2xl font-bold",children:[isNaN(v)||"number"!==typeof v?0:Math.round(v),"%"]}),(0,Me.jsx)("div",{className:"text-sm",children:"Progress"})]}),(0,Me.jsxs)("div",{className:"lesson-3d-card lesson",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:x.order}),(0,Me.jsx)("div",{className:"text-sm",children:"Lesson"})]}),(0,Me.jsxs)("div",{className:"lesson-3d-card status",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:w?"\u2713":"\u25cb"}),(0,Me.jsx)("div",{className:"text-sm",children:"Status"})]})]}),x&&x.quiz&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 mt-4 border border-blue-100",children:[(0,Me.jsx)("h3",{className:"text-lg font-heading font-semibold mb-4 text-blue-700",children:"Quiz"}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsxs)("span",{className:"font-medium",children:["Question ",R+1," of ",x.quiz.length]}),(0,Me.jsxs)("span",{className:"text-sm text-red-600",children:["Time left: ",M,"s"]})]}),!L&&x.quiz[R]?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"mb-2 font-medium",children:null===(t=x.quiz[R])||void 0===t?void 0:t.question}),(0,Me.jsx)("div",{className:"space-y-2",children:null===(r=x.quiz[R])||void 0===r||null===(n=r.options)||void 0===n?void 0:n.map((e,t)=>{var r,n;return(0,Me.jsx)("button",{onClick:()=>(e=>{if(!x||!x.quiz)return;const t=[...P];t[R]=e,I(t)})(t),className:"block w-full text-left px-4 py-2 rounded-lg border transition-colors\n                              ".concat(P[R]===t?t===(null===(r=x.quiz)||void 0===r||null===(n=r[R])||void 0===n?void 0:n.correctAnswer)?"bg-green-100 border-green-400 text-green-800":"bg-red-100 border-red-400 text-red-800":"bg-gray-50 border-gray-200 hover:bg-blue-50"),disabled:null!==P[R],children:e},t)})}),null!==P[R]&&(0,Me.jsxs)("div",{className:"mt-4 font-semibold ".concat(P[R]===(null===(s=x.quiz[R])||void 0===s?void 0:s.correctAnswer)?"text-green-700":"text-red-700"),children:[P[R]===(null===(o=x.quiz[R])||void 0===o?void 0:o.correctAnswer)?"Correct! \ud83c\udf89":"Incorrect.",(null===(i=x.quiz)||void 0===i||null===(l=i[R])||void 0===l?void 0:l.explanation)&&(0,Me.jsx)("div",{className:"text-sm mt-1 text-gray-600",children:x.quiz[R].explanation})]}),(0,Me.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,Me.jsx)("button",{onClick:()=>{R>0&&A(R-1)},disabled:0===R,className:"btn-secondary disabled:opacity-50",children:"Previous"}),R<x.quiz.length-1?(0,Me.jsx)("button",{onClick:B,disabled:null===P[R],className:"btn-primary disabled:opacity-50",children:"Next"}):(0,Me.jsx)("button",{onClick:B,disabled:null===P[R],className:"btn-primary disabled:opacity-50",children:"Finish"})]})]}):(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold mb-2",children:L?"Quiz Complete!":"Loading question..."}),L&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"mb-2",children:["Your score: ",(0,Me.jsxs)("span",{className:"font-semibold",children:[q," / ",(null===(c=x.quiz)||void 0===c?void 0:c.length)||0]})]}),(0,Me.jsx)("div",{className:"mb-2",children:q===((null===(d=x.quiz)||void 0===d?void 0:d.length)||0)?"Perfect score! \ud83c\udf89":q>0?"Good job! Review the explanations above.":"Try again next time!"})]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Me.jsx)("button",{onClick:()=>N(!k),className:"btn-secondary",children:k?"Hide Notes":"Take Notes"}),(0,Me.jsx)("button",{onClick:()=>E(!C),className:"btn-secondary",children:C?"Hide Resources":"View Resources"}),w&&(0,Me.jsx)("button",{className:"btn-primary",children:"Mark as Complete"})]})]}),k&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-heading font-semibold text-gray-900 mb-4",children:"My Notes"}),(0,Me.jsx)("textarea",{value:S,onChange:e=>_(e.target.value),placeholder:"Take notes during this lesson...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-brand-cyan focus:border-transparent"}),(0,Me.jsx)("div",{className:"flex justify-end mt-4",children:(0,Me.jsx)("button",{onClick:()=>{localStorage.setItem("notes_".concat(null===x||void 0===x?void 0:x.id),S)},className:"btn-primary",children:"Save Notes"})})]}),C&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-heading font-semibold text-gray-900 mb-4",children:"Lesson Resources"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[(0,Me.jsx)("svg",{className:"w-5 h-5 text-brand-cyan mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),(0,Me.jsx)("span",{className:"text-gray-700",children:"Lesson Slides (PDF)"}),(0,Me.jsx)("button",{className:"ml-auto text-brand-cyan hover:text-brand-navy font-medium",children:"Download"})]}),(0,Me.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[(0,Me.jsx)("svg",{className:"w-5 h-5 text-brand-cyan mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),(0,Me.jsx)("span",{className:"text-gray-700",children:"Practice Exercises"}),(0,Me.jsx)("button",{className:"ml-auto text-brand-cyan hover:text-brand-navy font-medium",children:"Download"})]}),(0,Me.jsxs)("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[(0,Me.jsx)("svg",{className:"w-5 h-5 text-brand-cyan mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),(0,Me.jsx)("span",{className:"text-gray-700",children:"Reference Guide"}),(0,Me.jsx)("button",{className:"ml-auto text-brand-cyan hover:text-brand-navy font-medium",children:"Download"})]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("button",{onClick:()=>{if(!x)return;const e=u.lessons.findIndex(e=>e.id===x.id),t=u.lessons[e-1];t&&g("/course/".concat(u.id,"/lesson/").concat(t.id))},disabled:!V,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2190 Previous Lesson"}),(0,Me.jsx)("button",{onClick:()=>{if(!x)return;const e=u.lessons.findIndex(e=>e.id===x.id),t=u.lessons[e+1];t&&g("/course/".concat(u.id,"/lesson/").concat(t.id))},disabled:!H,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Lesson \u2192"})]})]}),(0,Me.jsx)("div",{className:"lg:col-span-1",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Me.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Me.jsx)("h3",{className:"text-lg font-heading font-semibold text-gray-900",children:"Course Curriculum"})}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsx)("div",{className:"space-y-2",children:u.lessons.map((e,t)=>(0,Me.jsx)(Ie,{to:"/course/".concat(u.id,"/lesson/").concat(e.id),className:"block p-3 rounded-lg transition-colors ".concat(e.id===x.id?"bg-brand-cyan text-white":e.isCompleted?"bg-green-50 text-green-700 hover:bg-green-100":"text-gray-700 hover:bg-gray-50"),children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium",children:e.isCompleted?"\u2713":t+1}),(0,Me.jsx)("span",{className:"font-medium",children:e.title})]}),(0,Me.jsx)("span",{className:"text-sm opacity-75",children:e.duration})]})},e.id))})})]})})]})})]})};function Ii(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}const Li=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Di=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var Mi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ui=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],zi=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:l,iconNode:c}=e,d=Ii(e,Ui);return(0,a.createElement)("svg",He(He(He({ref:t},Mi),{},{width:n,height:n,stroke:r,strokeWidth:o?24*Number(s)/Number(n):s,className:Di("lucide",i)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(l)?l:[l]])}),Fi=["className"],Bi=(e,t)=>{const r=(0,a.forwardRef)((r,n)=>{let{className:s}=r,o=Ii(r,Fi);return(0,a.createElement)(zi,He({ref:n,iconNode:t,className:Di("lucide-".concat((i=Li(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},o));var i});return r.displayName=Li(e),r},qi=Bi("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Wi=Bi("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Hi=Bi("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Vi=Bi("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Ki=Bi("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ji=Bi("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Gi=Bi("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),$i=Bi("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Yi=[{id:"dashboard",label:"Dashboard",icon:(0,Me.jsx)(qi,{size:20})},{id:"profile",label:"Profile",icon:(0,Me.jsx)(Wi,{size:20})},{id:"courses",label:"My Courses",icon:(0,Me.jsx)(Hi,{size:20})},{id:"certificates",label:"Certificates",icon:(0,Me.jsx)(Vi,{size:20})},{id:"ai-tutor",label:"AI Tutor",icon:(0,Me.jsx)("svg",{size:20,className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{id:"todo",label:"To-Do List",icon:(0,Me.jsx)(Ki,{size:20})},{id:"planner",label:"Planner",icon:(0,Me.jsx)(Ji,{size:20})},{id:"calendar",label:"Calendar",icon:(0,Me.jsx)(Gi,{size:20})},{id:"signout",label:"Sign Out",icon:(0,Me.jsx)($i,{size:20})}],Qi=e=>{let{children:t,activeSection:r,setActiveSection:n}=e;return(0,Me.jsxs)("div",{className:"min-h-screen flex bg-gray-50",children:[(0,Me.jsxs)("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col py-6 px-4",children:[(0,Me.jsx)("div",{className:"mb-10 flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-brand-navy to-brand-cyan",children:"Trendtactics Academy"})}),(0,Me.jsx)("nav",{className:"flex-1 space-y-1",children:Yi.map(e=>(0,Me.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all duration-200 font-medium group\n                                ".concat(r===e.id?"bg-brand-navy text-white shadow-md":"text-gray-600 hover:bg-gray-50 hover:text-brand-navy"),onClick:()=>{console.log("Sidebar item clicked:",e.id),n(e.id)},children:[(0,Me.jsx)("span",{className:"".concat(r===e.id?"text-brand-cyan":"text-gray-400 group-hover:text-brand-navy"),children:e.icon}),e.label]},e.id))}),(0,Me.jsx)("div",{className:"mt-auto px-4 py-4 border-t border-gray-100",children:(0,Me.jsxs)("div",{className:"text-xs text-gray-400 text-center font-medium",children:["\xa9 ",(new Date).getFullYear()," Trendtactics"]})})]}),(0,Me.jsx)("main",{className:"flex-1 overflow-y-auto h-screen bg-gray-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto p-8",children:t})})]})},Xi=[{name:"Paystack",logo:"/payments/paystack.png",url:"https://paystack.com/pay/your-link"},{name:"Flutterwave",logo:"/payments/flutterwave.png",url:"https://flutterwave.com/pay/your-link"},{name:"Stripe",logo:"/payments/stripe.png",url:"https://buy.stripe.com/your-link"},{name:"Mastercard",logo:"https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png",url:"#"}],Zi=[{id:"INV-001",company:"Trendtactics Academy",issuer:"Admin",date:"2024-07-01",amount:5e3,status:"Paid",downloadUrl:"#"},{id:"INV-002",company:"Trendtactics Academy",issuer:"Admin",date:"2024-07-10",amount:12e3,status:"Pending",downloadUrl:"#"}],el=e=>{var t,r,n,s,o;let{user:i}=e;const[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({name:(null===i||void 0===i?void 0:i.name)||"",email:(null===i||void 0===i?void 0:i.email)||"",username:"",phone:"",address:""}),[h,m]=(0,a.useState)(Zi),[p,f]=(0,a.useState)({company:"",issuer:"",date:"",amount:"",status:"Pending"}),[g,x]=(0,a.useState)(!1),[b,v]=(0,a.useState)({number:"",name:"",expiry:"",cvv:""}),[y,w]=(0,a.useState)({linkedin:(null===i||void 0===i||null===(t=i.socialLinks)||void 0===t?void 0:t.linkedin)||"",github:(null===i||void 0===i||null===(r=i.socialLinks)||void 0===r?void 0:r.github)||"",facebook:(null===i||void 0===i||null===(n=i.socialLinks)||void 0===n?void 0:n.facebook)||"",instagram:(null===i||void 0===i||null===(s=i.socialLinks)||void 0===s?void 0:s.instagram)||"",website:(null===i||void 0===i||null===(o=i.socialLinks)||void 0===o?void 0:o.website)||""}),[j,k]=(0,a.useState)(!1),[N,S]=(0,a.useState)(!1),_=e=>{w(He(He({},y),{},{[e.target.name]:e.target.value}))},C=e=>{u(He(He({},d),{},{[e.target.name]:e.target.value}))},E=e=>{f(He(He({},p),{},{[e.target.name]:e.target.value}))};return i?(0,Me.jsxs)("div",{className:"max-w-5xl mx-auto py-10 px-4",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Profile"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"col-span-1 bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center bento-card",children:[(0,Me.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-4xl mb-4",children:(0,Me.jsx)("span",{role:"img","aria-label":"avatar",children:"\ud83d\udc64"})}),(0,Me.jsx)("button",{className:"mt-2 px-4 py-1 rounded bg-indigo-600 text-white text-sm hover:bg-indigo-700",children:"Change"})]}),(0,Me.jsxs)("div",{className:"col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 bento-card relative",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold",children:"Basic Information"}),!l&&(0,Me.jsx)("button",{className:"text-indigo-600 hover:underline text-sm",onClick:()=>c(!0),children:"Edit"})]}),l?(0,Me.jsxs)("form",{className:"space-y-2",children:[(0,Me.jsx)("input",{name:"name",value:d.name,onChange:C,className:"w-full border rounded px-3 py-2 mb-2",placeholder:"Name"}),(0,Me.jsx)("input",{name:"email",value:d.email,onChange:C,className:"w-full border rounded px-3 py-2 mb-2",placeholder:"Email"}),(0,Me.jsx)("input",{name:"username",value:d.username,onChange:C,className:"w-full border rounded px-3 py-2 mb-2",placeholder:"Username"}),(0,Me.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,Me.jsx)("button",{type:"button",className:"px-4 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",onClick:()=>{c(!1)},children:"Save"}),(0,Me.jsx)("button",{type:"button",className:"px-4 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:()=>c(!1),children:"Cancel"})]})]}):(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Name:"})," ",d.name]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Email:"})," ",d.email]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Username:"})," ",d.username||(0,Me.jsx)("span",{className:"italic text-gray-400",children:"-"})]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Role:"})," ",i.role]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Contact Information"}),(0,Me.jsx)("input",{name:"phone",value:d.phone,onChange:C,className:"w-full border rounded px-3 py-2 mb-2",placeholder:"Phone"}),(0,Me.jsx)("input",{name:"address",value:d.address,onChange:C,className:"w-full border rounded px-3 py-2",placeholder:"Address"})]})]}),(0,Me.jsxs)("div",{className:"col-span-1 bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Password Management"}),(0,Me.jsx)("input",{type:"password",className:"w-full border rounded px-3 py-2 mb-2",placeholder:"New Password"}),(0,Me.jsx)("button",{className:"px-4 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Change Password"})]}),(0,Me.jsxs)("div",{className:"col-span-2 bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Course Progress"}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:(0,Me.jsx)("div",{className:"bg-indigo-500 h-3 rounded-full transition-all duration-300",style:{width:"60%"}})}),(0,Me.jsx)("div",{className:"text-right text-sm text-gray-600",children:"60% complete"})]}),(0,Me.jsxs)("div",{className:"col-span-3 bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Settings"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Me.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Me.jsx)("h3",{className:"font-medium mb-2",children:"Notifications"}),(0,Me.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only",checked:j,onChange:()=>k(e=>!e)}),(0,Me.jsx)("div",{className:"block w-10 h-6 rounded-full ".concat(j?"bg-indigo-600":"bg-gray-300")}),(0,Me.jsx)("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ".concat(j?"transform translate-x-4":"")})]}),(0,Me.jsx)("div",{className:"ml-3 text-gray-700",children:"Enable Notifications"})]})]}),(0,Me.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Me.jsx)("h3",{className:"font-medium mb-2",children:"Dark Mode"}),(0,Me.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:"checkbox",className:"sr-only",checked:N,onChange:()=>S(e=>!e)}),(0,Me.jsx)("div",{className:"block w-10 h-6 rounded-full ".concat(N?"bg-indigo-600":"bg-gray-300")}),(0,Me.jsx)("div",{className:"absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ".concat(N?"transform translate-x-4":"")})]}),(0,Me.jsx)("div",{className:"ml-3 text-gray-700",children:"Enable Dark Mode"})]})]}),(0,Me.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Me.jsx)("h3",{className:"font-medium mb-2",children:"Two-Factor Authentication"}),(0,Me.jsx)("button",{className:"px-4 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",onClick:()=>alert("2FA enabled (mock)!"),children:"Enable 2FA"})]})]})]}),(0,Me.jsxs)("div",{className:"col-span-3 bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Social Links"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsx)("input",{name:"linkedin",value:y.linkedin,onChange:_,className:"w-full border rounded px-3 py-2",placeholder:"LinkedIn Profile URL"}),(0,Me.jsx)("input",{name:"github",value:y.github,onChange:_,className:"w-full border rounded px-3 py-2",placeholder:"GitHub Profile URL"}),(0,Me.jsx)("input",{name:"facebook",value:y.facebook,onChange:_,className:"w-full border rounded px-3 py-2",placeholder:"Facebook Profile URL"}),(0,Me.jsx)("input",{name:"instagram",value:y.instagram,onChange:_,className:"w-full border rounded px-3 py-2",placeholder:"Instagram Profile URL"}),(0,Me.jsx)("input",{name:"website",value:y.website,onChange:_,className:"w-full border rounded px-3 py-2 md:col-span-2",placeholder:"Personal Website URL"})]}),(0,Me.jsx)("button",{className:"mt-4 px-4 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",onClick:async()=>{try{await di.put("/api/auth/profile",{socialLinks:y},{withCredentials:!0}),alert("Social links saved!")}catch(e){alert("Failed to save social links.")}},children:"Save Social Links"})]}),(0,Me.jsxs)("div",{className:"col-span-3 bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Payment Methods"}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Xi.map(e=>(0,Me.jsxs)("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[(0,Me.jsx)("img",{src:e.logo,alt:e.name,className:"h-8 mb-2"}),(0,Me.jsx)("a",{href:e.url,className:"mt-2 px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",target:"_blank",rel:"noopener noreferrer",children:"Connect"})]},e.name))})]}),(0,Me.jsxs)("div",{className:"col-span-3 bg-white rounded-2xl shadow-lg p-6 bento-card",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Invoices"}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Me.jsx)("thead",{className:"bg-gray-50",children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice ID"}),(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issuer"}),(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Me.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,Me.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.id}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.company}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.issuer||"-"}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.date}),(0,Me.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["\u20a6",e.amount.toLocaleString()]}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Me.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Paid"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Me.jsx)("a",{href:e.downloadUrl,className:"text-indigo-600 hover:underline",children:"Download"})})]},e.id))})]})}),(0,Me.jsxs)("div",{className:"mt-6 p-4 border rounded-lg",children:[(0,Me.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Add New Invoice"}),(0,Me.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p.company&&p.issuer&&p.date&&p.amount&&(m([...h,{id:"INV-".concat(h.length+1),company:p.company,issuer:p.issuer,date:p.date,amount:Number(p.amount),status:p.status,downloadUrl:"#"}]),f({company:"",issuer:"",date:"",amount:"",status:"Pending"}))},className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[(0,Me.jsx)("input",{name:"company",value:p.company,onChange:E,className:"border rounded px-3 py-2",placeholder:"Company",required:!0}),(0,Me.jsx)("input",{name:"issuer",value:p.issuer,onChange:E,className:"border rounded px-3 py-2",placeholder:"Issuer",required:!0}),(0,Me.jsx)("input",{name:"date",value:p.date,onChange:E,className:"border rounded px-3 py-2",placeholder:"Date (YYYY-MM-DD)",required:!0}),(0,Me.jsx)("input",{name:"amount",value:p.amount,onChange:E,className:"border rounded px-3 py-2",placeholder:"Amount",type:"number",required:!0}),(0,Me.jsxs)("select",{name:"status",value:p.status,onChange:E,className:"border rounded px-3 py-2",children:[(0,Me.jsx)("option",{value:"Pending",children:"Pending"}),(0,Me.jsx)("option",{value:"Paid",children:"Paid"})]}),(0,Me.jsx)("button",{type:"submit",className:"md:col-span-5 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Add Invoice"})]})]})]})]})]}):(0,Me.jsx)("div",{className:"p-8 text-center text-lg",children:"You are not logged in."})},tl=["assignment","quiz","project","reading","personal"],rl=["low","medium","high"],nl=["All","Pending","In Progress","Completed"],sl=e=>{let{tasks:t,onTaskAdd:r,onTaskUpdate:n,onTaskDelete:s}=e;const[o,i]=(0,a.useState)("All"),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[p,f]=(0,a.useState)("medium"),[g,x]=(0,a.useState)("assignment"),[b,v]=(0,a.useState)(""),y=("All"===o||t.filter(e=>e.status===o.toLowerCase()),t.filter(e=>"pending"===e.status)),w=t.filter(e=>"in-progress"===e.status),j=t.filter(e=>"completed"===e.status);return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-6 mb-6 transform transition-transform duration-200 hover:scale-105 border-t-4 border-blue-400",style:{boxShadow:"0 8px 24px rgba(0,0,0,0.18), 0 1.5px 4px rgba(60,60,255,0.10)",background:"linear-gradient(135deg, #f8fafc 60%, #e0e7ff 100%)"},children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-800 drop-shadow-lg",children:"To-Do List"}),(0,Me.jsx)("button",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg shadow-lg hover:shadow-2xl hover:scale-105 transition-all duration-200 font-semibold",onClick:()=>c(!0),children:"Add Task"})]}),l&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:(0,Me.jsxs)("div",{className:"bg-white p-6 rounded shadow-md w-full max-w-md",children:[(0,Me.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add New Task"}),(0,Me.jsx)("input",{className:"border rounded w-full px-3 py-2 mb-3",type:"text",placeholder:"Title",value:d,onChange:e=>u(e.target.value)}),(0,Me.jsx)("textarea",{className:"border rounded w-full px-3 py-2 mb-3",placeholder:"Description",value:h,onChange:e=>m(e.target.value)}),(0,Me.jsx)("select",{className:"border rounded w-full px-3 py-2 mb-3",value:g,onChange:e=>x(e.target.value),children:tl.map(e=>(0,Me.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,Me.jsx)("select",{className:"border rounded w-full px-3 py-2 mb-3",value:p,onChange:e=>f(e.target.value),children:rl.map(e=>(0,Me.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,Me.jsx)("input",{className:"border rounded w-full px-3 py-2 mb-3",type:"date",value:b,onChange:e=>v(e.target.value)}),(0,Me.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Me.jsx)("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>c(!1),children:"Cancel"}),(0,Me.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>{if(!d.trim())return;const e={id:Date.now().toString(),title:d,description:h,type:g,priority:p,status:"pending",dueDate:b?new Date(b):void 0,attachments:[],createdAt:new Date};r(e),c(!1),u(""),m(""),f("medium"),x("assignment"),v("")},children:"Add"})]})]})}),(0,Me.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"flex-1 bg-blue-50 rounded p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:y.length}),(0,Me.jsx)("div",{className:"text-blue-700",children:"Pending Tasks"})]}),(0,Me.jsxs)("div",{className:"flex-1 bg-yellow-50 rounded p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:w.length}),(0,Me.jsx)("div",{className:"text-yellow-700",children:"In Progress"})]}),(0,Me.jsxs)("div",{className:"flex-1 bg-green-50 rounded p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:j.length}),(0,Me.jsx)("div",{className:"text-green-700",children:"Completed"})]})]}),(0,Me.jsx)("div",{className:"flex gap-4 mb-6",children:(0,Me.jsx)("select",{className:"border rounded px-3 py-2",value:o,onChange:e=>i(e.target.value),children:nl.map(e=>(0,Me.jsx)("option",{value:e,children:e},e))})}),(0,Me.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h3",{className:"font-semibold mb-2",children:["Pending (",y.length,")"]}),0===y.length?(0,Me.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Me.jsx)("span",{className:"text-3xl",children:"\u2714\ufe0f"}),"No pending tasks"]}):(0,Me.jsx)("ul",{children:y.map(e=>(0,Me.jsxs)("li",{className:"mb-2 p-2 bg-white rounded shadow flex flex-col gap-1",children:[(0,Me.jsx)("span",{className:"font-semibold",children:e.title}),(0,Me.jsx)("span",{className:"text-gray-600 text-sm",children:e.description}),(0,Me.jsxs)("div",{className:"flex gap-2 text-xs mt-1",children:[(0,Me.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:e.type}),(0,Me.jsxs)("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:["Priority: ",e.priority]}),e.dueDate&&(0,Me.jsxs)("span",{className:"bg-red-100 text-red-700 px-2 py-0.5 rounded",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]},e.id))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h3",{className:"font-semibold mb-2",children:["In Progress (",w.length,")"]}),0===w.length?(0,Me.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Me.jsx)("span",{className:"text-3xl",children:"\ud83d\ude80"}),"No tasks in progress"]}):(0,Me.jsx)("ul",{children:w.map(e=>(0,Me.jsx)("li",{className:"mb-2 p-2 bg-white rounded shadow flex justify-between items-center",children:(0,Me.jsx)("span",{children:e.title})},e.id))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h3",{className:"font-semibold mb-2",children:["Completed (",j.length,")"]}),0===j.length?(0,Me.jsxs)("div",{className:"text-gray-400 flex flex-col items-center",children:[(0,Me.jsx)("span",{className:"text-3xl",children:"\ud83c\udf89"}),"No completed tasks"]}):(0,Me.jsx)("ul",{children:j.map(e=>(0,Me.jsx)("li",{className:"mb-2 p-2 bg-white rounded shadow flex justify-between items-center",children:(0,Me.jsx)("span",{children:e.title})},e.id))})]})]})]})},al=e=>{let{events:t,onEventClick:r,onDateClick:n}=e;const[s,o]=(0,a.useState)(new Date),[i,l]=(0,a.useState)(null),c=e=>t.filter(t=>new Date(t.date).toDateString()===e.toDateString()),d=e=>{o(t=>{const r=new Date(t);return"prev"===e?r.setMonth(t.getMonth()-1):r.setMonth(t.getMonth()+1),r})},u=e=>{const t=new Date(s.getFullYear(),s.getMonth(),e);l(t),null===n||void 0===n||n(t)};return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,Me.jsx)("button",{onClick:()=>d("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Me.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]," ",s.getFullYear()]}),(0,Me.jsx)("button",{onClick:()=>d("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,Me.jsx)("div",{className:"grid grid-cols-7 border-b border-gray-200",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Me.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-700 bg-gray-50",children:e},e))}),(0,Me.jsx)("div",{className:"grid grid-cols-7",children:(()=>{const e=(t=s,new Date(t.getFullYear(),t.getMonth()+1,0).getDate());var t;const n=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(s),a=[];for(let r=0;r<n;r++)a.push((0,Me.jsx)("div",{className:"h-24 border border-gray-100"},"empty-".concat(r)));for(let o=1;o<=e;o++){const e=new Date(s.getFullYear(),s.getMonth(),o),t=c(e),n=e.toDateString()===(new Date).toDateString(),l=(null===i||void 0===i?void 0:i.toDateString())===e.toDateString();a.push((0,Me.jsxs)("div",{className:"h-24 border border-gray-100 p-1 cursor-pointer hover:bg-gray-50 transition-colors ".concat(n?"bg-blue-50 border-blue-200":""," ").concat(l?"bg-brand-cyan bg-opacity-10 border-brand-cyan":""),onClick:()=>u(o),children:[(0,Me.jsx)("div",{className:"text-sm font-medium mb-1 ".concat(n?"text-blue-600":"text-gray-900"),children:o}),(0,Me.jsxs)("div",{className:"space-y-1",children:[t.slice(0,2).map((e,t)=>(0,Me.jsx)("div",{className:"text-xs px-1 py-0.5 rounded truncate cursor-pointer ".concat("assignment"===e.type?"bg-red-100 text-red-700":"quiz"===e.type?"bg-yellow-100 text-yellow-700":"lesson"===e.type?"bg-green-100 text-green-700":"deadline"===e.type?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"),onClick:t=>{t.stopPropagation(),null===r||void 0===r||r(e)},children:e.title},e.id)),t.length>2&&(0,Me.jsxs)("div",{className:"text-xs text-gray-500 px-1",children:["+",t.length-2," more"]})]})]},o))}return a})()}),(0,Me.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-red-100 rounded"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Assignment"})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-yellow-100 rounded"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Quiz"})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-green-100 rounded"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Lesson"})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-orange-100 rounded"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Deadline"})]})]})})]})},ol=e=>{let{user:t}=e;const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)("overview");(0,a.useEffect)(()=>{const e=[{id:"1",title:"Complete React Assignment",description:"Build a todo app using React hooks and context",type:"assignment",priority:"high",status:"pending",dueDate:new Date(Date.now()+1728e5),courseId:"course1",courseName:"React Development",createdAt:new Date},{id:"2",title:"Study for JavaScript Quiz",description:"Review ES6 features, async/await, and promises",type:"quiz",priority:"medium",status:"in-progress",dueDate:new Date(Date.now()+432e6),courseId:"course2",courseName:"JavaScript Fundamentals",createdAt:new Date},{id:"3",title:"Read Chapter 5: State Management",description:"Understanding Redux and Context API",type:"reading",priority:"low",status:"completed",courseId:"course1",courseName:"React Development",createdAt:new Date,completedAt:new Date},{id:"4",title:"Plan weekend study session",description:"Organize study materials and create schedule",type:"personal",priority:"medium",status:"pending",dueDate:new Date(Date.now()+864e5),createdAt:new Date}],t=[{id:"1",title:"React Assignment Due",description:"Submit React todo app assignment",date:new Date(Date.now()+1728e5),type:"assignment",courseId:"course1",courseName:"React Development"},{id:"2",title:"JavaScript Quiz",description:"Online quiz on ES6 and async programming",date:new Date(Date.now()+432e6),type:"quiz",courseId:"course2",courseName:"JavaScript Fundamentals"},{id:"3",title:"Live Coding Session",description:"Interactive coding session with instructor",date:new Date(Date.now()+6048e5),type:"lesson",courseId:"course1",courseName:"React Development"},{id:"4",title:"Project Submission Deadline",description:"Final project submission for the course",date:new Date(Date.now()+12096e5),type:"deadline",courseId:"course2",courseName:"JavaScript Fundamentals"}];n(e),o(t)},[]);const c=(()=>{const e=r.length,t=r.filter(e=>"completed"===e.status).length;return{total:e,completed:t,pending:r.filter(e=>"pending"===e.status).length,inProgress:r.filter(e=>"in-progress"===e.status).length,completionRate:e>0?Math.round(t/e*100):0}})(),d=r.filter(e=>"completed"!==e.status&&e.dueDate).sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()).slice(0,5);return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Study Planner"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Organize your learning journey"})]}),(0,Me.jsx)("div",{className:"flex items-center gap-4",children:(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["Welcome back, ",(0,Me.jsx)("span",{className:"font-medium",children:(null===t||void 0===t?void 0:t.name)||"Guest"})]})})]})})}),(0,Me.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:"\ud83d\udcca"},{id:"calendar",label:"Calendar",icon:"\ud83d\udcc5"},{id:"tasks",label:"Tasks",icon:"\u2705"}].map(e=>(0,Me.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(i===e.id?"border-brand-cyan text-brand-cyan":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Me.jsx)("span",{children:e.icon}),e.label]},e.id))})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===i&&(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:c.total}),(0,Me.jsx)("div",{className:"text-gray-600 mt-1",children:"Total Tasks"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:c.completed}),(0,Me.jsx)("div",{className:"text-gray-600 mt-1",children:"Completed"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-yellow-500",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:c.inProgress}),(0,Me.jsx)("div",{className:"text-gray-600 mt-1",children:"In Progress"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-red-500",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:c.pending}),(0,Me.jsx)("div",{className:"text-gray-600 mt-1",children:"Pending"})]})]}),(0,Me.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"text-4xl font-bold mb-2",children:[c.completionRate,"%"]}),(0,Me.jsx)("div",{className:"text-blue-100",children:"Completion Rate"}),(0,Me.jsx)("div",{className:"mt-4 w-full bg-blue-400 rounded-full h-2.5",children:(0,Me.jsx)("div",{className:"bg-white h-2.5 rounded-full",style:{width:"".concat(c.completionRate,"%")}})})]})}),(0,Me.jsxs)("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-md p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Upcoming Tasks"}),0===d.length?(0,Me.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No upcoming tasks. Great job staying on track!"}):(0,Me.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[e.courseName&&(0,Me.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded mr-2",children:e.courseName}),e.dueDate&&(0,Me.jsxs)("span",{className:"text-gray-500",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority}),(0,Me.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"in-progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status.replace("-"," ")})]})]},e.id))})]})]}),"calendar"===i&&(0,Me.jsx)(al,{events:s,onEventClick:e=>{alert("Event: ".concat(e.title,"\n").concat(e.description||""))},onDateClick:e=>{console.log("Date clicked:",e)}}),"tasks"===i&&(0,Me.jsx)(sl,{tasks:r,onTaskUpdate:e=>{n(t=>t.map(t=>t.id===e.id?e:t))},onTaskDelete:e=>{n(t=>t.filter(t=>t.id!==e))},onTaskAdd:e=>{const t=He(He({},e),{},{id:Date.now().toString(),createdAt:new Date});n(e=>[...e,t])}})]})]})},il=e=>{let{studentName:t,courseTitle:r,date:n,certificateId:s}=e;return(0,Me.jsxs)("div",{className:"w-full max-w-2xl mx-auto bg-white border-4 border-yellow-400 rounded-2xl shadow-2xl p-10 text-center relative",style:{fontFamily:"serif",background:"linear-gradient(135deg, #fffbe6 0%, #f7fafc 100%)"},children:[(0,Me.jsx)("div",{className:"absolute top-6 left-6",children:(0,Me.jsx)("img",{src:"/logo192.png",alt:"Trendtactics Academy Logo",className:"w-16 h-16"})}),(0,Me.jsx)("div",{className:"mb-2 text-lg text-gray-500 tracking-wide",children:"Certificate of Completion"}),(0,Me.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"This is to Certify That"}),(0,Me.jsx)("div",{className:"text-3xl font-semibold text-indigo-700 mb-2",children:t}),(0,Me.jsx)("div",{className:"text-lg text-gray-700 mb-6",children:"has successfully completed the course"}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-green-700 mb-4",children:r}),(0,Me.jsxs)("div",{className:"text-lg text-gray-600 mb-8",children:["on ",n]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center mt-8",children:[(0,Me.jsxs)("div",{className:"text-left",children:[(0,Me.jsx)("div",{className:"text-gray-700 font-semibold",children:"Signature"}),(0,Me.jsx)("div",{className:"w-32 h-10 border-b-2 border-gray-400 mt-2 mb-1"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Academy Director"})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-gray-700 font-semibold",children:"Certificate ID"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:s||"XXXX-XXXX"})]})]}),(0,Me.jsx)("div",{className:"absolute bottom-6 right-6 text-xs text-gray-400",children:"Trendtactics Academy"})]})},ll=Bi("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),cl=Bi("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),dl=Bi("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ul=Bi("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),hl=Bi("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ml=new class{constructor(){this.isInitialized=!1,this.aiModels={}}async initialize(){try{let e=0;for(;"undefined"!==typeof window&&"undefined"===typeof window.puter&&e<10;)console.log("Waiting for Puter.js to load..."),await new Promise(e=>setTimeout(e,500)),e++;return"undefined"!==typeof window&&"undefined"===typeof window.puter?(console.warn("Puter.js not found after waiting. Please include the script in your HTML."),!1):(this.aiModels.fast=await puter.ai.create({model:"gpt-5-nano",temperature:.7,max_tokens:300}),this.aiModels.reasoning=await puter.ai.create({model:"deepseek-reasoner",temperature:.5,max_tokens:800}),this.aiModels.creative=await puter.ai.create({model:"claude-sonnet-4",temperature:.8,max_tokens:600}),this.aiModels.education=await puter.ai.create({model:"gemini-2.0-flash",temperature:.6,max_tokens:700}),this.isInitialized=!0,console.log("Puter.js initialized successfully with multiple models"),!0)}catch(e){return console.error("Failed to initialize Puter.js:",e),!1}}async processConversation(e,t){if(!this.isInitialized)throw new Error("Puter.js not initialized. Call initialize() first.");try{const r=e.map(e=>"".concat("user"===e.role?"Customer":"Trendy",": ").concat(e.content)).join("\n"),n="\n        You are Trendy, a friendly and helpful customer service assistant for Trendtactics Academy.\n        Your job is to help customers learn about our courses and services.\n        \n        Previous conversation:\n        ".concat(r,"\n        \n        Customer's latest message: ").concat(t,"\n        \n        Provide helpful responses about:\n        - Our course offerings (Web Development, App Development, Digital Marketing)\n        - Course details and content\n        - Pricing information\n        - How to enroll in courses\n        - Technical support\n        - Platform navigation\n        \n        Remember: You are a CUSTOMER SERVICE REPRESENTATIVE, not an instructor or course creator.\n        Do NOT offer to create courses for customers.\n        Do NOT act as an instructor.\n        Direct customers to the appropriate pages on our website.\n        \n        Keep responses friendly, professional, and focused on helping customers.\n        If you don't know something, direct them to our support team.\n      ");return(await this.aiModels.fast.complete(n)).choices[0].text.trim()}catch(r){throw console.error("Failed to process conversation:",r),r}}async streamResponse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fast";if(!this.isInitialized)throw new Error("Puter.js not initialized. Call initialize() first.");try{const r=this.aiModels[t]||this.aiModels.fast;return await r.complete(e,{stream:!0})}catch(r){throw console.error("Failed to stream response:",r),r}}};class pl{constructor(){this.currentSession=null,this.isInitialized=!1}static getInstance(){return pl.instance||(pl.instance=new pl),pl.instance}async ensureInitialized(){this.isInitialized||(this.isInitialized=await ml.initialize())}async startTutorSession(e){try{return await this.ensureInitialized(),this.currentSession={id:"session-".concat(Date.now()),startTime:new Date,context:e},this.currentSession}catch(t){throw console.error("Start tutor session error:",t),new Error("Failed to initialize AI Tutor. Please try again later.")}}async sendMessage(e,t,r){try{await this.ensureInitialized();const e=(null===r||void 0===r?void 0:r.history)||[],n=[{role:"system",content:"You are an expert tutor for Trendtactics Academy. \n                  Currently helping with course: ".concat((null===r||void 0===r?void 0:r.courseId)||"General Marketing",".\n                  Topic: ").concat((null===r||void 0===r?void 0:r.lessonId)||"General",".")},...e];return{content:await ml.processConversation(n,t),timestamp:new Date}}catch(n){throw console.error("Send AI message error:",n),new Error("AI is temporarily unavailable. Using offline assistant mode.")}}async getRecommendations(e){try{return await this.ensureInitialized(),[{id:1,title:"Mastering Facebook Ads",reason:"Based on your interest in social media"},{id:2,title:"SEO for Beginners",reason:"Highly relevant to your current track"}]}catch(t){return[]}}async getAnalytics(e){return{totalSessions:12,averageSessionDuration:15,learningProgress:{completedLessons:5,totalLessons:20,averageScore:85},engagementMetrics:{questionsAsked:42,resourcesShared:8},topTopics:["Facebook Ads","Email Marketing","Copywriting"]}}async analyzeProgress(e){return{summary:"You are doing great! Focus more on SEO modules next week.",nextSteps:["Complete Chapter 3","Take the SEO Quiz"]}}getCurrentSession(){return this.currentSession}clearSession(){this.currentSession=null}}const fl=pl.getInstance(),gl=()=>{const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{n(!0);localStorage.getItem("authToken")}catch(e){o("Failed to authenticate"),console.error("Auth error:",e)}finally{n(!1)}})()},[]);return{user:e,loading:r,error:s,login:async(e,t)=>{try{n(!0),o(null)}catch(r){throw o("Login failed"),r}finally{n(!1)}},logout:()=>{t(null),localStorage.removeItem("authToken")},signup:async(e,t,r)=>{try{n(!0),o(null)}catch(s){throw o("Signup failed"),s}finally{n(!1)}},isAuthenticated:!!e}},xl=e=>{let{courseId:t,lessonId:r,topic:n,isOpen:s,onClose:o}=e;const{user:i}=gl(),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),y=(0,a.useRef)(null),w=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[d]),(0,a.useEffect)(()=>{s&&w.current&&w.current.focus()},[s]),(0,a.useEffect)(()=>{s&&!l&&j()},[s,t,r,n]);const j=async()=>{if(i){f(!0),v(null);try{const e=await fl.startTutorSession({courseId:t,lessonId:r,topic:n,userLevel:"beginner"});c(e);const s={id:"welcome",role:"assistant",content:"Hello! I'm TrendyAI, your personal tutor. How can I help you today?",timestamp:new Date};u([s])}catch(e){v(e.message||"Failed to start AI session")}finally{f(!1)}}},k=async()=>{if(!h.trim()||!l||p)return;const e={id:"user-".concat(Date.now()),role:"user",content:h.trim(),timestamp:new Date};u(t=>[...t,e]),m(""),x(!0),v(null);try{const n=await fl.sendMessage(l.id,e.content,{courseId:t,lessonId:r,currentProgress:0}),s={id:"ai-".concat(Date.now()),role:"assistant",content:n.content,timestamp:new Date};u(e=>[...e,s])}catch(n){v(n.message||"Failed to send message");const e={id:"error-".concat(Date.now()),role:"assistant",content:"I'm sorry, I'm having trouble responding right now. Please try again.",timestamp:new Date};u(t=>[...t,e])}finally{x(!1)}};return s?(0,Me.jsxs)("div",{className:"flex flex-col h-[600px] w-full bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gray-50 rounded-t-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-sm",children:(0,Me.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"TrendyAI Tutor"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:n?"Helping with ".concat(n):"Your personal learning assistant"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)("button",{onClick:()=>{console.log("Clearing chat..."),u([]),c(null),v(null),fl.clearSession(),j()},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all",title:"Clear chat",children:(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Me.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Close button clicked",o),o&&"function"===typeof o?o():window.history.length>1?window.history.back():window.location.href="/dashboard"},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Close chat",type:"button",children:(0,Me.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,Me.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white custom-scrollbar",children:[p&&0===d.length?(0,Me.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-3"}),(0,Me.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:"Starting AI session..."})]})}):(0,Me.jsxs)(Me.Fragment,{children:[d.map(e=>{return(0,Me.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Me.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-3 rounded-2xl shadow-sm ".concat("user"===e.role?"bg-blue-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"),children:[(0,Me.jsx)("p",{className:"text-sm leading-relaxed",children:e.content}),(0,Me.jsx)("p",{className:"text-[10px] mt-2 font-medium opacity-70 ".concat("user"===e.role?"text-right":"text-left"),children:(t=e.timestamp,new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t))})]})},e.id);var t}),g&&(0,Me.jsx)("div",{className:"flex justify-start",children:(0,Me.jsx)("div",{className:"bg-gray-100 text-gray-800 px-4 py-3 rounded-2xl rounded-tl-none shadow-sm",children:(0,Me.jsxs)("div",{className:"flex space-x-1",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),b&&(0,Me.jsx)("div",{className:"bg-red-50 border border-red-100 rounded-xl p-4 animate-fade-in",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Me.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Me.jsx)("p",{className:"text-red-700 text-xs font-semibold",children:b})]})}),(0,Me.jsx)("div",{ref:y})]}),(0,Me.jsxs)("div",{className:"border-t border-gray-100 p-4 bg-white rounded-b-lg",children:[(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("input",{ref:w,type:"text",value:h,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())},placeholder:"Ask TrendyAI about this lesson...",className:"flex-1 bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all shadow-inner",disabled:p||g}),(0,Me.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Send button clicked"),k()},disabled:!h.trim()||p||g,className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-md active:scale-95","aria-label":"Send message",children:(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),(0,Me.jsx)("p",{className:"text-[10px] text-gray-400 mt-2 text-center font-medium",children:"Auto-save enabled \u2022 AI response time: ~1.2s"})]})]}):null},bl=e=>{let{courseId:t,currentProgress:r,learningGoals:n=[],className:s=""}=e;const{user:o}=gl(),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(0);(0,a.useEffect)(()=>{o&&f()},[o,t,r,m]);const f=async()=>{if(o){d(!0),h(null);try{const e=await fl.getRecommendations({userId:o._id,courseId:t,currentProgress:r,learningGoals:n});l(e)}catch(e){h(e.message||"Failed to load recommendations")}finally{d(!1)}}},g=()=>{p(e=>e+1)},x=e=>{switch(e){case"course":return(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})});case"lesson":return(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})});case"practice":return(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"resource":return(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});default:return(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},b=e=>{switch(e){case"course":return"bg-blue-100 text-blue-600";case"lesson":return"bg-green-100 text-green-600";case"practice":return"bg-purple-100 text-purple-600";case"resource":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}},v=e=>{if(e<60)return"".concat(e,"m");const t=Math.floor(e/60),r=e%60;return r>0?"".concat(t,"h ").concat(r,"m"):"".concat(t,"h")};return c?(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 ".concat(s),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"}),(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})]}),(0,Me.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,Me.jsxs)("div",{className:"animate-pulse",children:[(0,Me.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,Me.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},e))})]}):u?(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 ".concat(s),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"}),(0,Me.jsx)("button",{onClick:g,className:"text-blue-600 hover:text-blue-700 transition-colors",children:(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("div",{className:"text-red-500 mb-2",children:(0,Me.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:u}),(0,Me.jsx)("button",{onClick:g,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Try Again"})]})]}):(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 ".concat(s),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,Me.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"})]}),(0,Me.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Refresh recommendations",children:(0,Me.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),0===i.length?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Me.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,Me.jsx)("p",{className:"text-gray-600 mb-2",children:"No recommendations available"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Complete more lessons to get personalized suggestions"})]}):(0,Me.jsx)("div",{className:"space-y-4",children:i.map(e=>{var t,r,n;return(0,Me.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"p-2 rounded-lg ".concat(b(e.type)),children:x(e.type)}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("span",{className:"text-xs font-medium ".concat((n=e.confidence,n>=.8?"text-green-600":n>=.6?"text-yellow-600":"text-red-600")),children:[Math.round(100*e.confidence),"% match"]}),(null===(t=e.metadata)||void 0===t?void 0:t.estimatedTime)&&(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:v(e.metadata.estimatedTime)})]})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-500 italic",children:e.reasoning}),(null===(r=e.metadata)||void 0===r?void 0:r.difficulty)&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("beginner"===e.metadata.difficulty?"bg-green-100 text-green-800":"intermediate"===e.metadata.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.metadata.difficulty})]})]})]})},e.id)})}),i.length>0&&(0,Me.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Me.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Recommendations powered by TrendyAI \u2022 Updated based on your learning progress"})})]})},vl=e=>{let{userId:t,currentCourse:r,currentLesson:n,onBack:s}=e;const[o,i]=(0,a.useState)("chat"),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{"analytics"===o&&p()},[o,t]);const p=async()=>{try{u(!0),m(null);const e=await fl.getAnalytics(t);c(e)}catch(e){m("Failed to load analytics"),console.error("Analytics error:",e)}finally{u(!1)}};return(0,Me.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Learning Assistant"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-600",children:"Get personalized help, recommendations, and insights powered by TrendyAI"})]}),(0,Me.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,Me.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Me.jsx)("button",{onClick:()=>i("chat"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("chat"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"AI Tutor Chat"}),(0,Me.jsx)("button",{onClick:()=>i("recommendations"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("recommendations"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Recommendations"}),(0,Me.jsx)("button",{onClick:()=>i("analytics"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("analytics"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Analytics"})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:(()=>{var e;switch(o){case"chat":return(0,Me.jsx)(xl,{courseId:r,lessonId:n,topic:void 0,isOpen:!0,onClose:s});case"recommendations":return(0,Me.jsx)(bl,{courseId:r,currentProgress:null===l||void 0===l||null===(e=l.learningProgress)||void 0===e?void 0:e.averageScore,learningGoals:[]});case"analytics":return(0,Me.jsxs)("div",{className:"space-y-6",children:[d&&(0,Me.jsx)("div",{className:"flex justify-center py-8",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),h&&(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,Me.jsx)("p",{className:"text-red-600",children:h}),(0,Me.jsx)("button",{onClick:p,className:"mt-2 text-red-700 hover:text-red-800 underline",children:"Try again"})]}),l&&(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Learning Progress"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Completed Lessons:"}),(0,Me.jsxs)("span",{className:"font-medium",children:[l.learningProgress.completedLessons,"/",l.learningProgress.totalLessons]})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Average Score:"}),(0,Me.jsxs)("span",{className:"font-medium",children:[l.learningProgress.averageScore,"%"]})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(l.learningProgress.completedLessons/l.learningProgress.totalLessons*100,"%")}})})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Engagement"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Total Sessions:"}),(0,Me.jsx)("span",{className:"font-medium",children:l.totalSessions})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Questions Asked:"}),(0,Me.jsx)("span",{className:"font-medium",children:l.engagementMetrics.questionsAsked})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Avg. Session:"}),(0,Me.jsxs)("span",{className:"font-medium",children:[Math.round(l.averageSessionDuration)," min"]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Discussion Topics"}),(0,Me.jsx)("div",{className:"space-y-2",children:l.topTopics.slice(0,5).map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),(0,Me.jsx)("span",{className:"text-gray-700 text-sm",children:e})]},t))})]})]})]});default:return null}})()})]})})},yl=e=>{let{icon:t,label:r,value:n,color:s}=e;return(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:r}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:n})]}),(0,Me.jsx)("div",{className:"p-3 rounded-xl ".concat(s," shadow-lg shadow-opacity-20"),children:t})]})},wl=()=>{const e=se(),[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)("dashboard"),[o,i]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{Fs()||e("/login",{replace:!0})},[e]),(0,a.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("section");e&&s(e)},[]),(0,a.useEffect)(()=>{const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);r(t)}catch(t){console.error("Error parsing user data:",t)}},[]),(0,a.useEffect)(()=>{Fs()&&(async()=>{try{c(!0);const e=await bi();i(e||[])}catch(e){console.error("Error fetching enrolled courses:",e),i([])}finally{c(!1)}})()},[]);const h=Array.isArray(o)?o:[],m=h.length?Math.round(h.reduce((e,t)=>e+(t.progress||0),0)/h.length):0,p=h.length>0?h[0]:null,[f,g]=(Math.max(30,45,20,60,50,80,40),(0,a.useState)([]));return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)(Qi,{activeSection:n,setActiveSection:e=>{console.log("Dashboard received activeSection update:",e),"signout"!==e?s(e):Us().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/login"}).catch(e=>{console.error("Logout error:",e),window.location.href="/login"})},children:["dashboard"===n&&(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h1",{className:"text-3xl font-heading font-bold text-gray-900",children:["Welcome back, ",(0,Me.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-navy to-brand-cyan",children:(null===t||void 0===t?void 0:t.name)||"Student"})," \ud83d\udc4b"]}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:"You're making great progress! Keep it up."})]}),(0,Me.jsxs)("div",{className:"flex gap-3",children:[(0,Me.jsxs)(Ie,{to:"/courses",className:"btn-secondary flex items-center gap-2",children:[(0,Me.jsx)(Hi,{size:18}),"Browse Courses"]}),p&&(0,Me.jsxs)("button",{onClick:()=>window.location.href="/course.html?id=".concat(p.id),className:"btn-primary flex items-center gap-2 shadow-lg hover:shadow-cyan-500/20",children:[(0,Me.jsx)(ll,{size:18}),"Resume Learning"]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Me.jsx)(yl,{icon:(0,Me.jsx)(Hi,{className:"text-white",size:24}),label:"Courses in Progress",value:h.filter(e=>e.progress>0&&e.progress<100).length,color:"bg-brand-navy"}),(0,Me.jsx)(yl,{icon:(0,Me.jsx)(cl,{className:"text-white",size:24}),label:"Overall Progress",value:"".concat(m,"%"),color:"bg-brand-cyan"}),(0,Me.jsx)(yl,{icon:(0,Me.jsx)(dl,{className:"text-white",size:24}),label:"Hours Learned",value:"12.5",color:"bg-purple-500"}),(0,Me.jsx)(yl,{icon:(0,Me.jsx)(ul,{className:"text-white",size:24}),label:"Certificates",value:"0",color:"bg-orange-500"})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"}),h.length>0?(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(e=>(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden group hover:shadow-md transition-shadow",children:[(0,Me.jsxs)("div",{className:"h-32 bg-gray-200 relative overflow-hidden",children:[(0,Me.jsx)("img",{src:e.thumbnail||e.thumbnail_url||"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=500",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"})]}),(0,Me.jsxs)("div",{className:"p-5",children:[(0,Me.jsx)("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-1",children:e.title}),(0,Me.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Me.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-1.5",children:(0,Me.jsx)("div",{className:"bg-brand-navy h-1.5 rounded-full",style:{width:"".concat(e.progress||0,"%")}})}),(0,Me.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:[e.progress||0,"%"]})]}),(0,Me.jsx)("a",{href:"/course.html?id=".concat(e.id),onClick:()=>{sessionStorage.setItem("fromDashboard","true")},className:"w-full block text-center py-2.5 rounded-xl bg-gray-50 text-gray-900 font-medium text-sm hover:bg-brand-navy hover:text-white transition-all duration-200",children:"Continue"})]})]},e.id))}):(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-8 text-center border border-dashed border-gray-200",children:[(0,Me.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-4",children:(0,Me.jsx)(Hi,{size:24,className:"text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No courses yet"}),(0,Me.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Start your journey by enrolling in one of our expert-led courses."}),(0,Me.jsxs)(Ie,{to:"/courses",className:"btn-primary inline-flex items-center gap-2",children:["Browse Courses ",(0,Me.jsx)(hl,{size:16})]})]})]}),"profile"===n&&(0,Me.jsx)(el,{user:t}),"courses"===n&&(0,Me.jsxs)("div",{className:"container mx-auto py-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"My Courses"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.map(e=>(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("h3",{className:"font-bold text-lg mb-2",children:e.title}),(0,Me.jsx)("a",{href:"/course.html?id=".concat(e.id),className:"btn-primary w-full text-center block",children:"Go to Course"})]})},e.id)),0===h.length&&(0,Me.jsx)("p",{className:"text-gray-500",children:"No courses found."})]})]}),"todo"===n&&(0,Me.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"My Tasks"}),(0,Me.jsx)(sl,{tasks:f,onTaskAdd:e=>g(t=>[He(He({},e),{},{id:Date.now().toString(),status:"pending"}),...t]),onTaskUpdate:e=>g(t=>t.map(t=>t.id===e.id?e:t)),onTaskDelete:e=>g(t=>t.filter(t=>t.id!==e))})]}),"planner"===n&&(0,Me.jsx)(ol,{user:t}),"ai-tutor"===n&&(0,Me.jsx)(vl,{userId:null===t||void 0===t?void 0:t._id,onBack:()=>s("dashboard")}),"calendar"===n&&(0,Me.jsx)(al,{events:[]}),"certificates"===n&&(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto py-8",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold mb-6 text-gray-900",children:"My Certificates"}),(0,Me.jsx)("div",{className:"space-y-6",children:h.filter(e=>100===e.progress).length>0?h.filter(e=>100===e.progress).map(e=>(0,Me.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),(0,Me.jsxs)("p",{className:"text-gray-500",children:["Completed on ",e.enrolled_at?new Date(e.enrolled_at).toLocaleDateString():"N/A"]})]}),(0,Me.jsx)("button",{className:"btn-primary",children:"Download Certificate"})]},e.id)):(0,Me.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl border border-dashed border-gray-200",children:[(0,Me.jsx)(ul,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No certificates yet"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Finish all lessons in a course to earn your certificate."})]})}),(0,Me.jsxs)("div",{className:"mt-12 opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all",children:[(0,Me.jsx)("p",{className:"text-center text-sm text-gray-400 mb-4",children:"Preview of your future certificate"}),(0,Me.jsx)(il,{studentName:(null===t||void 0===t?void 0:t.name)||"Student Name",courseTitle:"Example Digital Excellence",date:(new Date).toLocaleDateString(),certificateId:"TT-XXXX-XXXX"})]})]})]})})},jl=()=>(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,Me.jsx)("div",{className:"text-6xl font-heading font-bold text-brand-navy mb-4",children:"404"}),(0,Me.jsx)("h1",{className:"text-2xl font-heading font-semibold text-gray-900 mb-4",children:"Page Not Found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL."}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)(Ie,{to:"/",className:"btn-primary block",children:"Go to Homepage"}),(0,Me.jsx)(Ie,{to:"/courses",className:"btn-secondary block",children:"Browse Courses"})]})]})}),kl=()=>{const{id:e,lessonId:t}=ae(),r=se(),[n,s]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{e&&(async()=>{try{i(!0);const t=await gi(e);if(!t)throw new Error("Course not found");let r=[];if(t.modules?t.modules.forEach(e=>{e.lessons&&e.lessons.forEach(e=>{r.push(He(He({},e),{},{videoUrl:e.video_url||"",description:e.content||e.description||"",isCompleted:!1,quiz:e.quiz_questions||e.quiz||[]}))})}):t.lessons&&(r=t.lessons.map(e=>He(He({},e),{},{videoUrl:e.video_url||"",description:e.content||e.description||"",quiz:e.quiz_questions||e.quiz||[]}))),0===r.length)throw new Error("This course has no lessons available yet.");r.sort((e,t)=>(e.ordering||0)-(t.ordering||0)),s(He(He({},t),{},{lessons:r}))}catch(t){console.error("Error loading course:",t),c(t.message)}finally{i(!1)}})()},[e]),o?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-navy mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading your lesson..."})]})}):l||!n?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:l||"Course not found"}),(0,Me.jsx)("button",{onClick:()=>r("/dashboard"),className:"px-4 py-2 bg-brand-navy text-white rounded-lg",children:"Back to Dashboard"})]})}):(0,Me.jsx)(Pi,{course:n,lessonId:t,onLessonComplete:e=>{console.log("Lesson completed:",e)}})},Nl=()=>{const{id:e}=ae(),t=se(),[r,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{const r=await gi(e);if(!r)return n("Course not found"),void setTimeout(()=>t("/dashboard"),3e3);let s=null;if(r.modules&&r.modules.length>0){const e=r.modules[0];e.lessons&&e.lessons.length>0&&(s=e.lessons[0].id)}else r.lessons&&r.lessons.length>0&&(s=r.lessons[0].id);console.log("Resolved firstLessonId:",s,"for course:",e),window.location.href="/course.html?id=".concat(e).concat(s?"&lesson=".concat(s):"")}catch(r){console.error("Course resolution failed:",r),n(r.message||"Failed to load course"),setTimeout(()=>{t("/dashboard")},3e3)}})()},[e,t]),r?(0,Me.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 p-4",children:(0,Me.jsxs)("div",{className:"text-center max-w-md",children:[(0,Me.jsx)("div",{className:"text-4xl mb-4",children:"\u26a0\ufe0f"}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Could Not Resolve Course"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:r}),(0,Me.jsx)("button",{onClick:()=>t("/dashboard"),className:"btn-primary",children:"Back to Dashboard"})]})}):(0,Me.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-cyan mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading course environment..."})]})})},Sl=()=>{const{id:e}=ae(),t=[],[r,n]=(0,a.useState)(0),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(1200),[u,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(t.length>0&&!i){o(Array(t.length).fill(null)),n(0),d(1200),u&&clearInterval(u);const e=setInterval(()=>d(e=>e>0?e-1:0),1e3);return h(e),()=>clearInterval(e)}},[e]),(0,a.useEffect)(()=>{0===c&&u&&(clearInterval(u),l(!0))},[c,u]);t.length&&s.filter((e,r)=>e===t[r].correctAnswer).length;return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Course Not Found"})},_l=Bi("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Cl=Bi("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),El=Bi("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Tl=Bi("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Ol=Bi("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Rl=Bi("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Al="+234 701 234 5678",Pl="12 Allen Avenue, Ikeja, Lagos, Nigeria",Il=()=>{const[e,t]=(0,a.useState)({name:"",email:"",message:""}),[r,n]=(0,a.useState)({}),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({phone:!1,address:!1,email:!1}),c=(e,t)=>{switch(e){case"name":return t.trim()?"":"Name is required";case"email":return/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)?"":"Valid email required";case"message":return t.trim()?"":"Message is required";default:return""}},d=e=>{const{name:r,value:s}=e.target;t(e=>He(He({},e),{},{[r]:s})),n(e=>He(He({},e),{},{[r]:c(r,s)}))},u=(e,t)=>{navigator.clipboard.writeText(t),l(t=>He(He({},t),{},{[e]:!0})),setTimeout(()=>l(t=>He(He({},t),{},{[e]:!1})),1500)};return(0,Me.jsxs)("main",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Me.jsxs)("section",{className:"relative h-[40vh] min-h-[400px] flex items-center justify-center overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('/images/contactpage-parallex.jpg')"}}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-brand-navy/90 backdrop-blur-sm"}),(0,Me.jsxs)("div",{className:"relative container mx-auto px-4 text-center z-10",children:[(0,Me.jsx)("span",{className:"inline-block py-1 px-3 rounded-full bg-brand-cyan/20 text-brand-cyan text-sm font-semibold mb-4 border border-brand-cyan/30",children:"We'd Love to Hear From You"}),(0,Me.jsxs)("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 tracking-tight",children:["Get in ",(0,Me.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-cyan to-blue-400",children:"Touch"})]}),(0,Me.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Have questions about our courses or need support? Our team is here to help you accelerate your learning journey."})]})]}),(0,Me.jsx)("section",{className:"relative z-20 -mt-20 pb-20 px-4",children:(0,Me.jsx)("div",{className:"container mx-auto",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 max-w-6xl mx-auto",children:[(0,Me.jsx)("div",{className:"lg:w-1/3 order-2 lg:order-1",children:(0,Me.jsxs)("div",{className:"bg-brand-navy text-white rounded-3xl p-8 shadow-xl h-full relative overflow-hidden group",children:[(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-cyan/10 rounded-full translate-x-1/2 -translate-y-1/2 blur-3xl group-hover:bg-brand-cyan/20 transition-all duration-700"}),(0,Me.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-blue-600/20 rounded-full -translate-x-1/2 translate-y-1/2 blur-3xl"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold mb-8 relative z-10",children:"Contact Information"}),(0,Me.jsxs)("div",{className:"space-y-8 relative z-10",children:[(0,Me.jsxs)("div",{className:"flex gap-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center flex-shrink-0 text-brand-cyan",children:(0,Me.jsx)(_l,{})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-widest font-semibold mb-1",children:"Call Us"}),(0,Me.jsx)("p",{className:"font-medium text-lg mb-2",children:Al}),(0,Me.jsxs)("button",{onClick:()=>u("phone",Al),className:"text-xs flex items-center gap-1.5 text-brand-cyan hover:text-white transition-colors",children:[i.phone?(0,Me.jsx)(Cl,{size:14}):(0,Me.jsx)(El,{size:14}),i.phone?"Copied":"Copy Number"]})]})]}),(0,Me.jsxs)("div",{className:"flex gap-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center flex-shrink-0 text-brand-cyan",children:(0,Me.jsx)(Tl,{})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-widest font-semibold mb-1",children:"Email Us"}),(0,Me.jsx)("p",{className:"font-medium text-lg mb-2",children:"hello@trendtactics.com"}),(0,Me.jsxs)("button",{onClick:()=>u("email","hello@trendtactics.com"),className:"text-xs flex items-center gap-1.5 text-brand-cyan hover:text-white transition-colors",children:[i.email?(0,Me.jsx)(Cl,{size:14}):(0,Me.jsx)(El,{size:14}),i.email?"Copied":"Copy Email"]})]})]}),(0,Me.jsxs)("div",{className:"flex gap-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center flex-shrink-0 text-brand-cyan",children:(0,Me.jsx)(Ol,{})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-widest font-semibold mb-1",children:"Visit Us"}),(0,Me.jsx)("p",{className:"font-medium text-lg leading-snug mb-2",children:Pl}),(0,Me.jsxs)("button",{onClick:()=>u("address",Pl),className:"text-xs flex items-center gap-1.5 text-brand-cyan hover:text-white transition-colors",children:[i.address?(0,Me.jsx)(Cl,{size:14}):(0,Me.jsx)(El,{size:14}),i.address?"Copied":"Copy Address"]})]})]})]})]})}),(0,Me.jsx)("div",{className:"lg:w-2/3 order-1 lg:order-2",children:(0,Me.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 h-full",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send us a Message"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-8",children:"Fill out the form below and we'll get back to you within 24 hours."}),(0,Me.jsxs)("form",{onSubmit:r=>{r.preventDefault();const s={};Object.entries(e).forEach(e=>{let[t,r]=e;const n=c(t,r);n&&(s[t]=n)}),n(s),0===Object.keys(s).length&&(o(!0),t({name:"",email:"",message:""}),setTimeout(()=>o(!1),4e3))},className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsx)("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:"Full Name"}),(0,Me.jsx)("input",{type:"text",name:"name",value:e.name,onChange:d,className:"w-full px-5 py-3 rounded-xl bg-gray-50 border ".concat(r.name?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-brand-cyan focus:ring-brand-cyan/20"," focus:outline-none focus:ring-4 transition-all"),placeholder:"John Doe"}),r.name&&(0,Me.jsx)("p",{className:"text-red-500 text-xs ml-1",children:r.name})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsx)("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:"Email Address"}),(0,Me.jsx)("input",{type:"email",name:"email",value:e.email,onChange:d,className:"w-full px-5 py-3 rounded-xl bg-gray-50 border ".concat(r.email?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-brand-cyan focus:ring-brand-cyan/20"," focus:outline-none focus:ring-4 transition-all"),placeholder:"john@example.com"}),r.email&&(0,Me.jsx)("p",{className:"text-red-500 text-xs ml-1",children:r.email})]})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsx)("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:"Your Message"}),(0,Me.jsx)("textarea",{name:"message",value:e.message,onChange:d,rows:"5",className:"w-full px-5 py-3 rounded-xl bg-gray-50 border ".concat(r.message?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-brand-cyan focus:ring-brand-cyan/20"," focus:outline-none focus:ring-4 transition-all"),placeholder:"How can we help you?"}),r.message&&(0,Me.jsx)("p",{className:"text-red-500 text-xs ml-1",children:r.message})]}),(0,Me.jsx)("button",{type:"submit",className:"w-full bg-brand-navy hover:bg-brand-cyan text-white hover:text-brand-navy font-bold text-lg py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-cyan-500/25 flex items-center justify-center gap-2 group",children:s?(0,Me.jsxs)(Me.Fragment,{children:["Message Sent ",(0,Me.jsx)(Cl,{size:20})]}):(0,Me.jsxs)(Me.Fragment,{children:["Send Message ",(0,Me.jsx)(Rl,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})})]})})}),(0,Me.jsx)("section",{className:"h-96 w-full relative",children:(0,Me.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3971.949234567890!2d3.3500000000000005!3d6.601840000000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x103b92e6e8e8e8e8%3A0x1234567890abcdef!2s12%20Allen%20Ave%2C%20Ikeja%2C%20Lagos%2C%20Nigeria!5e0!3m2!1sen!2sng!4v1710000000000!5m2!1sen!2sng",className:"w-full h-full border-0 grayscale hover:grayscale-0 transition-all duration-700",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Office Location"})})]})},Ll=[],Dl=()=>(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-50 py-12 px-4",children:[(0,Me.jsx)("h1",{className:"text-3xl md:text-4xl font-heading font-bold text-brand-navy mb-4",children:"My Courses"}),0===Ll.length?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("p",{className:"text-gray-600 mb-8 text-center max-w-md",children:"You have not enrolled in any courses yet. When you enroll, your courses will appear here for easy access and progress tracking."}),(0,Me.jsx)(Ie,{to:"/courses",className:"btn-secondary text-lg px-8 py-3 inline-block",children:"Browse Courses"})]}):(0,Me.jsx)("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:Ll.map(e=>(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 flex flex-col",children:[(0,Me.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-40 object-cover rounded-lg mb-4",loading:"lazy"}),(0,Me.jsx)("h2",{className:"text-xl font-heading font-semibold text-brand-navy mb-1",children:e.title}),(0,Me.jsx)("div",{className:"flex items-center mb-2",children:(0,Me.jsx)("span",{className:"text-xs text-gray-600 font-medium w-10 text-right",children:e.level})}),(0,Me.jsx)("div",{className:"flex gap-2 mt-auto",children:(0,Me.jsx)(Ie,{to:"/course/".concat(e.id),className:"btn-primary flex-1 text-center text-sm",children:"Continue"})})]},e.id))})]}),Ml=()=>{const{courseId:e}=ae();return(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 py-12 px-4",children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-brand-navy mb-4",children:"Course Not Found"}),(0,Me.jsx)(Ie,{to:"/my-courses",className:"btn-secondary text-lg px-8 py-3 inline-block",children:"Back to My Courses"})]})},Ul=()=>{const e=re(),t=se(),r=["/planner","/test-planner","/about","/courses","/dashboard"];return(0,Me.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Me.jsx)("h1",{children:"\ud83d\udd27 Route Diagnostic Page"}),(0,Me.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f0f0f0",borderRadius:"5px"},children:[(0,Me.jsx)("h3",{children:"Current Location Info:"}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Pathname:"})," ",e.pathname]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Search:"})," ",e.search]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Hash:"})," ",e.hash]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Full URL:"})," ",window.location.href]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"User Agent:"})," ",navigator.userAgent]})]}),(0,Me.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Me.jsx)("h3",{children:"Test Navigation:"}),(0,Me.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:r.map(e=>(0,Me.jsxs)("button",{onClick:()=>t(e),style:{padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:["Go to ",e]},e))})]}),(0,Me.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Me.jsx)("h3",{children:"Direct Links Test:"}),(0,Me.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:r.map(e=>(0,Me.jsxs)("a",{href:e,style:{padding:"10px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"5px",textAlign:"center"},children:["Direct link to ",e]},e))})]}),(0,Me.jsxs)("div",{style:{padding:"15px",backgroundColor:"#fff3cd",borderRadius:"5px"},children:[(0,Me.jsx)("h3",{children:"\u26a0\ufe0f Troubleshooting Tips:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Try hard refresh (Ctrl+F5 or Cmd+Shift+R)"}),(0,Me.jsx)("li",{children:"Clear browser cache and cookies"}),(0,Me.jsx)("li",{children:"Try incognito/private browsing mode"}),(0,Me.jsx)("li",{children:"Check if the issue persists in different browsers"}),(0,Me.jsx)("li",{children:"Ensure you're using the correct port (3000)"})]})]})]})},zl=()=>(console.log("SimpleTest component is rendering!"),(0,Me.jsxs)("div",{style:{padding:"40px",textAlign:"center",backgroundColor:"#f0f8ff",minHeight:"100vh",fontFamily:"Arial, sans-serif"},children:[(0,Me.jsx)("h1",{style:{color:"#2c3e50",fontSize:"2.5rem",marginBottom:"20px"},children:"\ud83c\udf89 SUCCESS!"}),(0,Me.jsx)("p",{style:{fontSize:"1.2rem",color:"#34495e",marginBottom:"30px"},children:"This page is working perfectly! The routing system is functional."}),(0,Me.jsxs)("div",{style:{backgroundColor:"#e8f5e8",padding:"20px",borderRadius:"10px",border:"2px solid #27ae60",maxWidth:"600px",margin:"0 auto"},children:[(0,Me.jsx)("h3",{style:{color:"#27ae60",marginBottom:"15px"},children:"\u2705 What this proves:"}),(0,Me.jsxs)("ul",{style:{textAlign:"left",color:"#2c3e50"},children:[(0,Me.jsx)("li",{children:"React Router is working correctly"}),(0,Me.jsx)("li",{children:"The development server is serving routes properly"}),(0,Me.jsx)("li",{children:"Your browser can access the application"}),(0,Me.jsx)("li",{children:"The issue might be specific to certain routes or components"})]})]}),(0,Me.jsxs)("div",{style:{marginTop:"30px"},children:[(0,Me.jsxs)("p",{style:{fontSize:"1rem",color:"#7f8c8d"},children:["Current URL: ",(0,Me.jsx)("strong",{children:window.location.href})]}),(0,Me.jsxs)("p",{style:{fontSize:"1rem",color:"#7f8c8d"},children:["Timestamp: ",(0,Me.jsx)("strong",{children:(new Date).toLocaleString()})]})]})]})),Fl=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{const e=[];try{const t=await fetch("/");e.push({test:"Home page fetch",status:t.status,success:t.ok,url:t.url})}catch(r){e.push({test:"Home page fetch",status:"ERROR",success:!1,error:r instanceof Error?r.message:"Unknown error"})}e.push({test:"Current location",status:"INFO",success:!0,data:{href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,host:window.location.host,hostname:window.location.hostname,port:window.location.port,protocol:window.location.protocol}}),e.push({test:"Browser info",status:"INFO",success:!0,data:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine}}),e.push({test:"React Router status",status:"INFO",success:!0,data:{routerWorking:"This page loaded successfully via React Router",timestamp:(new Date).toISOString()}}),t(e),n(!1)})()},[]);return r?(0,Me.jsxs)("div",{style:{padding:"40px",textAlign:"center"},children:[(0,Me.jsx)("h1",{children:"\ud83d\udd0d Running Network Tests..."}),(0,Me.jsx)("p",{children:"Please wait while we diagnose the issue."})]}):(0,Me.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",maxWidth:"1200px",margin:"0 auto"},children:[(0,Me.jsx)("h1",{style:{color:"#2c3e50",marginBottom:"30px"},children:"\ud83d\udd0d Network & Routing Diagnostic"}),(0,Me.jsx)("div",{style:{marginBottom:"30px"},children:(0,Me.jsx)("button",{onClick:()=>{["/planner","/diagnostic","/simple-test","/about"].forEach((e,t)=>{setTimeout(()=>{window.open(e,"_blank")},1e3*t)})},style:{padding:"15px 30px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer"},children:"\ud83d\ude80 Test All Routes (Opens in New Tabs)"})}),(0,Me.jsx)("div",{style:{display:"grid",gap:"20px"},children:e.map((e,t)=>(0,Me.jsxs)("div",{style:{padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:e.success?"#f8f9fa":"#fff5f5"},children:[(0,Me.jsxs)("h3",{style:{color:e.success?"#27ae60":"#e74c3c",marginBottom:"10px"},children:[e.success?"\u2705":"\u274c"," ",e.test]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Status:"})," ",e.status]}),e.url&&(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"URL:"})," ",e.url]}),e.error&&(0,Me.jsxs)("p",{style:{color:"#e74c3c"},children:[(0,Me.jsx)("strong",{children:"Error:"})," ",e.error]}),e.data&&(0,Me.jsxs)("div",{style:{marginTop:"15px"},children:[(0,Me.jsx)("strong",{children:"Details:"}),(0,Me.jsx)("pre",{style:{backgroundColor:"#f1f2f6",padding:"10px",borderRadius:"4px",overflow:"auto",fontSize:"12px",marginTop:"5px"},children:JSON.stringify(e.data,null,2)})]})]},t))}),(0,Me.jsxs)("div",{style:{marginTop:"40px",padding:"20px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7"},children:[(0,Me.jsx)("h3",{style:{color:"#d63031"},children:"\ud83d\udea8 If you're seeing 404 errors:"}),(0,Me.jsxs)("ol",{style:{marginTop:"15px",lineHeight:"1.6"},children:[(0,Me.jsxs)("li",{children:[(0,Me.jsx)("strong",{children:"Clear browser cache completely"})," (Ctrl+Shift+Delete \u2192 All time \u2192 Everything)"]}),(0,Me.jsx)("li",{children:(0,Me.jsx)("strong",{children:"Try incognito/private mode"})}),(0,Me.jsx)("li",{children:(0,Me.jsx)("strong",{children:"Disable all browser extensions"})}),(0,Me.jsxs)("li",{children:[(0,Me.jsx)("strong",{children:"Check Windows proxy settings"})," (Settings \u2192 Network & Internet \u2192 Proxy)"]}),(0,Me.jsxs)("li",{children:[(0,Me.jsx)("strong",{children:"Try a different browser"})," (Chrome, Firefox)"]}),(0,Me.jsxs)("li",{children:[(0,Me.jsx)("strong",{children:"Restart your computer"})," (sometimes fixes network stack issues)"]}),(0,Me.jsxs)("li",{children:[(0,Me.jsx)("strong",{children:"Check antivirus/firewall"})," (temporarily disable to test)"]})]})]}),(0,Me.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#e8f5e8",borderRadius:"8px",border:"1px solid #27ae60"},children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"\u2705 Good news:"})," If you can see this page, React Router is working correctly!"]}),(0,Me.jsx)("p",{children:"The issue is likely browser-specific or related to caching/network configuration."})]})]})},Bl=()=>(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"AI Tutor Test Page"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"This is a test page to verify that routing is working correctly."}),(0,Me.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:"\u2705 If you can see this page, the routing system is working!"}),(0,Me.jsx)("div",{className:"mt-6",children:(0,Me.jsx)("a",{href:"/ai-tutor",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Go to AI Tutor"})})]})}),ql=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=async()=>{try{const e=await ml.initialize();d(e),e?h("AI Assistant","I'm ready to help you create a course! What topic would you like to explore?"):h("System","Failed to initialize AI. Please check your connection and try again.")}catch(e){console.error("Initialization error:",e),h("System","Error initializing AI: "+e.message)}},h=(e,t)=>{const r={id:Date.now(),sender:e,text:t,timestamp:new Date};n(e=>[...e,r])},m=async()=>{if(s.trim()&&c){l(!0);try{h("You",s);const t=s;o(""),setTimeout(()=>{h("AI Assistant",'Thanks for your input about "'.concat(t,'". In a full implementation, I would use this to refine your course content. Would you like to continue building your course on "').concat(e||"your chosen topic",'"?')),l(!1)},1e3)}catch(t){console.error("Message error:",t),h("System","Error: "+t.message),l(!1)}}};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Conversational Course Creator Test"}),(0,Me.jsx)("p",{className:"text-lg text-gray-600",children:"Test the conversational course creation feature with Trendy AI"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create a Course Conversationally"}),c?(0,Me.jsx)("div",{className:"mb-6 p-4 bg-green-50 rounded-lg border border-green-200",children:(0,Me.jsx)("p",{className:"text-green-800",children:"\u2705 AI Assistant is ready!"})}):(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("button",{onClick:u,className:"px-6 py-3 bg-brand-cyan text-white font-medium rounded-lg hover:bg-brand-navy transition-colors",children:"Initialize AI Assistant"}),(0,Me.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Click above to initialize the AI assistant for conversational course creation"})]}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,Me.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan",placeholder:"Enter a course topic to get started...",disabled:!c||i}),(0,Me.jsx)("button",{onClick:async()=>{if(e.trim()){l(!0);try{h("You","I want to create a course about: ".concat(e)),c||await u();const r=await ml.createConversationalCourse(e);h("AI Assistant",r),t("")}catch(r){console.error("Course creation error:",r),h("System","Error: "+r.message)}finally{l(!1)}}},disabled:i||!e.trim()||!c,className:"px-6 py-3 bg-brand-cyan text-white font-medium rounded-lg hover:bg-brand-navy transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Start Creating"})]}),r.length>0&&(0,Me.jsxs)("div",{className:"mt-8",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversation"}),(0,Me.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto p-4 bg-gray-50 rounded-lg",children:[r.map(e=>(0,Me.jsx)("div",{className:"p-4 rounded-lg ".concat("You"===e.sender?"bg-blue-50 border border-blue-200 ml-8":"AI Assistant"===e.sender?"bg-purple-50 border border-purple-200 mr-8":"bg-red-50 border border-red-200"),children:(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium ".concat("You"===e.sender?"text-blue-700":"AI Assistant"===e.sender?"text-purple-700":"text-red-700"),children:e.sender}),(0,Me.jsx)("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:e.text})]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),i&&(0,Me.jsx)("div",{className:"p-4 rounded-lg bg-gray-100 border border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-75"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]}),c&&r.length>0&&(0,Me.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[(0,Me.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan",placeholder:"Continue the conversation...",disabled:i,onKeyPress:e=>"Enter"===e.key&&m()}),(0,Me.jsx)("button",{onClick:m,disabled:i||!s.trim(),className:"px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"How It Works"}),(0,Me.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-blue-800",children:[(0,Me.jsx)("li",{children:"Initialize the AI assistant to enable conversational course creation"}),(0,Me.jsx)("li",{children:"Enter a topic you'd like to create a course about"}),(0,Me.jsx)("li",{children:"Start a conversation with the AI to define your course structure"}),(0,Me.jsx)("li",{children:"Provide feedback and iterate on the course content"}),(0,Me.jsx)("li",{children:"In a full implementation, this would connect to actual AI services"})]}),(0,Me.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,Me.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,Me.jsx)("strong",{children:"Note:"})," This is a demonstration page. In a production environment, this would connect to actual AI services through puter.js to create real courses."]})})]})]})})},Wl={sampleConversation:[{speaker:"User",message:"I want to create a course about social media marketing"},{speaker:"Trendy",message:"Great topic! I'd love to help you create a social media marketing course. To get started, could you tell me a bit about your target audience? Are you teaching beginners, intermediate marketers, or experts?"},{speaker:"User",message:"Mostly beginners who want to learn how to grow their business on social media"},{speaker:"Trendy",message:"Perfect! For beginner entrepreneurs, I recommend we focus on practical, actionable content. What specific social media platforms are you most interested in covering? For example: Instagram, Facebook, TikTok, LinkedIn, or Twitter?"},{speaker:"User",message:"Instagram and TikTok mainly, since they're great for visual content"},{speaker:"Trendy",message:"Excellent choices! Visual platforms are perfect for business growth. How long would you like this course to be? For example: a quick 1-week intensive, a 4-week foundational course, or an 8-week comprehensive program?"},{speaker:"User",message:"Let's go with a 4-week foundational course"},{speaker:"Trendy",message:"Perfect! Here's a draft outline for your 4-week Social Media Marketing for Beginners course:\n\nWeek 1: Foundations of Social Media Marketing\n- Understanding your audience\n- Setting SMART goals\n- Platform selection strategy\n\nWeek 2: Content Creation Basics\n- Visual storytelling principles\n- Creating engaging captions\n- Hashtag strategies\n\nWeek 3: Growing Your Audience\n- Algorithm basics\n- Engagement techniques\n- Collaborations and partnerships\n\nWeek 4: Measuring Success\n- Analytics and metrics\n- Adjusting your strategy\n- Building a content calendar\n\nDoes this structure work for you, or would you like to adjust anything?"}],sampleCourseContent:"\nCourse Title: Social Media Marketing for Beginners\n\nDescription: \nLearn how to effectively grow your business on Instagram and TikTok with this comprehensive 4-week course designed specifically for beginners.\n\nLearning Objectives:\n\u2022 Understand the fundamentals of social media marketing\n\u2022 Create engaging content that resonates with your target audience\n\u2022 Grow your following organically on Instagram and TikTok\n\u2022 Measure and optimize your social media performance\n\nModules:\n1. Foundations of Social Media Marketing\n   - Identifying your target audience\n   - Setting measurable goals\n   - Choosing the right platforms\n\n2. Content Creation Basics\n   - Visual storytelling principles\n   - Writing engaging captions\n   - Hashtag research and usage\n\n3. Growing Your Audience\n   - Understanding platform algorithms\n   - Engagement strategies that work\n   - Building partnerships\n\n4. Measuring Success\n   - Key metrics to track\n   - Analyzing your performance\n   - Creating a content calendar\n\nProjects/Assignments:\n\u2022 Week 1: Create a brand persona worksheet\n\u2022 Week 2: Design a week's worth of content\n\u2022 Week 3: Engage with 10 accounts in your niche\n\u2022 Week 4: Present a 30-day content calendar\n\nEstimated Duration: 4 weeks (2-3 hours per week)\n",simulateConversation:function(){console.log("=== Conversational Course Creation Demo ==="),console.log("Starting conversation simulation...\n"),this.sampleConversation.forEach((e,t)=>{console.log("".concat(e.speaker,": ").concat(e.message,"\n"))}),console.log("=== Generated Course Content ==="),console.log(this.sampleCourseContent)},getSamplePrompts:function(){return["Create a course about web development for beginners","I want to teach people how to start a podcast","Help me make a course on personal finance management","Design a photography course for social media content","Create a course about email marketing automation"]}},Hl=Wl;"undefined"!==typeof window&&window.conversationalCourseDemo&&(window.conversationalCourseDemo=Wl);const Vl=()=>{const[e,t]=(0,a.useState)(0),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),c=Hl.getSamplePrompts();(0,a.useEffect)(()=>{let s;return r&&e<Hl.sampleConversation.length?s=setInterval(()=>{o(t=>[...t,Hl.sampleConversation[e]]),t(e=>e+1)},2e3):e>=Hl.sampleConversation.length&&(n(!1),setTimeout(()=>l(!0),1e3)),()=>clearInterval(s)},[r,e]);return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Conversational Course Creation Demo"}),(0,Me.jsx)("p",{className:"text-lg text-gray-600",children:"See how Trendy AI creates courses through natural conversation"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,Me.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Me.jsx)("button",{onClick:()=>{n(!0),t(0),o([]),l(!1)},disabled:r,className:"px-4 py-2 bg-brand-cyan text-white font-medium rounded-lg hover:bg-brand-navy transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Playing...":"Play Demo"}),(0,Me.jsx)("button",{onClick:()=>{n(!1),t(0),o([]),l(!1)},className:"px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Reset Demo"})]}),(0,Me.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto p-4 bg-gray-50 rounded-lg mb-6",children:[0===s.length&&!r&&(0,Me.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Me.jsx)("p",{children:'Click "Play Demo" to see a conversation example'})}),s.map((e,t)=>(0,Me.jsx)("div",{className:"p-4 rounded-lg ".concat("User"===e.speaker?"bg-blue-50 border border-blue-200 ml-8":"bg-purple-50 border border-purple-200 mr-8"),children:(0,Me.jsx)("div",{className:"flex justify-between items-start",children:(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium ".concat("User"===e.speaker?"text-blue-700":"text-purple-700"),children:e.speaker}),(0,Me.jsx)("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:e.message})]})})},t)),r&&e<Hl.sampleConversation.length&&(0,Me.jsx)("div",{className:"p-4 rounded-lg bg-gray-100 border border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-75"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]}),i&&(0,Me.jsxs)("div",{className:"mt-8 p-6 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-xl border border-cyan-200",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Generated Course Content"}),(0,Me.jsx)("div",{className:"bg-white p-4 rounded-lg whitespace-pre-wrap text-gray-800 border border-gray-200",children:Hl.sampleCourseContent})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Try These Prompts"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Use these examples to start creating your own courses:"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((e,t)=>(0,Me.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{alert('In a real implementation, this would populate the course creator with: "'.concat(e,'"'))},children:(0,Me.jsxs)("p",{className:"text-gray-800",children:['"',e,'"']})},t))})]}),(0,Me.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"How It Works"}),(0,Me.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-blue-800",children:[(0,Me.jsx)("li",{children:"Trendy AI guides you through course creation with natural conversation"}),(0,Me.jsx)("li",{children:"Simply describe what you want to teach, and the AI asks relevant questions"}),(0,Me.jsx)("li",{children:"Based on your answers, it generates a structured course outline"}),(0,Me.jsx)("li",{children:"You can refine and customize the content as needed"}),(0,Me.jsx)("li",{children:"The final result is a professional course ready for your students"})]})]})]})})},Kl=()=>{const[e,t]=(0,a.useState)([{id:1,text:"Welcome to the Super Intelligent Trendy Demo! I can now access multiple AI models for different tasks.",sender:"bot",timestamp:new Date}]),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)("fast"),[c,d]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{await ml.initialize()&&u("\u2705 Super Intelligence activated! I now have access to multiple AI models:\n- GPT-5 Nano (Fast responses)\n- DeepSeek Reasoner (Complex thinking)\n- Claude Sonnet 4 (Creative content)\n- Gemini 2.0 Flash (Education expertise)")}catch(e){m("Failed to initialize Super Intelligence: "+e.message)}})()},[]);const u=e=>{const r={id:Date.now(),text:e,sender:"bot",timestamp:new Date};t(e=>[...e,r])},h=e=>{const r={id:Date.now(),text:e,sender:"user",timestamp:new Date};t(e=>[...e,r])},m=e=>{const r={id:Date.now(),text:e,sender:"error",timestamp:new Date};t(e=>[...e,r])},p=async e=>{o(!0);try{let t="";switch(e){case"creative":t="\ud83c\udfa8 Creative Mode: Let me tell you something fascinating about digital marketing!\n\nDid you know that the average person sees between 6,000-10,000 ads per day? But here's the surprising part - only about 2% of those ads are remembered. This means that successful digital marketers need to understand not just how to create ads, but how to create MEMORABLE experiences.\n\nThe secret? Storytelling. Brands that weave compelling narratives into their marketing campaigns see 30x more engagement than those that rely solely on product features.";break;case"reasoning":t="\ud83e\udde0 Reasoning Mode: Let me analyze the optimal learning path for Web Development.\n\nBased on cognitive science research:\n1. Start with HTML/CSS foundations (2-3 weeks)\n2. Introduce JavaScript basics (3-4 weeks)\n3. Add DOM manipulation and events (2 weeks)\n4. Integrate with APIs and asynchronous programming (3 weeks)\n5. Move to frameworks like React (4-5 weeks)\n6. Practice with real projects (6+ weeks)\n\nTotal estimated timeline: 20-25 weeks for job-ready skills.\n\nThis approach leverages spaced repetition and progressive complexity for optimal retention.";break;case"education":t="\ud83d\udcda Education Mode: Here's a personalized learning recommendation.\n\nBased on your interest in Digital Marketing, I recommend this learning sequence:\n\nWeek 1-2: Content Creation Fundamentals\n- Visual storytelling principles\n- Copywriting basics\n- Brand voice development\n\nWeek 3-4: Social Media Strategy\n- Platform-specific optimization\n- Audience analysis techniques\n- Engagement metrics\n\nWeek 5-6: Campaign Execution\n- Multi-channel coordination\n- Budget allocation\n- Performance tracking\n\nThis scaffolded approach ensures mastery before complexity.";break;default:t="I can help you with specialized queries. Try:\n- Creative insights\n- Logical reasoning\n- Educational recommendations"}u(t)}catch(t){m("Error processing specialized query: "+t.message)}finally{o(!1)}},f=async()=>{if(!r.trim())return;h(r);n(""),o(!0);try{const e=["I'm processing your query with my super intelligent capabilities!","Thanks for your question. I'm leveraging multiple AI models to give you the best answer.","Interesting point! Let me analyze this with my advanced reasoning capabilities.","I understand what you're asking. Let me provide a comprehensive response."],t=e[Math.floor(Math.random()*e.length)];setTimeout(()=>{u(t),o(!1)},1e3)}catch(e){m("Error: "+e.message),o(!1)}};return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-cyan-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Super Intelligent Trendy Assistant"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600",children:"Powered by Multiple AI Models for Ultimate Intelligence"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"AI Conversation"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-500",children:"Model:"}),(0,Me.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm",disabled:s,children:[(0,Me.jsx)("option",{value:"fast",children:"GPT-5 Nano (Fast)"}),(0,Me.jsx)("option",{value:"reasoning",children:"DeepSeek Reasoner"}),(0,Me.jsx)("option",{value:"creative",children:"Claude Sonnet 4"}),(0,Me.jsx)("option",{value:"education",children:"Gemini 2.0 Flash"})]})]})]}),(0,Me.jsxs)("div",{className:"h-96 overflow-y-auto mb-6 p-4 bg-gray-50 rounded-xl",children:[e.map(e=>(0,Me.jsx)("div",{className:"mb-4 p-4 rounded-lg ".concat("user"===e.sender?"bg-blue-100 border border-blue-200 ml-8":"error"===e.sender?"bg-red-100 border border-red-200":"bg-gray-100 border border-gray-200 mr-8"),children:(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium ".concat("user"===e.sender?"text-blue-700":"error"===e.sender?"text-red-700":"text-gray-700"),children:"user"===e.sender?"You":"error"===e.sender?"Error":"Trendy AI"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:e.text})]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),c&&(0,Me.jsx)("div",{className:"mb-4 p-4 rounded-lg bg-gray-100 border border-gray-200 mr-8",children:(0,Me.jsx)("div",{className:"flex justify-between items-start",children:(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium text-gray-700",children:"Trendy AI (Streaming)"}),(0,Me.jsxs)("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:[c,(0,Me.jsx)("span",{className:"inline-block w-2 h-4 bg-gray-800 ml-1 animate-pulse"})]})]})})}),s&&!c&&(0,Me.jsx)("div",{className:"mb-4 p-4 rounded-lg bg-gray-100 border border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-75"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Ask Trendy anything...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-brand-cyan focus:border-transparent",rows:"2",disabled:s}),(0,Me.jsx)("button",{onClick:f,disabled:s||!r.trim(),className:"bg-brand-cyan text-white rounded-lg px-6 py-3 hover:bg-brand-navy transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"}),(0,Me.jsx)("button",{onClick:async()=>{if(r.trim()){o(!0),h(r),n("");try{const e="This is a simulated streaming response. In a real implementation with puter.js, you would see each word appear individually as it's generated by the AI. This creates a more natural, human-like conversation experience. Streaming is particularly valuable for longer responses where users might otherwise stare at a loading spinner.";d("");const t=e.split(" ");for(let r=0;r<t.length;r++)await new Promise(e=>setTimeout(e,100)),d(e=>e+(r>0?" ":"")+t[r]);setTimeout(()=>{u(e),d(""),o(!1)},500)}catch(e){m("Error streaming response: "+e.message),o(!1)}}},disabled:s||!r.trim(),className:"bg-purple-600 text-white rounded-lg px-6 py-3 hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Stream"})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"AI Model Capabilities"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("button",{onClick:()=>p("creative"),disabled:s,className:"w-full text-left p-4 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg border border-purple-200 hover:from-purple-200 hover:to-pink-200 transition-colors",children:[(0,Me.jsx)("div",{className:"font-semibold text-purple-800",children:"\ud83c\udfa8 Creative Insights"}),(0,Me.jsx)("div",{className:"text-sm text-purple-600 mt-1",children:"Claude Sonnet 4"})]}),(0,Me.jsxs)("button",{onClick:()=>p("reasoning"),disabled:s,className:"w-full text-left p-4 bg-gradient-to-r from-blue-100 to-cyan-100 rounded-lg border border-blue-200 hover:from-blue-200 hover:to-cyan-200 transition-colors",children:[(0,Me.jsx)("div",{className:"font-semibold text-blue-800",children:"\ud83e\udde0 Logical Reasoning"}),(0,Me.jsx)("div",{className:"text-sm text-blue-600 mt-1",children:"DeepSeek Reasoner"})]}),(0,Me.jsxs)("button",{onClick:()=>p("education"),disabled:s,className:"w-full text-left p-4 bg-gradient-to-r from-green-100 to-teal-100 rounded-lg border border-green-200 hover:from-green-200 hover:to-teal-200 transition-colors",children:[(0,Me.jsx)("div",{className:"font-semibold text-green-800",children:"\ud83d\udcda Education Expertise"}),(0,Me.jsx)("div",{className:"text-sm text-green-600 mt-1",children:"Gemini 2.0 Flash"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"System Integration"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,Me.jsx)("div",{className:"font-medium text-yellow-800",children:"\ud83d\udcca Course Database"}),(0,Me.jsx)("div",{className:"text-sm text-yellow-600",children:"Access real course information"})]}),(0,Me.jsxs)("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[(0,Me.jsx)("div",{className:"font-medium text-indigo-800",children:"\ud83d\udc64 User Profiles"}),(0,Me.jsx)("div",{className:"text-sm text-indigo-600",children:"Personalized recommendations"})]}),(0,Me.jsxs)("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[(0,Me.jsx)("div",{className:"font-medium text-red-800",children:"\ud83d\udcc8 Learning Analytics"}),(0,Me.jsx)("div",{className:"text-sm text-red-600",children:"Progress tracking & insights"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-2xl shadow-xl p-6 text-white",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Super Intelligence Benefits"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-purple-100",children:[(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)("span",{className:"text-green-300 mr-2",children:"\u2713"}),(0,Me.jsx)("span",{children:"Context-aware conversations"})]}),(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)("span",{className:"text-green-300 mr-2",children:"\u2713"}),(0,Me.jsx)("span",{children:"Multi-model specialization"})]}),(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)("span",{className:"text-green-300 mr-2",children:"\u2713"}),(0,Me.jsx)("span",{children:"Real-time streaming responses"})]}),(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)("span",{className:"text-green-300 mr-2",children:"\u2713"}),(0,Me.jsx)("span",{children:"System integration capabilities"})]}),(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)("span",{className:"text-green-300 mr-2",children:"\u2713"}),(0,Me.jsx)("span",{children:"Continuous learning & adaptation"})]})]})]})]})]}),(0,Me.jsxs)("div",{className:"mt-12 bg-white rounded-2xl shadow-xl p-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"How to Make Trendy Super Intelligent"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Multi-Model Architecture"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-gray-600",children:[(0,Me.jsx)("li",{children:"\u2022 GPT-5 Nano for fast responses"}),(0,Me.jsx)("li",{children:"\u2022 DeepSeek Reasoner for complex analysis"}),(0,Me.jsx)("li",{children:"\u2022 Claude Sonnet 4 for creative content"}),(0,Me.jsx)("li",{children:"\u2022 Gemini 2.0 Flash for education expertise"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Function Calling Integration"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-gray-600",children:[(0,Me.jsx)("li",{children:"\u2022 Connect to course database"}),(0,Me.jsx)("li",{children:"\u2022 Access user profiles"}),(0,Me.jsx)("li",{children:"\u2022 Retrieve learning analytics"}),(0,Me.jsx)("li",{children:"\u2022 Execute system actions"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. Advanced Features"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-gray-600",children:[(0,Me.jsx)("li",{children:"\u2022 Real-time response streaming"}),(0,Me.jsx)("li",{children:"\u2022 Conversation context memory"}),(0,Me.jsx)("li",{children:"\u2022 Personalized learning paths"}),(0,Me.jsx)("li",{children:"\u2022 Adaptive difficulty adjustment"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Continuous Improvement"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-gray-600",children:[(0,Me.jsx)("li",{children:"\u2022 User feedback integration"}),(0,Me.jsx)("li",{children:"\u2022 Performance analytics"}),(0,Me.jsx)("li",{children:"\u2022 Model fine-tuning"}),(0,Me.jsx)("li",{children:"\u2022 Knowledge base expansion"})]})]})]})]})]})})},Jl={"web-development":{id:"web-development",title:"Web Development Masterclass",description:"Complete guide to modern web development",modules:[{id:1,title:"HTML & CSS Fundamentals",duration:"2 weeks"},{id:2,title:"JavaScript Essentials",duration:"3 weeks"},{id:3,title:"React Framework",duration:"4 weeks"},{id:4,title:"Full-Stack Development",duration:"3 weeks"}],price:299,rating:4.8},"app-development":{id:"app-development",title:"App Development Bootcamp",description:"Build iOS and Android apps with React Native",modules:[{id:1,title:"Mobile UI/UX Design",duration:"2 weeks"},{id:2,title:"React Native Basics",duration:"3 weeks"},{id:3,title:"Navigation & State",duration:"2 weeks"},{id:4,title:"Publishing to Stores",duration:"1 week"}],price:349,rating:4.9},"digital-marketing":{id:"digital-marketing",title:"Digital Marketing Pro",description:"Master content creation, social media, and advertising",modules:[{id:1,title:"Content Strategy",duration:"2 weeks"},{id:2,title:"Social Media Marketing",duration:"3 weeks"},{id:3,title:"Email Campaigns",duration:"2 weeks"},{id:4,title:"Facebook Ads Mastery",duration:"3 weeks"}],price:249,rating:4.7}},Gl={"user-123":{"web-development":{completedModules:[1,2],currentModule:3,overallProgress:50,lastActive:"2025-12-10"}}},$l=()=>{const[e,t]=(0,a.useState)([{id:1,text:"Welcome to the Function Calling Demo! I can access real course data and user progress.",sender:"bot",timestamp:new Date}]),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),i=e=>{const r={id:Date.now(),text:e,sender:"bot",timestamp:new Date};t(e=>[...e,r])},l=async e=>{o(!0),(e=>{const r={id:Date.now(),text:e,sender:"user",timestamp:new Date};t(e=>[...e,r])})(e),n("");try{let t="";if(e.toLowerCase().includes("course")&&(e.toLowerCase().includes("web")||e.toLowerCase().includes("app")||e.toLowerCase().includes("digital"))){const r=e.toLowerCase().match(/(web development|app development|digital marketing)/);t=r?(e=>{const t=Jl[e.course_name.toLowerCase().replace(/\s+/g,"-")];return t?"Course: ".concat(t.title,"\nDescription: ").concat(t.description,"\nModules: ").concat(t.modules.map(e=>"\n- ".concat(e.title," (").concat(e.duration,")")).join(""),"\nPrice: $").concat(t.price,"\nRating: ").concat(t.rating,"/5.0"):"Course not found. Available courses: Web Development, App Development, Digital Marketing"})({course_name:r[1]}):"Which course would you like to know about? We offer Web Development, App Development, and Digital Marketing."}else if(e.toLowerCase().includes("progress")||e.toLowerCase().includes("how am i doing"))t=(e=>{var t,r,n,s;const a=null===(t=Gl[e.user_id])||void 0===t?void 0:t[e.course_id];return a?"Your progress in this course:\nOverall Completion: ".concat(a.overallProgress,"%\nCompleted Modules: ").concat(a.completedModules.length," of ").concat((null===(r=Jl[e.course_id])||void 0===r?void 0:r.modules.length)||"unknown","\nCurrent Module: ").concat((null===(n=Jl[e.course_id])||void 0===n||null===(s=n.modules.find(e=>e.id===a.currentModule))||void 0===s?void 0:s.title)||"Unknown"):"No progress data found for this user and course."})({user_id:"user-123",course_id:"web-development"});else if(e.toLowerCase().includes("next")||e.toLowerCase().includes("recommend"))t=(e=>{var t,r;const n=null===(t=Gl[e.user_id])||void 0===t?void 0:t[e.course_id];if(!n)return"I don't have your progress data. Please enroll in a course first.";const s=Jl[e.course_id];if(!s)return"Course not found.";const a=s.modules.find(e=>e.id===n.currentModule);return a?"Based on your progress, I recommend:\nNext Module: ".concat(a.title,"\nEstimated Duration: ").concat(a.duration,"\nFocus Areas: This module builds on your previous knowledge of ").concat((null===(r=s.modules.find(e=>e.id===n.completedModules[n.completedModules.length-1]))||void 0===r?void 0:r.title)||"previous modules","."):"You've completed all modules! Congratulations!"})({user_id:"user-123",course_id:"web-development"});else{const e=["I can help you with course information, your progress updates, and learning recommendations. What would you like to know?","Ask me about specific courses, your learning progress, or what to study next!","I have access to real course data and your progress. Try asking about Web Development, your current progress, or recommendations!"];t=e[Math.floor(Math.random()*e.length)]}setTimeout(()=>{i(t),o(!1)},800)}catch(r){setTimeout(()=>{i("Sorry, I encountered an error: "+r.message),o(!1)},800)}},c=()=>{r.trim()&&l(r)};return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Function Calling Demo"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600",children:"Connecting AI to Real Systems with puter.js"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"AI Assistant with System Access"}),(0,Me.jsx)("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Live Connection"})]}),(0,Me.jsxs)("div",{className:"h-96 overflow-y-auto mb-6 p-4 bg-gray-50 rounded-xl",children:[e.map(e=>(0,Me.jsx)("div",{className:"mb-4 p-4 rounded-lg ".concat("user"===e.sender?"bg-blue-100 border border-blue-200 ml-8":"bg-gray-100 border border-gray-200 mr-8"),children:(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium ".concat("user"===e.sender?"text-blue-700":"text-gray-700"),children:"user"===e.sender?"You":"Trendy AI"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:e.text})]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),s&&(0,Me.jsx)("div",{className:"mb-4 p-4 rounded-lg bg-gray-100 border border-gray-200",children:(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-75"}),(0,Me.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce delay-150"})]})})]}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c())},placeholder:"Ask about courses, your progress, or recommendations...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-brand-cyan focus:border-transparent",rows:"2",disabled:s}),(0,Me.jsx)("button",{onClick:c,disabled:s||!r.trim(),className:"bg-brand-cyan text-white rounded-lg px-6 py-3 hover:bg-brand-navy transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"System Integration"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Me.jsx)("div",{className:"font-semibold text-blue-800",children:"\ud83d\udcda Course Database"}),(0,Me.jsx)("div",{className:"text-sm text-blue-600 mt-1",children:"Access real course information and curricula"})]}),(0,Me.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,Me.jsx)("div",{className:"font-semibold text-green-800",children:"\ud83d\udc64 User Profiles"}),(0,Me.jsx)("div",{className:"text-sm text-green-600 mt-1",children:"Retrieve personalized user data"})]}),(0,Me.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,Me.jsx)("div",{className:"font-semibold text-purple-800",children:"\ud83d\udcc8 Learning Analytics"}),(0,Me.jsx)("div",{className:"text-sm text-purple-600 mt-1",children:"Access progress tracking and insights"})]}),(0,Me.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,Me.jsx)("div",{className:"font-semibold text-orange-800",children:"\ud83c\udfaf Recommendation Engine"}),(0,Me.jsx)("div",{className:"text-sm text-orange-600 mt-1",children:"Get personalized learning suggestions"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Try These Examples"}),(0,Me.jsx)("div",{className:"space-y-3",children:[{title:"Course Information",prompt:"Tell me about the Web Development course",description:"Access detailed course catalogs"},{title:"Progress Tracking",prompt:"How am I doing in my course?",description:"Retrieve personalized progress data"},{title:"Learning Recommendations",prompt:"What should I learn next?",description:"Get adaptive learning suggestions"}].map((e,t)=>(0,Me.jsxs)("button",{onClick:()=>(e=>{l(e.prompt)})(e),disabled:s,className:"w-full text-left p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors disabled:opacity-50",children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:e.description}),(0,Me.jsxs)("div",{className:"text-xs text-gray-500 mt-1 italic",children:['"',e.prompt,'"']})]},t))})]}),(0,Me.jsxs)("div",{className:"bg-gray-800 rounded-2xl shadow-xl p-6 text-gray-100",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Implementation"}),(0,Me.jsx)("pre",{className:"text-xs bg-gray-900 p-4 rounded-lg overflow-x-auto",children:'// Define tools for AI\nconst tools = [{\n  type: "function",\n  function: {\n    name: "get_course_info",\n    description: "Get course details",\n    parameters: {\n      type: "object",\n      properties: {\n        course_name: { type: "string" }\n      },\n      required: ["course_name"]\n    }\n  }\n}];\n\n// AI processes with function calling\nconst completion = await puter.ai.chat(\n  userInput, { tools }\n);\n\n// Execute system functions\nif (completion.tool_calls) {\n  // Call your system functions\n  // Return results to AI for final response\n}'})]})]})]}),(0,Me.jsxs)("div",{className:"mt-12 bg-white rounded-2xl shadow-xl p-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"How Function Calling Works"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"1"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Define Tools"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Specify system functions the AI can call, with parameters and descriptions."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"2"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Requests Data"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"When needed, AI requests specific data by calling defined functions."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)("span",{className:"text-2xl font-bold text-purple-600",children:"3"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Return Results"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"System executes functions and returns data for AI to create final response."})]})]}),(0,Me.jsxs)("div",{className:"mt-8 p-6 bg-yellow-50 rounded-xl border border-yellow-200",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Benefits for Trendtactics Academy"}),(0,Me.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-yellow-700",children:[(0,Me.jsx)("li",{children:"Real-time access to course information and user data"}),(0,Me.jsx)("li",{children:"Personalized learning recommendations based on actual progress"}),(0,Me.jsx)("li",{children:"Dynamic content delivery tailored to individual needs"}),(0,Me.jsx)("li",{children:"Automated administrative tasks through AI"}),(0,Me.jsx)("li",{children:"Seamless integration between AI assistant and learning platform"})]})]})]})]})})},Yl=e=>{let{user:t}=e;const[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),u=se(),[h,m]=(0,a.useState)([{name:"Digital Marketing 101",desc:"Intro to digital marketing concepts"},{name:"SEO Fundamentals",desc:"Learn the basics of SEO"},{name:"Content Strategy",desc:"Develop effective content strategies"}]),[p,f]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),[b,v]=(0,a.useState)(-1),[y,w]=(0,a.useState)(""),[j,k]=(0,a.useState)(""),[N,S]=(0,a.useState)("Trendtactics Academy"),[_,C]=(0,a.useState)(!0),E=()=>{v(-1),w(""),k("")};return(0,a.useEffect)(()=>{t&&"admin"===t.role||u("/admin-login")},[u,t]),(0,a.useEffect)(()=>{if(r){l(!0),d("");const e=localStorage.getItem("token");fetch("http://localhost:5001/api/auth/users",{headers:{Authorization:"Bearer ".concat(e)}}).then(async e=>{if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch users")}return e.json()}).then(e=>{o(e),l(!1)}).catch(e=>{d(e.message),l(!1)})}},[r]),(0,Me.jsxs)("div",{className:"container mx-auto py-8",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Admin Dashboard"}),(0,Me.jsx)("p",{className:"mb-6",children:"Welcome to the admin dashboard. Here you can manage users, courses, and platform settings."}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded shadow p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"User Management"}),(0,Me.jsx)("p",{children:"View, edit, or remove users."}),(0,Me.jsx)("div",{className:"flex items-center gap-2 mt-4",children:(0,Me.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>n(!0),children:"Manage Users"})}),r&&(0,Me.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:(0,Me.jsxs)("div",{className:"bg-white p-8 rounded shadow-lg w-full max-w-2xl",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold mb-4",children:"User Management"}),i?(0,Me.jsx)("p",{children:"Loading users..."}):c?(0,Me.jsx)("p",{className:"text-red-600",children:c}):(0,Me.jsx)("div",{className:"overflow-y-auto max-h-80",children:(0,Me.jsxs)("table",{className:"min-w-full border",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{className:"border px-2 py-1",children:"Name"}),(0,Me.jsx)("th",{className:"border px-2 py-1",children:"Email"}),(0,Me.jsx)("th",{className:"border px-2 py-1",children:"Role"})]})}),(0,Me.jsx)("tbody",{children:s.map(e=>(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("td",{className:"border px-2 py-1",children:e.name}),(0,Me.jsx)("td",{className:"border px-2 py-1",children:e.email}),(0,Me.jsx)("td",{className:"border px-2 py-1",children:e.role})]},e._id))})]})}),(0,Me.jsx)("button",{className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",onClick:()=>n(!1),children:"Close"})]})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded shadow p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Course Management"}),(0,Me.jsx)("p",{children:"Create, update, or delete courses."}),(0,Me.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,Me.jsx)("input",{type:"text",placeholder:"Course Name",className:"border rounded px-2 py-1",value:p,onChange:e=>f(e.target.value)}),(0,Me.jsx)("input",{type:"text",placeholder:"Description",className:"border rounded px-2 py-1",value:g,onChange:e=>x(e.target.value)}),(0,Me.jsx)("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",onClick:()=>{p.trim()&&g.trim()&&(m([...h,{name:p,desc:g}]),f(""),x(""))},children:"Add Course"})]}),(0,Me.jsx)("div",{className:"overflow-y-auto max-h-60",children:(0,Me.jsxs)("table",{className:"min-w-full border",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{className:"border px-2 py-1",children:"Course Name"}),(0,Me.jsx)("th",{className:"border px-2 py-1",children:"Description"}),(0,Me.jsx)("th",{className:"border px-2 py-1",children:"Actions"})]})}),(0,Me.jsx)("tbody",{children:h.map((e,t)=>(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("td",{className:"border px-2 py-1",children:b===t?(0,Me.jsx)("input",{type:"text",value:y,onChange:e=>w(e.target.value),className:"border rounded px-1"}):e.name}),(0,Me.jsx)("td",{className:"border px-2 py-1",children:b===t?(0,Me.jsx)("input",{type:"text",value:j,onChange:e=>k(e.target.value),className:"border rounded px-1"}):e.desc}),(0,Me.jsx)("td",{className:"border px-2 py-1 flex gap-1",children:b===t?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("button",{className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>(e=>{const t=[...h];t[e]={name:y,desc:j},m(t),v(-1),w(""),k("")})(t),children:"Save"}),(0,Me.jsx)("button",{className:"px-2 py-1 bg-gray-400 text-white rounded hover:bg-gray-500",onClick:E,children:"Cancel"})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("button",{className:"px-2 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600",onClick:()=>(e=>{v(e),w(h[e].name),k(h[e].desc)})(t),children:"Edit"}),(0,Me.jsx)("button",{className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700",onClick:()=>(e=>{m(h.filter((t,r)=>r!==e))})(t),children:"Delete"})]})})]},t))})]})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded shadow p-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Platform Settings"}),(0,Me.jsx)("p",{children:"Configure platform-wide settings."}),(0,Me.jsxs)("div",{className:"flex flex-col gap-2 mt-4",children:[(0,Me.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{children:"Platform Name:"}),(0,Me.jsx)("input",{type:"text",className:"border rounded px-2 py-1",value:N,onChange:e=>S(e.target.value)})]}),(0,Me.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{children:"Enable Registration:"}),(0,Me.jsx)("input",{type:"checkbox",checked:_,onChange:e=>C(e.target.checked)})]}),(0,Me.jsx)("button",{className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",onClick:()=>{alert("Settings saved! Platform Name: ".concat(N,", Registration: ").concat(_?"Enabled":"Disabled"))},children:"Save Settings"}),(0,Me.jsx)("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:()=>{alert("Viewing platform logs (demo)")},children:"View Logs"})]})]})]})]})},Ql=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({}),c=se();return(0,Me.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-heading font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Sign in to your account to continue learning"})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e?/\S+@\S+\.\S+/.test(e)||(t.email="Email is invalid"):t.email="Email is required",r?r.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",l(t),0===Object.keys(t).length})()){o(!0);try{const t=await Ms({email:e,password:r});if(!t||!t.user)return void l(e=>He(He({},e),{},{general:"Login failed. Please check your credentials."}));c("/dashboard")}catch(n){l(e=>He(He({},e),{},{general:n.message||"Login failed. Please try again."}))}finally{o(!1)}}},className:"space-y-6",children:[i.general&&(0,Me.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,Me.jsx)("p",{className:"text-sm text-red-600",children:i.general})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"input-field ".concat(i.email?"border-red-500 focus:ring-red-500":""),placeholder:"Enter your email"}),i.email&&(0,Me.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Me.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>n(e.target.value),className:"input-field ".concat(i.password?"border-red-500 focus:ring-red-500":""),placeholder:"Enter your password"}),i.password&&(0,Me.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.password})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-brand-cyan focus:ring-brand-cyan border-gray-300 rounded"}),(0,Me.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),(0,Me.jsx)("button",{type:"button",className:"text-sm text-brand-cyan hover:text-brand-navy font-medium",children:"Forgot password?"})]}),(0,Me.jsx)("button",{type:"submit",disabled:s,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Me.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Me.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),(0,Me.jsx)("div",{className:"mt-6",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),(0,Me.jsx)("div",{className:"mt-6 space-y-3",children:(0,Me.jsxs)("button",{className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:[(0,Me.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,Me.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Me.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Me.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Me.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),(0,Me.jsx)("div",{className:"mt-6 text-center",children:(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,Me.jsx)("a",{href:"/signup",className:"font-medium text-brand-cyan hover:text-brand-navy",children:"Sign up"})]})})]})})},Xl=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)({}),c=se();return(0,Me.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-heading font-bold text-gray-900 mb-2",children:"Admin Login"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Sign in as an admin to manage the platform"})]}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e?/\S+@\S+\.\S+/.test(e)||(t.email="Email is invalid"):t.email="Email is required",r?r.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",l(t),0===Object.keys(t).length})()){o(!0);try{const t=await Ms({email:e,password:r});if(!t||!t.user)return void l(e=>He(He({},e),{},{general:"Login failed. Please check your credentials."}));if("admin"!==t.user.role)return void l(e=>He(He({},e),{},{general:"Access denied. Admins only."}));c("/admin")}catch(n){l(e=>He(He({},e),{},{general:n.message||"Login failed. Please try again."}))}finally{o(!1)}}},className:"space-y-6",children:[i.general&&(0,Me.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,Me.jsx)("p",{className:"text-sm text-red-600",children:i.general})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"input-field ".concat(i.email?"border-red-500 focus:ring-red-500":""),placeholder:"Enter your admin email"}),i.email&&(0,Me.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Me.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>n(e.target.value),className:"input-field ".concat(i.password?"border-red-500 focus:ring-red-500":""),placeholder:"Enter your password"}),i.password&&(0,Me.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.password})]}),(0,Me.jsx)("button",{type:"submit",disabled:s,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Me.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Me.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In as Admin"})]})]})})},Zl=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)("certificates"),s=se();(0,a.useEffect)(()=>{t([])},[]);return(0,Me.jsxs)(Qi,{activeSection:r,setActiveSection:n,children:[(0,Me.jsxs)("button",{onClick:()=>{n("dashboard"),s("/dashboard")},className:"mb-4 flex items-center text-indigo-600 hover:text-indigo-900 font-semibold",children:[(0,Me.jsx)("span",{style:{fontSize:"1.5rem",marginRight:"0.5rem"},children:"\u2190"})," Back to Dashboard"]}),(0,Me.jsxs)("div",{className:"max-w-3xl mx-auto mt-2 p-6 bg-white rounded-2xl shadow-2xl",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ef 100%)"},children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Certificate Dashboard"}),(0,Me.jsx)("p",{className:"mb-8 text-center text-gray-600",children:"Track your course progress and see your results. Certificates are only available after completing all lessons in a course."}),(0,Me.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,Me.jsxs)("div",{className:"p-6 rounded-xl bg-white shadow-lg flex flex-col md:flex-row md:items-center justify-between border border-gray-200",style:{boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.17)",background:"linear-gradient(135deg, #f0f4fa 0%, #e9eef6 100%)"},children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-xl font-semibold mb-2",children:e.title}),(0,Me.jsxs)("div",{className:"text-gray-700 mb-1",children:["Progress: ",e.completedLessons," / ",e.totalLessons," lessons"]}),(0,Me.jsxs)("div",{className:"text-gray-700 mb-1",children:["Status: ",e.isCompleted?(0,Me.jsx)("span",{className:"text-green-600 font-semibold",children:"Completed"}):(0,Me.jsx)("span",{className:"text-yellow-600 font-bold",children:"In Progress"})]})]}),(0,Me.jsx)("div",{className:"mt-4 md:mt-0",children:e.isCompleted?(0,Me.jsx)("button",{className:"px-6 py-2 rounded-lg bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold shadow-md hover:scale-105 transition-transform",onClick:()=>{return t=e.id,void s("/certificate/".concat(t));var t},children:"View Certificate"}):(0,Me.jsx)("span",{className:"px-6 py-2 rounded-lg bg-gray-200 text-gray-500 font-semibold",children:"Not Available"})})]},e.id))}),(0,Me.jsx)("div",{className:"certificate-board mt-8",children:(0,Me.jsx)(il,{studentName:"Student Name",courseTitle:"Course Title",date:(new Date).toLocaleDateString(),certificateId:"CERT-123456"})})]})]})},ec=()=>(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-100 to-indigo-100 py-10",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold mb-8 text-indigo-700",children:"Certificate Preview"}),(0,Me.jsx)(il,{studentName:"Jedi Ark",courseTitle:"Digital Marketing Mastery",date:"[Certificate Date]",certificateId:"TTAC-2023-0001"})]}),tc=async e=>await hi("/notifications?userId=".concat(e)),rc=async e=>await mi("/notifications/".concat(e,"/read")),nc=e=>{let{userId:t}=e;const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&tc(t).then(e=>{n(Array.isArray(e)?e:[])}).catch(e=>{console.error("Failed to fetch notifications:",e),n([])})},[t]);const i=r.filter(e=>!e.read).length;return(0,Me.jsxs)("div",{className:"relative inline-block",children:[(0,Me.jsxs)("button",{className:"relative",onClick:()=>o(!s),"aria-label":"Notifications",children:[(0,Me.jsx)("span",{className:"text-2xl",children:"\ud83d\udd14"}),i>0&&(0,Me.jsx)("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:i})]}),s&&(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white border rounded shadow-lg z-50 max-h-96 overflow-y-auto",children:[(0,Me.jsx)("div",{className:"p-3 border-b font-semibold",children:"Notifications"}),0===r.length?(0,Me.jsx)("div",{className:"p-4 text-gray-500",children:"No notifications"}):(0,Me.jsx)("ul",{children:r.map(e=>(0,Me.jsxs)("li",{className:"p-3 border-b last:border-b-0 flex items-start gap-2 ".concat(e.read?"bg-gray-50":"bg-blue-50"),children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("div",{className:"font-medium",children:e.message}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleString()}),e.link&&(0,Me.jsx)("a",{href:e.link,className:"text-blue-600 text-xs underline",children:"View"})]}),!e.read&&(0,Me.jsx)("button",{className:"ml-2 text-xs text-blue-600 hover:underline",onClick:()=>(async e=>{try{await rc(e),n(t=>t.map(t=>t._id===e?He(He({},t),{},{read:!0}):t))}catch(t){console.error("Failed to mark notification as read:",t)}})(e._id),children:"Mark as read"})]},e._id))})]})]})},sc=()=>{const[e,t]=(0,a.useState)([{id:1,text:"Hi! I'm Trendy, your friendly customer service assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)([]),m=(0,a.useRef)(null),p=["Web Development","App Development","Digital Marketing (Content Creation, Email Marketing, Social Media, and Facebook Ads)"];(0,a.useEffect)(()=>{(()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[e]),(0,a.useEffect)(()=>{(async()=>{try{const e=await ml.initialize();l(e),e&&f("I'm now powered by advanced AI! I can help answer your questions about our courses and services.")}catch(e){console.error("Failed to initialize Puter.js:",e)}})()},[]);const f=e=>{const r={id:Date.now(),text:e,sender:"bot",timestamp:new Date};t(e=>[...e,r]),h(t=>[...t,{role:"assistant",content:e}])},g=e=>{const r={id:Date.now(),text:e,sender:"error",timestamp:new Date};t(e=>[...e,r])},x=async()=>{if(!r.trim())return;const e={id:Date.now(),text:r,sender:"user",timestamp:new Date};t(t=>[...t,e]),h(e=>[...e,{role:"user",content:r}]);const s=r;n(""),o(!0);try{if(i)try{const e=await ml.processConversation(u,s),r={id:Date.now()+1,text:e,sender:"bot",timestamp:new Date};t(e=>[...e,r]),h(t=>[...t,{role:"assistant",content:e}])}catch(a){console.error("AI processing error:",a),g("Sorry, I'm having trouble processing that right now. Please try again.")}else{const e=s.toLowerCase();let r="";if(e.includes("hello")||e.includes("hi")||e.includes("hey"))r="Hello there! I'm Trendy, your customer service assistant. How can I help you today?";else if(e.includes("course")||e.includes("learn")){const e=p.map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n");r="We offer these amazing courses:\n".concat(e,"\nYou can browse all courses on our Courses page. Would you like me to tell you more about any specific course?")}else r=e.includes("web development")?"Our Web Development course covers HTML, CSS, JavaScript, React, and more. You can find it on our Courses page. Would you like me to direct you there?":e.includes("app development")?"Our App Development course teaches you to build mobile apps for iOS and Android using React Native. You can find it on our Courses page. Would you like me to direct you there?":e.includes("digital marketing")?"Our Digital Marketing course covers Content Creation, Email Marketing, Social Media, and Facebook Ads. You can find it on our Courses page. Would you like me to direct you there?":e.includes("price")||e.includes("cost")||e.includes("fee")?"Our courses start at $99. Premium packages are available for $199. You can view all pricing options on our Courses page.":e.includes("thank")?"You're welcome! Is there anything else I can help you with?":e.includes("contact")||e.includes("support")?"You can reach our support team at support@trendtactics.com or call us at (555) 123-4567. We're available Monday-Friday, 9 AM to 5 PM EST.":"I'm here to help! You can ask me about our courses:\n- Web Development\n- App Development\n- Digital Marketing\n\nOr I can help you navigate our platform. What would you like to know?";const n={id:Date.now()+1,text:r,sender:"bot",timestamp:new Date};t(e=>[...e,n]),h(e=>[...e,{role:"assistant",content:r}])}}catch(a){console.error("Error processing message:",a),g("Sorry, I encountered an error processing your request. Please try again.")}finally{o(!1)}},b=()=>{d(!c)};return c?(0,Me.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 w-80 h-96 flex flex-col",children:[(0,Me.jsxs)("div",{className:"bg-brand-cyan text-white p-4 rounded-t-xl flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-brand-cyan font-bold text-lg",children:"T"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold",children:"Trendy Assistant"}),(0,Me.jsxs)("p",{className:"text-xs text-cyan-100",children:["Customer Service ",i?"\u2728 AI-Powered":""]})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{t([{id:Date.now(),text:"Hi again! I'm Trendy, your customer service assistant. How can I help you today?",sender:"bot",timestamp:new Date}]),h([])},className:"text-cyan-100 hover:text-white transition-colors","aria-label":"Clear conversation",children:(0,Me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Me.jsx)("button",{onClick:b,className:"text-cyan-100 hover:text-white transition-colors","aria-label":"Minimize chat",children:(0,Me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})})]})]}),(0,Me.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-50",children:[e.map(e=>(0,Me.jsx)("div",{className:"mb-3 flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,Me.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.sender?"bg-brand-cyan text-white rounded-br-none":"error"===e.sender?"bg-red-100 text-red-800 border border-red-200 rounded-bl-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"),children:[(0,Me.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.text}),(0,Me.jsx)("p",{className:"text-xs mt-1 ".concat("user"===e.sender?"text-cyan-100":"error"===e.sender?"text-red-600":"text-gray-500"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),s&&(0,Me.jsx)("div",{className:"flex justify-start mb-3",children:(0,Me.jsx)("div",{className:"bg-white text-gray-800 border border-gray-200 rounded-lg rounded-bl-none px-4 py-2",children:(0,Me.jsxs)("div",{className:"flex space-x-1",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-75"}),(0,Me.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-150"})]})})}),(0,Me.jsx)("div",{ref:m})]}),(0,Me.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())},placeholder:"Ask me about our courses or services...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-brand-cyan focus:border-transparent",rows:"2"}),(0,Me.jsx)("button",{onClick:x,disabled:s||!r.trim(),className:"bg-brand-cyan text-white rounded-lg px-4 py-2 hover:bg-brand-navy transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Me.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Customer Service Assistant"})]})]})}):(0,Me.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,Me.jsx)("button",{onClick:b,className:"bg-brand-cyan text-white rounded-full p-3 shadow-lg hover:bg-brand-navy transition-colors","aria-label":"Open Trendy Assistant",children:(0,Me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})})},ac=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)({name:"",expertise:"Beginner",experience:"0-1 years"}),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(null),[f,g]=(0,a.useState)("topic"),[x,b]=(0,a.useState)(null),v=e=>{const t=e.toLowerCase();return t.includes("web")||t.includes("html")||t.includes("css")||t.includes("javascript")||t.includes("react")?"Web Development":t.includes("app")||t.includes("mobile")||t.includes("android")||t.includes("ios")?"App Development":t.includes("market")||t.includes("social")||t.includes("seo")||t.includes("ads")?"Digital Marketing":"General"};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Me.jsxs)("div",{className:"text-center mb-12",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Create REAL Courses with Trendy"}),(0,Me.jsx)("p",{className:"text-lg text-gray-600",children:"Design professional courses that students will ACTUALLY TAKE - integrated directly with Supabase"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Course Creator for Instructors"}),(0,Me.jsx)("button",{onClick:()=>{t(""),n(""),l([]),h(""),p(null),g("topic"),b(null),d({name:"",expertise:"Beginner",experience:"0-1 years"})},className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Clear All"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),(0,Me.jsx)("input",{type:"text",value:c.name,onChange:e=>d(He(He({},c),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan",placeholder:"Enter your name"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expertise Level"}),(0,Me.jsxs)("select",{value:c.expertise,onChange:e=>d(He(He({},c),{},{expertise:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan",children:[(0,Me.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,Me.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,Me.jsx)("option",{value:"Advanced",children:"Advanced"}),(0,Me.jsx)("option",{value:"Expert",children:"Expert"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teaching Experience"}),(0,Me.jsxs)("select",{value:c.experience,onChange:e=>d(He(He({},c),{},{experience:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan",children:[(0,Me.jsx)("option",{value:"0-1 years",children:"0-1 years"}),(0,Me.jsx)("option",{value:"1-3 years",children:"1-3 years"}),(0,Me.jsx)("option",{value:"3-5 years",children:"3-5 years"}),(0,Me.jsx)("option",{value:"5+ years",children:"5+ years"})]})]})]}),(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create a Course for Students to TAKE"}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,Me.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-cyan",placeholder:"What topic would you like to create a course about?"}),(0,Me.jsx)("button",{onClick:async()=>{if(e.trim()){o(!0);try{const t=await ml.generateCourseContent(e,c);n(t),g("outline")}catch(t){console.error("Failed to generate content:",t),n("Sorry, I encountered an error generating the course content. Please try again.")}finally{o(!1)}}},disabled:s||!e.trim(),className:"px-6 py-3 bg-brand-cyan text-white font-medium rounded-lg hover:bg-brand-navy transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Generating...":"Generate Course"})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Me.jsx)("button",{onClick:async()=>{if(e.trim()){o(!0);try{const t=await ml.createDetailedCourseOutline(e,c);n(t),g("outline")}catch(t){console.error("Failed to create detailed outline:",t),n("Sorry, I encountered an error creating the course outline. Please try again.")}finally{o(!1)}}},disabled:s||!e.trim(),className:"px-4 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Detailed Outline"}),r&&"outline"===f&&(0,Me.jsx)("button",{onClick:async()=>{if(r.trim()){o(!0);try{const t=r.match(/Course Title:?\s*([^\n]+)/i),n=t?t[1].trim():e||"Untitled Course",s=r.match(/Brief Description:?\s*([^\n]+)/i),a={title:n,description:s?s[1].trim():"Comprehensive course on ".concat(e),category:v(e),level:c.expertise,duration:"4 weeks",objectives:[],prerequisites:[]},o=await vi.createCourse(a);b(o),p(o.id);const i={id:Date.now(),text:'\u2705 Course "'.concat(n,'" has been saved to Supabase!\nCourse ID: ').concat(o.id,"\nStatus: ").concat(o.status,"\n\nStudents will be able to access this course when they enroll."),sender:"system",timestamp:new Date};l(e=>[...e,i]),g("modules")}catch(t){console.error("Failed to save to Supabase:",t);const e={id:Date.now(),text:"\u274c Failed to save course to Supabase: ".concat(t.message,"\n\nPlease check your Supabase configuration and try again."),sender:"system",timestamp:new Date};l(t=>[...t,e])}finally{o(!1)}}},disabled:s,className:"px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save to Supabase"}),m&&"modules"===f&&(0,Me.jsx)("button",{onClick:async()=>{if(m){o(!0);try{const e=[{title:"Introduction",description:"Getting started with the course",duration:"1 week"},{title:"Fundamentals",description:"Core concepts and principles",duration:"1 week"},{title:"Intermediate Topics",description:"Building on the basics",duration:"1 week"},{title:"Advanced Concepts",description:"Expert-level material",duration:"1 week"},{title:"Practical Application",description:"Real-world projects",duration:"1 week"}],t=await vi.createModules(m,e),r={id:Date.now(),text:"\u2705 ".concat(t.length," modules have been created for your course in Supabase!\n\nStudents will progress through these modules sequentially when taking the course."),sender:"system",timestamp:new Date};l(e=>[...e,r]),g("publish")}catch(e){console.error("Failed to create modules:",e);const t={id:Date.now(),text:"\u274c Failed to create modules in Supabase: ".concat(e.message,"\n\nPlease try again."),sender:"system",timestamp:new Date};l(e=>[...e,t])}finally{o(!1)}}},disabled:s,className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Modules"}),m&&"publish"===f&&(0,Me.jsx)("button",{onClick:async()=>{if(m){o(!0);try{const e=await vi.publishCourse(m),t={id:Date.now(),text:'\ud83c\udf89 Your course "'.concat(e.title,'" has been successfully published!\n\nStudents can now enroll and start learning. The course is live and accessible through the course catalog.'),sender:"system",timestamp:new Date};l(e=>[...e,t]),g("complete"),b(e)}catch(e){console.error("Failed to publish course:",e);const t={id:Date.now(),text:"\u274c Failed to publish course: ".concat(e.message,"\n\nPlease try again."),sender:"system",timestamp:new Date};l(e=>[...e,t])}finally{o(!1)}}},disabled:s,className:"px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Publish Course"}),r&&(0,Me.jsx)("button",{onClick:async()=>{if(r.trim()&&e.trim()){o(!0);try{const e=await ml.processFeedback(r,u);n(e),h("");const t={id:Date.now(),text:"\u2705 Your feedback has been incorporated into the course content!",sender:"system",timestamp:new Date};l(e=>[...e,t])}catch(t){console.error("Failed to process feedback:",t),n(r+"\n\n[Sorry, I had trouble processing your feedback. Please try rephrasing.]")}finally{o(!1)}}},disabled:s||!u.trim(),className:"px-4 py-2 bg-yellow-600 text-white font-medium rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Improve Content"})]})]}),i.length>0&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"System Updates"}),(0,Me.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,Me.jsx)("div",{className:"p-4 rounded-lg ".concat("system"===e.sender?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"),children:(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium ".concat("system"===e.sender?"text-green-700":"text-gray-700"),children:"system"===e.sender?"\u2705 System":"Trendy"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:e.text})]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id))})]}),x&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Course Status"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Me.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,Me.jsx)("div",{className:"text-sm text-blue-800",children:"Course Title"}),(0,Me.jsx)("div",{className:"font-medium",children:x.title})]}),(0,Me.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Me.jsx)("div",{className:"text-sm text-green-800",children:"Status"}),(0,Me.jsx)("div",{className:"font-medium capitalize",children:x.status})]}),(0,Me.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,Me.jsx)("div",{className:"text-sm text-purple-800",children:"Course ID"}),(0,Me.jsxs)("div",{className:"font-mono text-sm",children:[x.id.substring(0,8),"..."]})]})]})]}),r&&(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Generated Course Content"}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)("button",{onClick:()=>navigator.clipboard.writeText(r),className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Copy"}),(0,Me.jsx)("button",{onClick:()=>n(""),className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Clear"})]})]}),(0,Me.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg whitespace-pre-wrap text-gray-800 border border-gray-200 mb-4",children:r}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How can we improve this content?"}),(0,Me.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand-cyan",rows:"3",placeholder:"e.g., Add more examples, Focus on beginner level, Include hands-on projects..."})]})]}),(0,Me.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"How This Creates REAL Courses"}),(0,Me.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-blue-800",children:[(0,Me.jsx)("li",{children:"Generate professional course content with AI assistance"}),(0,Me.jsx)("li",{children:"Save courses directly to your Supabase database"}),(0,Me.jsx)("li",{children:"Create structured modules and lessons for students"}),(0,Me.jsx)("li",{children:"Publish courses for students to enroll and take"}),(0,Me.jsx)("li",{children:"All content becomes REAL courses students can access"})]}),(0,Me.jsx)("div",{className:"mt-4 p-4 bg-green-50 rounded-lg border border-green-200",children:(0,Me.jsxs)("p",{className:"text-green-800 text-sm",children:[(0,Me.jsx)("strong",{children:"\u2705 Real Integration:"})," This tool connects to your Supabase backend to create actual courses that students can take, not just demos!"]})})]})]})})};const oc=function(){const[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!0),c=se();return(0,a.useEffect)(()=>{(async()=>{try{l(!0);const e=await zs();if(t(e),e&&"admin"===e.role){const e=window.location.pathname;"/dashboard"!==e&&"/"!==e||c("/admin",{replace:!0})}if(e&&"student"===e.role){"/admin"===window.location.pathname&&c("/dashboard",{replace:!0})}}catch(e){console.error("Error checking authentication:",e)}finally{l(!1)}})()},[]),(0,Me.jsxs)("div",{className:"App min-h-screen flex flex-col",children:[(0,Me.jsx)(Ue,{user:e,onLogin:()=>{n(!0)},onSignup:()=>{o(!0)},onLogout:async()=>{await Us(),t(null),localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/login"}}),e&&(0,Me.jsx)("div",{className:"absolute top-4 right-8 z-50",children:(0,Me.jsx)(nc,{userId:e._id})}),(0,Me.jsx)("main",{className:"flex-grow",children:(0,Me.jsxs)(ke,{children:[(0,Me.jsx)(we,{path:"/",element:(0,Me.jsx)(yi,{})}),(0,Me.jsx)(we,{path:"/about",element:(0,Me.jsx)(Oi,{})}),(0,Me.jsx)(we,{path:"/courses",element:(0,Me.jsx)(Ri,{})}),(0,Me.jsx)(we,{path:"/course/:id",element:(0,Me.jsx)(Nl,{})}),(0,Me.jsx)(we,{path:"/course/:id/lesson/:lessonId",element:(0,Me.jsx)(kl,{})}),(0,Me.jsx)(we,{path:"/course/:id/module-quiz",element:(0,Me.jsx)(Sl,{})}),(0,Me.jsx)(we,{path:"/dashboard",element:(0,Me.jsx)(wl,{})}),(0,Me.jsx)(we,{path:"/profile",element:(0,Me.jsx)(el,{user:e})}),(0,Me.jsx)(we,{path:"/contact",element:(0,Me.jsx)(Il,{})}),(0,Me.jsx)(we,{path:"/my-courses",element:(0,Me.jsx)(Dl,{})}),(0,Me.jsx)(we,{path:"/my-courses/:courseId",element:(0,Me.jsx)(Ml,{})}),(0,Me.jsx)(we,{path:"/planner",element:(0,Me.jsx)(ol,{user:e})}),(0,Me.jsx)(we,{path:"/ai-tutor",element:e?(0,Me.jsx)(vl,{userId:e._id}):(0,Me.jsx)(vl,{userId:"demo-user"})}),(0,Me.jsx)(we,{path:"/test-ai",element:(0,Me.jsx)(Bl,{})}),(0,Me.jsx)(we,{path:"/test-planner",element:(0,Me.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Me.jsx)("h1",{children:"Test Planner Route Works!"}),(0,Me.jsx)("p",{children:"This is a simple test to verify routing is working."})]})}),(0,Me.jsx)(we,{path:"/diagnostic",element:(0,Me.jsx)(Ul,{})}),(0,Me.jsx)(we,{path:"/simple-test",element:(0,Me.jsx)(zl,{})}),(0,Me.jsx)(we,{path:"/network-test",element:(0,Me.jsx)(Fl,{})}),(0,Me.jsx)(we,{path:"/admin",element:e&&"admin"!==e.role?(0,Me.jsx)(ye,{to:"/dashboard",replace:!0}):(0,Me.jsx)(Yl,{user:e})}),(0,Me.jsx)(we,{path:"/admin-login",element:(0,Me.jsx)(Xl,{})}),(0,Me.jsx)(we,{path:"/login",element:(0,Me.jsx)(Ql,{})}),(0,Me.jsx)(we,{path:"/certificates",element:(0,Me.jsx)(Zl,{})}),(0,Me.jsx)(we,{path:"/certificate-preview",element:(0,Me.jsx)(ec,{})}),(0,Me.jsx)(we,{path:"/course-creator",element:(0,Me.jsx)(ac,{})}),(0,Me.jsx)(we,{path:"/conversational-course-test",element:(0,Me.jsx)(ql,{})}),(0,Me.jsx)(we,{path:"/conversational-demo",element:(0,Me.jsx)(Vl,{})}),(0,Me.jsx)(we,{path:"/super-intelligent-demo",element:(0,Me.jsx)(Kl,{})}),(0,Me.jsx)(we,{path:"/function-calling-demo",element:(0,Me.jsx)($l,{})}),(0,Me.jsx)(we,{path:"*",element:(0,Me.jsx)(jl,{})})]})}),(0,Me.jsx)(ze,{}),(0,Me.jsx)(Ds,{isOpen:r||s,onClose:()=>{n(!1),o(!1)},onAuthSuccess:e=>{t(e),n(!1),o(!1),"admin"===e.role?c("/admin"):c("/dashboard")}}),(0,Me.jsx)(sc,{})]})};var ic=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},lc=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};!function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},e(t)}}();const cc=async e=>{if(e&&e instanceof Function)try{const{getCLS:t,getFID:n,getFCP:s,getLCP:a,getTTFB:o}=await r.e(453).then(r.bind(r,453));t(e),n(e),s(e),a(e),o(e)}catch(t){console.warn("Failed to load web-vitals:",t)}};i.createRoot(document.getElementById("root")).render((0,Me.jsx)(a.StrictMode,{children:(0,Me.jsx)(Re,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Me.jsx)(oc,{})})})),cc()})();
//# sourceMappingURL=main.c00bcb01.js.map