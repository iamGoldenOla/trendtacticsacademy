<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Page Not Found</title>
    <script>
        // Routing fix implemented: 2025-12-28
        // Get the requested path
        const requestedPath = location.pathname;
        
        // Prevent redirect loops by checking if we're on the 404 page itself
        if (requestedPath.includes('404.html')) {
            // If somehow we're on the 404 page, redirect to home
            location.replace('/index.html');
            throw new Error('Redirecting from 404.html to prevent loops');
        }
        
        // Define the mapping of paths to HTML files
        const pathMap = {
            '/': '/index.html',
            '/about': '/about.html',
            '/services': '/services.html',
            '/courses': '/courses.html',
            '/contact': '/contact.html',
            '/dashboard': '/dashboard.html',
            '/playground': '/playground.html',
            '/whiteboard': '/whiteboard.html',
            '/ai-assistant': '/ai-assistant.html',
            '/signup': '/signup.html',
            '/login': '/login.html',
            '/blog': '/blog.html'
        };
        
        // Check if the requested path has a corresponding HTML file
        if (pathMap[requestedPath]) {
            // Redirect to the appropriate HTML file
            location.replace(pathMap[requestedPath]);
        } else {
            // Handle dynamic routes
            const path = requestedPath;
            if (path.startsWith('/course/')) {
                // Course detail page - preserve the slug in the URL as a query parameter
                const parts = path.split('/').filter(part => part !== '');
                if (parts.length >= 2 && parts[0] === 'course') {
                    const slug = parts[1];
                    location.replace('/course.html?slug=' + encodeURIComponent(slug));
                } else {
                    location.replace('/courses.html');
                }
            } else if (path.startsWith('/learn/')) {
                // Learn page - preserve the course ID in the URL as a query parameter
                const parts = path.split('/').filter(part => part !== '');
                if (parts.length >= 2 && parts[0] === 'learn') {
                    const courseId = parts[1];
                    location.replace('/learn.html?id=' + encodeURIComponent(courseId));
                } else {
                    location.replace('/dashboard.html');
                }
            } else if (path.startsWith('/lesson-viewer')) {
                // Lesson viewer page - redirect to learn as fallback
                location.replace('/learn.html');
            } else {
                // For any other unknown paths, redirect to home
                location.replace('/index.html');
            }
        }
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
    <p>If you're not redirected automatically, follow this <a href="/index.html">link</a>.</p>
</body>
</html>