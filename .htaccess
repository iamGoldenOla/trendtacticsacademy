RewriteEngine On

# Redirect old dashboard to new dashboard
RewriteRule ^dashboard$ /new-dashboard [R=301,L]
RewriteRule ^dashboard/$ /new-dashboard [R=301,L]

# Redirect old learn to new learn
RewriteRule ^learn$ /new-learn [R=301,L]
RewriteRule ^learn/([^/]+)$ /new-learn?course_id=$1 [R=301,L]

# Ensure course details page works
RewriteRule ^course-details$ /course-details.html [L]
RewriteRule ^course/([^/]+)/?$ /course-details.html [L]

# Pass through existing files and directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ /$1 [L,QSA]