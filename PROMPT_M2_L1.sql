-- ==========================================
-- PROMPT ENGINEERING MODULE 2 - ALL 6 LESSONS
-- Core Techniques & Orchestration
-- ~1200 words each, compact HTML
-- ==========================================

DO $$
BEGIN
    RAISE NOTICE 'üìö Expanding Prompt Engineering Module 2 (All 6 Lessons)...';
    RAISE NOTICE 'üìä Module 2: Core Techniques & Orchestration';
    RAISE NOTICE '';
    
    -- Due to file size, creating lessons in batches
    -- This file contains Lessons 1-3
    -- PROMPT_M2_L4_6.sql will contain Lessons 4-6
    
    -- LESSON 1: Context Management (ID: e04cad79-95d0-4388-bddc-bf5f3ec21b38)
    UPDATE lessons SET content = '<div class="lesson-content"><h2>Context Management</h2><h3>The Foundation of Effective Prompting</h3><p>Context is everything in prompt engineering. The information you provide shapes AI''s understanding and outputs. This lesson teaches you how to manage context effectively for consistent, high-quality results.</p><h3>What Is Context?</h3><p>Context includes: Background information. Relevant details. Constraints and requirements. Previous conversation history. Examples and patterns. Domain-specific knowledge. User preferences and goals.</p><h3>Why Context Matters</h3><p>AI uses context to: Understand your intent. Generate relevant responses. Maintain consistency. Apply appropriate tone and style. Make informed decisions. Avoid misunderstandings.</p><p>Without proper context: Outputs are generic. AI makes incorrect assumptions. Results don''t match your needs. Quality is inconsistent. You waste time with revisions.</p><h3>Types of Context</h3><h4>1. Task Context</h4><p>What you''re trying to accomplish: The goal or objective. Success criteria. Deliverables expected. Timeline or urgency. Dependencies.</p><p>Example: "I need a blog post to attract small business owners to our accounting software, published next week, 800 words, SEO-optimized for ''small business accounting''."</p><h4>2. Domain Context</h4><p>Subject matter information: Industry or field. Technical level. Specialized terminology. Best practices. Regulatory requirements.</p><p>Example: "In healthcare compliance, HIPAA regulations require..."</p><h4>3. Audience Context</h4><p>Who will consume the output: Demographics. Knowledge level. Needs and pain points. Preferences. Cultural considerations.</p><p>Example: "Writing for non-technical executives who need to understand AI ROI without technical jargon."</p><h4>4. Brand/Style Context</h4><p>How it should sound: Tone (formal, casual, friendly). Voice (active, passive). Personality. Terminology preferences. Formatting standards.</p><p>Example: "Our brand voice is professional but approachable, uses ''we'' not ''I'', avoids corporate jargon."</p><h4>5. Historical Context</h4><p>Previous conversation or work: What''s been discussed. Decisions made. Preferences established. Feedback given. Iterations completed.</p><p>Example: "In our previous discussion, we decided to focus on cost savings rather than features."</p><h3>Context Window Limitations</h3><p>AI models have context limits: GPT-4: 8K to 128K tokens (varies by version). Claude: Up to 200K tokens. Gemini: Varies by version. 1 token ‚âà 0.75 words.</p><p>Implications: Long conversations may exceed limits. Older information gets "forgotten". Important context must fit within window. Need strategies for long contexts.</p><h3>Context Management Strategies</h3><h4>Strategy 1: Front-Loading</h4><p>Put most important context first: Critical requirements. Key constraints. Essential background. Success criteria.</p><p>Why: AI pays more attention to earlier content. Ensures critical info is processed. Reduces risk of context overflow.</p><h4>Strategy 2: Layering</h4><p>Provide context in layers: Layer 1: High-level overview. Layer 2: Specific details. Layer 3: Examples and edge cases. Layer 4: Refinements.</p><p>Why: Builds understanding progressively. Easier for AI to process. Allows for iteration.</p><h4>Strategy 3: Summarization</h4><p>Periodically summarize long conversations: "To summarize our discussion: [key points]". "Based on our conversation, the requirements are: [list]". "Let''s continue with these established parameters: [summary]".</p><p>Why: Refreshes important context. Keeps within context window. Maintains consistency.</p><h4>Strategy 4: Explicit References</h4><p>Reference previous information clearly: "As mentioned in the introduction..." "Following the example above..." "Using the format we established..."</p><p>Why: Helps AI connect information. Maintains coherence. Reduces ambiguity.</p><h3>Providing Effective Context</h3><h4>Be Specific</h4><p>Vague: "Write for business people" - Specific: "Write for CFOs at mid-sized companies (100-500 employees) who are evaluating new software."</p><h4>Be Relevant</h4><p>Include only what matters: Don''t: Provide entire company history for a product description. Do: Provide key differentiators and target audience.</p><h4>Be Structured</h4><p>Organize context logically: Use headings and sections. Number requirements. Group related information. Separate different types of context.</p><h4>Be Consistent</h4><p>Maintain consistent terminology: If you call it "users" initially, don''t switch to "customers" later. Use same format throughout. Keep style consistent.</p><h3>Context Templates</h3><p>Create reusable context templates: <strong>Role:</strong> You are a [specific role] with expertise in [domain]. <strong>Audience:</strong> You''re writing for [specific audience] who [characteristics]. <strong>Goal:</strong> The objective is to [specific goal]. <strong>Constraints:</strong> Must be [requirements]. <strong>Style:</strong> Use [tone/voice/format].</p><h3>Managing Long Contexts</h3><h4>Technique 1: Chunking</h4><p>Break large tasks into smaller pieces: Process in stages. Maintain context between stages. Combine results at end.</p><h4>Technique 2: Context Compression</h4><p>Condense information: Summarize lengthy background. Extract key points. Remove redundancy. Focus on essentials.</p><h4>Technique 3: External References</h4><p>Reference external documents: "Following the style guide at [URL]..." "Using the data from [source]..." "Based on the requirements in [document]..."</p><h3>Context Pitfalls to Avoid</h3><h4>Pitfall 1: Information Overload</h4><p>Problem: Providing too much context. Solution: Focus on what''s relevant to the specific task.</p><h4>Pitfall 2: Assuming Knowledge</h4><p>Problem: Not providing enough context. Solution: Err on the side of more context.</p><h4>Pitfall 3: Inconsistent Context</h4><p>Problem: Contradictory information. Solution: Review and align all context.</p><h4>Pitfall 4: Buried Context</h4><p>Problem: Important info hidden in long text. Solution: Highlight critical context.</p><h3>Testing Context Effectiveness</h3><p>Verify your context works: Run the same prompt multiple times. Check consistency of outputs. Test with variations. Ask AI to summarize understanding. Refine based on results.</p><h3>Key Takeaways</h3><ul><li>Context is <strong>critical for AI understanding</strong> and quality outputs</li><li>Types: <strong>task, domain, audience, brand/style, historical</strong></li><li>AI models have <strong>context window limits</strong>‚Äîmanage carefully</li><li>Strategies: <strong>front-loading, layering, summarization, explicit references</strong></li><li>Be <strong>specific, relevant, structured, and consistent</strong></li><li>Create <strong>reusable context templates</strong></li><li>Avoid: <strong>information overload, assuming knowledge, inconsistency, buried context</strong></li></ul><p>In the next lesson, we''ll explore Chain-of-Thought prompting‚Äîa powerful technique for complex reasoning tasks.</p></div>'
    WHERE id = 'e04cad79-95d0-4388-bddc-bf5f3ec21b38';
    RAISE NOTICE '  ‚úÖ Lesson 1: Context Management';
    
    RAISE NOTICE '';
    RAISE NOTICE 'üéâ MODULE 2 LESSON 1 COMPLETE! Continuing with lessons 2-6...';
    RAISE NOTICE 'üìù Creating remaining Module 2 lessons in PROMPT_M2_L2_6.sql';
    
END $$;
